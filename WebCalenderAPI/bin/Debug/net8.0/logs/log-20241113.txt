{"Timestamp":"2024-11-13T08:57:00.2727195+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-13T08:57:00.7568410+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:00.8163676+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:00.8178687+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:00.8190091+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:02.0344899+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f88466a798a7c77c7dceb080a46a0f9c","SpanId":"d0b1e77a0da95d63","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDI0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83GPRBRDI0"}}
{"Timestamp":"2024-11-13T08:57:02.7584467+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f88466a798a7c77c7dceb080a46a0f9c","SpanId":"d0b1e77a0da95d63","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":130.312,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"130.3120"}]}}
{"Timestamp":"2024-11-13T08:57:02.7873237+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6980192bc5d7b366e70bc9f9f0450c1","SpanId":"6351e291285c32fd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDHV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83GPRBRDHV"}}
{"Timestamp":"2024-11-13T08:57:02.7873235+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"feebdaf70bcb470adb15aa767465124c","SpanId":"9e4aaeb3298921cf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDI1:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83GPRBRDI1"}}
{"Timestamp":"2024-11-13T08:57:02.8011067+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6980192bc5d7b366e70bc9f9f0450c1","SpanId":"6351e291285c32fd","Properties":{"ElapsedMilliseconds":11.0649,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDHV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83GPRBRDHV"}}
{"Timestamp":"2024-11-13T08:57:02.8063723+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f88466a798a7c77c7dceb080a46a0f9c","SpanId":"d0b1e77a0da95d63","Properties":{"ElapsedMilliseconds":790.9931,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDI0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83GPRBRDI0"}}
{"Timestamp":"2024-11-13T08:57:02.8790708+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"feebdaf70bcb470adb15aa767465124c","SpanId":"9e4aaeb3298921cf","Properties":{"ElapsedMilliseconds":91.9393,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDI1:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83GPRBRDI1"}}
{"Timestamp":"2024-11-13T08:57:02.9275761+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"324b5b828d85cb1b0f9ac358cad0068e","SpanId":"2cafaf8053c39374","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDI1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83GPRBRDI1"}}
{"Timestamp":"2024-11-13T08:57:03.1802899+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"324b5b828d85cb1b0f9ac358cad0068e","SpanId":"2cafaf8053c39374","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":249.0349,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"249.0349"}]}}
{"Timestamp":"2024-11-13T08:57:03.1828801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"324b5b828d85cb1b0f9ac358cad0068e","SpanId":"2cafaf8053c39374","Properties":{"ElapsedMilliseconds":255.321,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GPRBRDI1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83GPRBRDI1"}}
{"Timestamp":"2024-11-13T08:57:25.0833320+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-13T08:57:25.4470765+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:25.6197342+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:25.8597843+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:25.8610667+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T08:57:25.9450701+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"76d5d0577d9430d9d091593598776c85","SpanId":"665843a9ff8626ef","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNK:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83GQ2LTTNK"}}
{"Timestamp":"2024-11-13T08:57:26.5828545+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"76d5d0577d9430d9d091593598776c85","SpanId":"665843a9ff8626ef","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":304.2358,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"304.2358"}]}}
{"Timestamp":"2024-11-13T08:57:26.6715494+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6dee9abed359e315fa254a3c8c3d6ac7","SpanId":"4302fb19f3350543","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNJ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83GQ2LTTNJ"}}
{"Timestamp":"2024-11-13T08:57:26.6965701+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fd69dff012cfc8fcdbac35cb1cefbc3","SpanId":"3603ca8351576465","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNL:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83GQ2LTTNL"}}
{"Timestamp":"2024-11-13T08:57:26.8468220+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6dee9abed359e315fa254a3c8c3d6ac7","SpanId":"4302fb19f3350543","Properties":{"ElapsedMilliseconds":174.9572,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNJ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83GQ2LTTNJ"}}
{"Timestamp":"2024-11-13T08:57:26.8475472+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"76d5d0577d9430d9d091593598776c85","SpanId":"665843a9ff8626ef","Properties":{"ElapsedMilliseconds":931.8992,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNK:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83GQ2LTTNK"}}
{"Timestamp":"2024-11-13T08:57:26.8914604+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fd69dff012cfc8fcdbac35cb1cefbc3","SpanId":"3603ca8351576465","Properties":{"ElapsedMilliseconds":194.8991,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNL:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83GQ2LTTNL"}}
{"Timestamp":"2024-11-13T08:57:26.9540665+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"582c643d2edcaf4e104ce7e2c0c9468c","SpanId":"c639cbe33700a72b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNL:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83GQ2LTTNL"}}
{"Timestamp":"2024-11-13T08:57:27.1303464+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"582c643d2edcaf4e104ce7e2c0c9468c","SpanId":"c639cbe33700a72b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":161.7123,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"161.7123"}]}}
{"Timestamp":"2024-11-13T08:57:27.1331493+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"582c643d2edcaf4e104ce7e2c0c9468c","SpanId":"c639cbe33700a72b","Properties":{"ElapsedMilliseconds":179.2555,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNL:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83GQ2LTTNL"}}
{"Timestamp":"2024-11-13T09:18:30.8450955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:30.8628940+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:30.9522747+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:30.9889657+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bab0825f-f5f8-4b01-b930-cf707ccf393a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:32.6582343+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"elapsed":"40","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bab0825f-f5f8-4b01-b930-cf707ccf393a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:32.9357559+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"elapsed":"29","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bab0825f-f5f8-4b01-b930-cf707ccf393a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:32.9632213+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bab0825f-f5f8-4b01-b930-cf707ccf393a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:32.9796907+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1976.0773,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:32.9824331+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:32.9887632+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2131.7284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2131.7284"}]}}
{"Timestamp":"2024-11-13T09:18:33.0033980+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82f20c4712a6c4c43317e26998448cef","SpanId":"fa0f26f61a845162","Properties":{"ElapsedMilliseconds":2158.4284,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83GQ2LTTNM"}}
{"Timestamp":"2024-11-13T09:18:38.2285041+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.2341452+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.2400888+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.3599093+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.3975687+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.4072709+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.4085733+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.4801065+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.4942315+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.4967729+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":254.2641,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.4990340+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.5002852+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":267.3212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"267.3212"}]}}
{"Timestamp":"2024-11-13T09:18:38.5026326+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d2775fce42016b30f36ac04fe113216","SpanId":"3dd6237035a03916","Properties":{"ElapsedMilliseconds":274.1463,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNN"}}
{"Timestamp":"2024-11-13T09:18:38.5184222+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.5184739+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.5383795+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.5418549+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.5445751+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":132.6127,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.5465537+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.5481150+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":143.5943,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"143.5943"}]}}
{"Timestamp":"2024-11-13T09:18:38.5502643+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a02bcddcb999440379ea6cf3297780e","SpanId":"7c16ea7b12123511","Properties":{"ElapsedMilliseconds":152.7435,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNO"}}
{"Timestamp":"2024-11-13T09:18:38.5532675+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.5727086+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.5727087+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.5807901+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.5807901+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.6434971+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.6475673+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.6487172+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.6591905+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.6596972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":74.85,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.6635752+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.6653639+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":132.2578,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"132.2578"}]}}
{"Timestamp":"2024-11-13T09:18:38.6677309+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e830dc0ad9af8926f223faaa807738fd","SpanId":"f8b0c0d11a59ab7c","Properties":{"ElapsedMilliseconds":149.2992,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNP"}}
{"Timestamp":"2024-11-13T09:18:38.6698409+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":87.0855,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.6844221+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:38.6867416+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":123.9956,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"123.9956"}]}}
{"Timestamp":"2024-11-13T09:18:38.6901623+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b3bc225320652f209cd63b0756ce9368","SpanId":"8433fac659acb7a1","Properties":{"ElapsedMilliseconds":136.8939,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTNQ"}}
{"Timestamp":"2024-11-13T09:18:41.8853826+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.8897528+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.8919510+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9004017+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9079026+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9110079+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9124537+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.7307,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9135381+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9144339+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.8137,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.8137"}]}}
{"Timestamp":"2024-11-13T09:18:41.9160223+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff4c385861519558fe5db72077b060ac","SpanId":"55766897109e23d5","Properties":{"ElapsedMilliseconds":31.1443,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNR"}}
{"Timestamp":"2024-11-13T09:18:41.9184726+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9221945+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9232170+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9285709+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9318943+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9331812+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.3555,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9343651+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:41.9357679+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.9842,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.9842"}]}}
{"Timestamp":"2024-11-13T09:18:41.9373185+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d95f4b57eb842420c80c2b3023f3b2e","SpanId":"e628042c2df75e61","Properties":{"ElapsedMilliseconds":18.9321,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNS"}}
{"Timestamp":"2024-11-13T09:18:42.0801171+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.0853133+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.0910353+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.0949482+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.0957315+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.0977263+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1370480+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.1370480+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1443810+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.1486114+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1509485+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.1528916+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1542712+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.1306,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.1555739+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.9621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1566359+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.1576571+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1585594+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":67.6889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"67.6889"}]}}
{"Timestamp":"2024-11-13T09:18:42.1599227+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":65.0931,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"65.0931"}]}}
{"Timestamp":"2024-11-13T09:18:42.1621024+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8715205e3738883f7adaa883ce6e8557","SpanId":"4b8fd87ad95add50","Properties":{"ElapsedMilliseconds":82.1339,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNT"}}
{"Timestamp":"2024-11-13T09:18:42.1673456+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92397d9ba1e6934043fcdea1824f1595","SpanId":"8abf38306a4e7298","Properties":{"ElapsedMilliseconds":82.1853,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTNU"}}
{"Timestamp":"2024-11-13T09:18:42.1712892+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1734023+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.1775790+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1804706+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.1815019+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1829148+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.1867466+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1891558+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.1896181+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1921342+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.1938857+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.3304,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1996920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.1952853+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.6901,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.2011803+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.192,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1920"}]}}
{"Timestamp":"2024-11-13T09:18:42.2023693+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:42.2039112+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f9079f20a6de03f8f60cf54a0478c89","SpanId":"710cb859f246047f","Properties":{"ElapsedMilliseconds":32.8127,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTNV"}}
{"Timestamp":"2024-11-13T09:18:42.2058932+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.1293,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1293"}]}}
{"Timestamp":"2024-11-13T09:18:42.2139084+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"64100e0b8d12aaf662480d159f76ea9e","SpanId":"b0cfd6af86d64862","Properties":{"ElapsedMilliseconds":40.4864,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO0"}}
{"Timestamp":"2024-11-13T09:18:46.2216176+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2253712+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2277540+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2334414+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2387975+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2477643+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2495014+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.4263,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2508310+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2521681+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.9108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.9108"}]}}
{"Timestamp":"2024-11-13T09:18:46.2544910+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"09daa733572df6318b2fb2cda8ea7a78","SpanId":"108921c0d2a7804c","Properties":{"ElapsedMilliseconds":32.9545,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO1"}}
{"Timestamp":"2024-11-13T09:18:46.2579243+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2615707+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2629048+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2659405+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2681340+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2701654+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.5803,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2717208+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.2729303+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.7578,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.7578"}]}}
{"Timestamp":"2024-11-13T09:18:46.2747364+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b055b856dc71ecbbadd2976288323423","SpanId":"3f6877cac7d5e60b","Properties":{"ElapsedMilliseconds":16.8525,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO2"}}
{"Timestamp":"2024-11-13T09:18:46.4284230+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.4316525+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.4330983+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.4385327+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.4451487+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.4913179+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.4971798+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5029794+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.5054770+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5059971+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.5115872+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":73.2356,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.5121094+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5127930+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.5159183+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5167035+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":85.1632,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"85.1632"}]}}
{"Timestamp":"2024-11-13T09:18:46.5181693+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.9699,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5198772+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7da62b4b81492ef9bd75358c43af896e","SpanId":"1d143e9c813ca1f8","Properties":{"ElapsedMilliseconds":91.4892,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO3"}}
{"Timestamp":"2024-11-13T09:18:46.5212995+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5258624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5281103+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.9115,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9115"}]}}
{"Timestamp":"2024-11-13T09:18:46.5313694+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5329367+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af0a8665fc87808048ba49d3e6e9810c","SpanId":"1dd6bcb1538a3db8","Properties":{"ElapsedMilliseconds":94.4335,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO4"}}
{"Timestamp":"2024-11-13T09:18:46.5346248+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5367543+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5434178+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5442101+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5466689+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5479382+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5496791+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.9108,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5531500+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5552763+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.3446,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3446"}]}}
{"Timestamp":"2024-11-13T09:18:46.5557566+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5573108+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b8a5d0ddeb62e17dffc518d04e1f2fa","SpanId":"dffe9cb1d52ccaf2","Properties":{"ElapsedMilliseconds":31.4203,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO5"}}
{"Timestamp":"2024-11-13T09:18:46.5626541+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5674338+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.8803,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5692855+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:46.5709599+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":27.2488,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.2488"}]}}
{"Timestamp":"2024-11-13T09:18:46.5729847+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d9068f635114d25d9116bb6a1d1b0c8","SpanId":"b24ca9679de66126","Properties":{"ElapsedMilliseconds":36.2643,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTO6"}}
{"Timestamp":"2024-11-13T09:18:48.4290450+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4329043+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4345023+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4408220+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4451174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4477776+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4491575+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.3157,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4502034+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4510636+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.4441,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4441"}]}}
{"Timestamp":"2024-11-13T09:18:48.4525744+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d27f79a1cb06ad6ff1429f9269cc5b24","SpanId":"602dddc7f3c378f3","Properties":{"ElapsedMilliseconds":23.5852,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO7"}}
{"Timestamp":"2024-11-13T09:18:48.4548541+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4583657+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4593431+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4623370+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4643613+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4656460+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.6041,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4667778+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.4677656+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.65,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.6500"}]}}
{"Timestamp":"2024-11-13T09:18:48.4691464+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb172c75529fc9dadfd81e8b13a8782a","SpanId":"d015354ab76d5e39","Properties":{"ElapsedMilliseconds":14.3255,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTO8"}}
{"Timestamp":"2024-11-13T09:18:48.6281641+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6327134+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6341333+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6409658+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6399763+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6455848+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6478605+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6777978+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6797166+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6833192+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6846778+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6869895+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd735fb4-79a9-44b6-9d11-b3ca65e23b0f","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6881166+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":44.4428,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6892888+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.944,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6904031+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.6915961+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.6926492+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":58.6674,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"58.6674"}]}}
{"Timestamp":"2024-11-13T09:18:48.6938496+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.9633,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.9633"}]}}
{"Timestamp":"2024-11-13T09:18:48.6959126+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8f3b8c695b752ff9ac4e86be364a9530","SpanId":"64fad6c7a94ec592","Properties":{"ElapsedMilliseconds":67.7773,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTO9"}}
{"Timestamp":"2024-11-13T09:18:48.7005499+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"023010acc3eec617fa4d17409c330ad8","SpanId":"5549b83220f76e13","Properties":{"ElapsedMilliseconds":67.8137,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTOA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83GQ2LTTOA"}}
{"Timestamp":"2024-11-13T09:18:48.7017965+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7047030+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7090585+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7139408+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7118247+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7188385+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7201553+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7240422+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df984a98-aacc-40f2-9fa4-3bc0cc550604","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7248236+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7258840+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.7794,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7304011+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c27d3546-b084-4699-aeda-f1f30d87cedf","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7323139+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7341922+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.1195,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7353074+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":26.5818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.5818"}]}}
{"Timestamp":"2024-11-13T09:18:48.7368097+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:18:48.7402694+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.8457,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.8457"}]}}
{"Timestamp":"2024-11-13T09:18:48.7386068+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"77a0d9fd8460a22316f306b46a1cd913","SpanId":"634a6cfc973e8d8b","Properties":{"ElapsedMilliseconds":36.9748,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTOB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83GQ2LTTOB"}}
{"Timestamp":"2024-11-13T09:18:48.7422045+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"237a98849eecb83939630b5175f4c03c","SpanId":"e6aa80bb4bed0850","Properties":{"ElapsedMilliseconds":37.5219,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83GQ2LTTOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83GQ2LTTOC"}}
{"Timestamp":"2024-11-13T09:19:21.2001525+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-13T09:19:21.5573646+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:21.6091469+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:21.6106711+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:21.6116135+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:22.7817840+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee3ea6652015e00d888639c2f25fadd8","SpanId":"1e7e49900053dd37","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q85:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83H6B01Q85"}}
{"Timestamp":"2024-11-13T09:19:24.2176710+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee3ea6652015e00d888639c2f25fadd8","SpanId":"1e7e49900053dd37","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":227.6235,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"227.6235"}]}}
{"Timestamp":"2024-11-13T09:19:24.2192831+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"03db8498bba99018336babf6b56725fc","SpanId":"686073a16b383f59","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q86:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83H6B01Q86"}}
{"Timestamp":"2024-11-13T09:19:24.2192831+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"86a017308f3114161197c272e80da398","SpanId":"ebff05eecbc5c6c6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q87:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83H6B01Q87"}}
{"Timestamp":"2024-11-13T09:19:24.2298187+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee3ea6652015e00d888639c2f25fadd8","SpanId":"1e7e49900053dd37","Properties":{"ElapsedMilliseconds":1463.6844,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q85:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83H6B01Q85"}}
{"Timestamp":"2024-11-13T09:19:24.2298638+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"03db8498bba99018336babf6b56725fc","SpanId":"686073a16b383f59","Properties":{"ElapsedMilliseconds":10.6118,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q86:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83H6B01Q86"}}
{"Timestamp":"2024-11-13T09:19:24.3093912+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"86a017308f3114161197c272e80da398","SpanId":"ebff05eecbc5c6c6","Properties":{"ElapsedMilliseconds":90.1043,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q87:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83H6B01Q87"}}
{"Timestamp":"2024-11-13T09:19:24.4681891+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6905027ae83906bc501102d9414a67b0","SpanId":"7bf6bcc47e969fe6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q87:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83H6B01Q87"}}
{"Timestamp":"2024-11-13T09:19:24.7214646+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6905027ae83906bc501102d9414a67b0","SpanId":"7bf6bcc47e969fe6","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":237.7386,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"237.7386"}]}}
{"Timestamp":"2024-11-13T09:19:24.7251844+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6905027ae83906bc501102d9414a67b0","SpanId":"7bf6bcc47e969fe6","Properties":{"ElapsedMilliseconds":257.0483,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6B01Q87:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83H6B01Q87"}}
{"Timestamp":"2024-11-13T09:19:48.0959053+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-13T09:19:48.3975646+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:48.4555868+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:48.4567839+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:48.4576706+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-13T09:19:49.1216076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98dc67238460f06e321bebf3298a7d4e","SpanId":"a2c1b36a43f2affa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNL:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83H6J18VNL"}}
{"Timestamp":"2024-11-13T09:19:49.4069068+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"98dc67238460f06e321bebf3298a7d4e","SpanId":"a2c1b36a43f2affa","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":69.6902,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"69.6902"}]}}
{"Timestamp":"2024-11-13T09:19:49.4322719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe1cea12fb76deb79f87980189fa6268","SpanId":"ccd8bdac4ca73109","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNK:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83H6J18VNK"}}
{"Timestamp":"2024-11-13T09:19:49.4322713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69e72786b4c29df23384a11f14b3ab23","SpanId":"4720d672504f3788","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNM:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83H6J18VNM"}}
{"Timestamp":"2024-11-13T09:19:49.4644082+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98dc67238460f06e321bebf3298a7d4e","SpanId":"a2c1b36a43f2affa","Properties":{"ElapsedMilliseconds":351.0103,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNL:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN83H6J18VNL"}}
{"Timestamp":"2024-11-13T09:19:49.4649952+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe1cea12fb76deb79f87980189fa6268","SpanId":"ccd8bdac4ca73109","Properties":{"ElapsedMilliseconds":32.7897,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNK:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN83H6J18VNK"}}
{"Timestamp":"2024-11-13T09:19:49.5428066+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69e72786b4c29df23384a11f14b3ab23","SpanId":"4720d672504f3788","Properties":{"ElapsedMilliseconds":110.7402,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNM:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN83H6J18VNM"}}
{"Timestamp":"2024-11-13T09:19:49.6031908+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a71bd82aef24b21a3de8f658c1493ec","SpanId":"3a153f704c730680","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNM:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83H6J18VNM"}}
{"Timestamp":"2024-11-13T09:19:49.7566749+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a71bd82aef24b21a3de8f658c1493ec","SpanId":"3a153f704c730680","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":148.4354,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"148.4354"}]}}
{"Timestamp":"2024-11-13T09:19:49.7590692+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a71bd82aef24b21a3de8f658c1493ec","SpanId":"3a153f704c730680","Properties":{"ElapsedMilliseconds":155.9285,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNM:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN83H6J18VNM"}}
{"Timestamp":"2024-11-13T09:20:06.5007853+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:06.5082732+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:06.6296575+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:06.6702878+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:08.3616009+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"elapsed":"30","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:08.7459577+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"elapsed":"28","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:08.7781501+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:08.7868366+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2111.2523,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:08.7890279+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:08.7949182+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2289.1389,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2289.1389"}]}}
{"Timestamp":"2024-11-13T09:20:08.8158303+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"14f323f78788c9b1c8273b4d0108f3c2","SpanId":"23cfdca185f1e15c","Properties":{"ElapsedMilliseconds":2315.1233,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNN"}}
{"Timestamp":"2024-11-13T09:20:15.0739678+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.0802310+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.0870930+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.2098113+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.2203032+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.2216354+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.2714760+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"elapsed":"16","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.3575565+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.3998406+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"elapsed":"20","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.4107453+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.4234376+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.4234346+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.4257589+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":335.966,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.4269838+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":201.1871,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.4293335+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.4307498+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.4333820+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":354.3957,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"354.3957"}]}}
{"Timestamp":"2024-11-13T09:20:15.4343596+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":216.9256,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"216.9256"}]}}
{"Timestamp":"2024-11-13T09:20:15.4369756+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"93c6932b0ec6bb4bdcf5165c879abee1","SpanId":"c78882c4ff24702e","Properties":{"ElapsedMilliseconds":363.1109,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNO"}}
{"Timestamp":"2024-11-13T09:20:15.4384816+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a6cb91911198d0e82022274ac93f1ebd","SpanId":"601715cdeaa10d97","Properties":{"ElapsedMilliseconds":228.5716,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNP"}}
{"Timestamp":"2024-11-13T09:20:15.4566842+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.4575208+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5065885+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5065885+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5135787+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5135736+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5615177+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5646876+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5713021+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5713089+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5845802+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":68.2444,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5845959+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":65.9187,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5870339+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5890585+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:20:15.5906562+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":129.9075,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"129.9075"}]}}
{"Timestamp":"2024-11-13T09:20:15.5925327+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":127.2867,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.2867"}]}}
{"Timestamp":"2024-11-13T09:20:15.5965782+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"07d0099f7d73a453c9afff962a9a62cc","SpanId":"633e6a64de3864d3","Properties":{"ElapsedMilliseconds":140.3593,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNQ"}}
{"Timestamp":"2024-11-13T09:20:15.5984484+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bca951b6ef6307ea4601655f93914ea0","SpanId":"2d50424bfc087956","Properties":{"ElapsedMilliseconds":140.9538,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VNR"}}
{"Timestamp":"2024-11-13T09:21:11.7532977+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":49,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7558970+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7657375+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7748204+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7812266+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7836536+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7847674+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":17.3978,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7858460+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:11.7867336+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":30.9372,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.9372"}]}}
{"Timestamp":"2024-11-13T09:21:11.7890306+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7bfdd9a9358841d0aabb849efa372d14","SpanId":"1548de4786757f77","Properties":{"ElapsedMilliseconds":35.8933,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VNS"}}
{"Timestamp":"2024-11-13T09:21:15.2506882+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.2539497+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.2552168+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.2727334+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.2879564+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.2938505+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.3030886+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":45.4028,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.3127742+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.3143607+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":60.5161,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.5161"}]}}
{"Timestamp":"2024-11-13T09:21:15.3164185+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16138cb1eee448f5de031d1cb87db3cc","SpanId":"0dbc055dbd27cdc0","Properties":{"ElapsedMilliseconds":65.7747,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNT"}}
{"Timestamp":"2024-11-13T09:21:15.4103294+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4144474+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4155602+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4486115+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"elapsed":"24","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4493932+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4556339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4557149+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4588409+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4599640+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4621408+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":43.1387,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4663874+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4675757+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.2541,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.2541"}]}}
{"Timestamp":"2024-11-13T09:21:15.4695764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca313d5fb696408238e50338c7dd7423","SpanId":"267662dd70761251","Properties":{"ElapsedMilliseconds":59.2687,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VNU"}}
{"Timestamp":"2024-11-13T09:21:15.4746060+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.4810328+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4844433+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.4862846+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4872996+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.4887875+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":23.9899,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4918733+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.4934023+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.4953737+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":40.2942,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.2942"}]}}
{"Timestamp":"2024-11-13T09:21:15.4987977+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.5002269+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"560e5098fb6b85591906a88b96780b86","SpanId":"577344b54032dac5","Properties":{"ElapsedMilliseconds":51.1301,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VNV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VNV"}}
{"Timestamp":"2024-11-13T09:21:15.5017101+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.241,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.5066542+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:15.5082757+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.1447,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1447"}]}}
{"Timestamp":"2024-11-13T09:21:15.5126000+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82d26f1714b05b7f5dca3864ab81a70b","SpanId":"164897f294300941","Properties":{"ElapsedMilliseconds":37.9405,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO0"}}
{"Timestamp":"2024-11-13T09:21:16.8535896+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8566768+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8576884+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8665703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8720877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8786880+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8828070+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.7989,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8865681+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8941854+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.6736,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.6736"}]}}
{"Timestamp":"2024-11-13T09:21:16.8970383+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd1b068413c95ad9304fc76a3e0211e7","SpanId":"5626a90fff4beaf2","Properties":{"ElapsedMilliseconds":43.43,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO1"}}
{"Timestamp":"2024-11-13T09:21:16.8998525+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9052992+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9064744+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9111208+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9144258+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9158934+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.417,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9172788+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9185232+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.6164,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.6164"}]}}
{"Timestamp":"2024-11-13T09:21:16.9205108+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2101085ea08ead8b3161d5848250ead3","SpanId":"59f9611adf86b8a9","Properties":{"ElapsedMilliseconds":20.6679,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO2"}}
{"Timestamp":"2024-11-13T09:21:16.9386825+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9413707+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9424074+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9513654+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9579198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9611465+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9624325+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.836,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9636345+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9646652+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.4183,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.4183"}]}}
{"Timestamp":"2024-11-13T09:21:16.9664620+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a93cf62ea94a63962c480bb035c449d3","SpanId":"e114893532fb87f0","Properties":{"ElapsedMilliseconds":27.8064,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO3"}}
{"Timestamp":"2024-11-13T09:21:16.9713038+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:16.9744033+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:16.9773181+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.0597661+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.0961663+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.1013361+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.1031989+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":123.7091,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.1048494+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.1060128+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":131.9794,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"131.9794"}]}}
{"Timestamp":"2024-11-13T09:21:17.1080032+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"796f829468a8bc4b7814f66e6a278e9b","SpanId":"441d0b18989eb8f5","Properties":{"ElapsedMilliseconds":136.7326,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO4:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO4"}}
{"Timestamp":"2024-11-13T09:21:17.5570970+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.5601535+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.5612387+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6082028+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6146321+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6174472+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6188041+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":55.5032,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6200045+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6210657+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":61.0293,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.0293"}]}}
{"Timestamp":"2024-11-13T09:21:17.6228548+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"756fa9654617b94d589ccc2939d955b2","SpanId":"7053e2c6bca90f71","Properties":{"ElapsedMilliseconds":65.7732,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO5"}}
{"Timestamp":"2024-11-13T09:21:17.6255057+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6304556+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6317599+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6355672+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6388712+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6403243+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":6.4898,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6416372+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6427999+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.7443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.7443"}]}}
{"Timestamp":"2024-11-13T09:21:17.6445594+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66ffca3aa11b1308816a82717c549492","SpanId":"91e19fc6c832566d","Properties":{"ElapsedMilliseconds":19.1068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VO6"}}
{"Timestamp":"2024-11-13T09:21:17.6536949+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6595620+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6654732+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6748540+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6793578+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6818072+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6828604+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.3936,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6838180+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6846848+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.2608,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.2608"}]}}
{"Timestamp":"2024-11-13T09:21:17.6861018+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66519a764ae74478d3783bc6fad41f41","SpanId":"beb331c577819def","Properties":{"ElapsedMilliseconds":32.4397,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO7"}}
{"Timestamp":"2024-11-13T09:21:17.6890799+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.6923410+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.6935737+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.7000846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.7045319+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.7066644+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"807bdef1-24d8-4c55-b121-78a2d0742c99","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.7077548+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":12.431,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.7088903+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:17.7098652+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":17.7471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7471"}]}}
{"Timestamp":"2024-11-13T09:21:17.7116782+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"61a9966d51ea6e032e74c7b3ef4ae17f","SpanId":"22aac5e97c6cdd4b","Properties":{"ElapsedMilliseconds":22.6167,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN83H6J18VO8"}}
{"Timestamp":"2024-11-13T09:21:48.3726846+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.3799791+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.3810573+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.3967418+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4033386+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4183634+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"elapsed":"5","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4220015+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4234849+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4248470+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4259924+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":46.2684,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.2684"}]}}
{"Timestamp":"2024-11-13T09:21:48.4286018+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10c8038d63df8c8a7b85461f75241921","SpanId":"bb65d772c3cf4660","Properties":{"ElapsedMilliseconds":55.9781,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VO9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VO9"}}
{"Timestamp":"2024-11-13T09:21:48.4409034+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":98,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/4260","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4470087+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4506985+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4680351+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"elapsed":"1","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4743117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"elapsed":"2","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4817281+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4825213+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":29.5717,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4835841+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:48.4846308+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/4260","StatusCode":200,"Elapsed":37.8182,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.8182"}]}}
{"Timestamp":"2024-11-13T09:21:48.4865834+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b21bfb0989c4b60bddb11f53061106a","SpanId":"aedf5f149d7b774f","Properties":{"ElapsedMilliseconds":45.7314,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/4260","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOA:00000001","RequestPath":"/api/Schedules/4260","ConnectionId":"0HN83H6J18VOA"}}
{"Timestamp":"2024-11-13T09:21:49.1865211+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.1896459+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.1907220+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.1998120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.2057572+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.2089391+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.2108714+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.8145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.2166706+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.2184020+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.8477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.8477"}]}}
{"Timestamp":"2024-11-13T09:21:49.2212598+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3761e99268bff11a5b54c3c3b368fdc4","SpanId":"a4991de97ae2ffd7","Properties":{"ElapsedMilliseconds":34.7051,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOB"}}
{"Timestamp":"2024-11-13T09:21:49.2248850+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2326395+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2337212+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2369176+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2396436+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2409546+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":5.6462,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2420720+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:21:49.2430719+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":10.6977,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.6977"}]}}
{"Timestamp":"2024-11-13T09:21:49.2457065+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3b35bf5ac21b84dc4efc63888f2739f1","SpanId":"ed0d068d83bb7fd3","Properties":{"ElapsedMilliseconds":20.8663,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOC"}}
{"Timestamp":"2024-11-13T09:22:12.2045211+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2079316+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2091894+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2260696+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2313583+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2342858+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2355020+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.2364,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2369337+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2379069+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.1101,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.1101"}]}}
{"Timestamp":"2024-11-13T09:22:12.2396921+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1c32ae68eb00945434a71001ec69c5b","SpanId":"ae11da48bb9d9ceb","Properties":{"ElapsedMilliseconds":35.3245,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOD"}}
{"Timestamp":"2024-11-13T09:22:12.2456518+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2487119+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2500067+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2556738+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2582907+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2600633+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.1146,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2619445+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:12.2631180+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.6743,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6743"}]}}
{"Timestamp":"2024-11-13T09:22:12.2650420+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9cc6b75186fcd10eb36377af0b025f62","SpanId":"b2b003434224f23d","Properties":{"ElapsedMilliseconds":19.4096,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOE"}}
{"Timestamp":"2024-11-13T09:22:24.9000054+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9036719+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9048988+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9159818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9220574+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9292760+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9314221+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9324463+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.6556,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9334949+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9343443+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":30.7992,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.7992"}]}}
{"Timestamp":"2024-11-13T09:22:24.9357388+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd3ccfa9127040deffdb0aa78eb3560d","SpanId":"7071b763ceb49b3c","Properties":{"ElapsedMilliseconds":35.7782,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOF"}}
{"Timestamp":"2024-11-13T09:22:24.9428328+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9453068+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9462672+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9509420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9546345+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9559362+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.0782,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9571269+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:24.9580974+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.0252,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.0252"}]}}
{"Timestamp":"2024-11-13T09:22:24.9595482+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd16c15e7c688e79752e619d7dccbba4","SpanId":"497ee3e29b9de77f","Properties":{"ElapsedMilliseconds":16.7318,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOG"}}
{"Timestamp":"2024-11-13T09:22:26.1799966+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.1827491+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.1837717+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.1918190+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.1973281+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.1999776+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.2013394+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.5304,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.2028919+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.2040030+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.3397,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.3397"}]}}
{"Timestamp":"2024-11-13T09:22:26.2057931+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"652408157c0a5a6422f1a55ea9688255","SpanId":"08bd2dab209f45cc","Properties":{"ElapsedMilliseconds":25.8168,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOH"}}
{"Timestamp":"2024-11-13T09:22:26.2087230+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2118541+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2130133+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2186622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2212349+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2226779+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.7432,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2240312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:26.2252091+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.6551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.6551"}]}}
{"Timestamp":"2024-11-13T09:22:26.2270912+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2bab4fc4c5967672e13b5e9b2170caa4","SpanId":"c3bed396d38959aa","Properties":{"ElapsedMilliseconds":18.3508,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOI"}}
{"Timestamp":"2024-11-13T09:22:27.1240176+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1289013+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1299885+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1384960+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1434714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1469757+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1483972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.258,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1495296+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1506686+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.8495,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.8495"}]}}
{"Timestamp":"2024-11-13T09:22:27.1526789+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"867ca9a80bd9f2a2194eee51743c0ddc","SpanId":"b496fe09007ade8b","Properties":{"ElapsedMilliseconds":28.7084,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOJ"}}
{"Timestamp":"2024-11-13T09:22:27.1568165+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1610933+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1626044+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1694119+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1721797+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1737067+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.9293,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1753392+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.1767659+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.28,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2800"}]}}
{"Timestamp":"2024-11-13T09:22:27.1787197+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f516615fbba7ca5441a28b6c4acc459","SpanId":"30ffe345e855e16c","Properties":{"ElapsedMilliseconds":22.0065,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOK"}}
{"Timestamp":"2024-11-13T09:22:27.8360035+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8388846+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8399001+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8495372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8578530+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8628810+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8652624+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.4211,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8677988+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8696113+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.87,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.8700"}]}}
{"Timestamp":"2024-11-13T09:22:27.8751774+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"392d97ff169100cdf439f5b83fb6b872","SpanId":"84d6839e76a79d38","Properties":{"ElapsedMilliseconds":39.1399,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOL"}}
{"Timestamp":"2024-11-13T09:22:27.8793800+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.8853315+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.8868106+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.8931093+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.8962933+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.8978746+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.7408,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.8993855+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:27.9006953+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.614,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.6140"}]}}
{"Timestamp":"2024-11-13T09:22:27.9025790+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9922264bbbb966218041a083ccf9107","SpanId":"284d45f76a85b63d","Properties":{"ElapsedMilliseconds":23.1161,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-28&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOM"}}
{"Timestamp":"2024-11-13T09:22:28.4756218+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.4797553+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.4813105+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.4959644+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.5062581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.5100009+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.5121165+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.3008,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.5153517+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.5165381+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.9289,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9289"}]}}
{"Timestamp":"2024-11-13T09:22:28.5194704+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f511041e73c50746e9fbf0095d062f8","SpanId":"c954aa2776cf7712","Properties":{"ElapsedMilliseconds":43.865,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VON:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VON"}}
{"Timestamp":"2024-11-13T09:22:28.5224386+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5283460+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5296018+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5393845+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5426596+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5444615+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.4372,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5460499+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:22:28.5475964+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.5357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.5357"}]}}
{"Timestamp":"2024-11-13T09:22:28.5493883+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69e066d12bf704154a275f2ac56f70ba","SpanId":"e42f3e898c60b0cf","Properties":{"ElapsedMilliseconds":27.0525,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOO"}}
{"Timestamp":"2024-11-13T09:25:03.0128521+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":49,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0182340+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0191356+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0278526+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0358698+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0481749+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0503025+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":29.2774,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0516292+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:03.0529674+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":34.8083,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.8083"}]}}
{"Timestamp":"2024-11-13T09:25:03.0549144+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f5c59fb3ef936df51ff7d6b9b6ba493","SpanId":"2115d12d53a02825","Properties":{"ElapsedMilliseconds":42.0144,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOP:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VOP"}}
{"Timestamp":"2024-11-13T09:25:09.9676477+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:09.9708667+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:09.9723299+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.0036258+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.0097316+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.0162360+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.0188816+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.4616,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.0220906+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.0240214+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.2185,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.2185"}]}}
{"Timestamp":"2024-11-13T09:25:10.0276207+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"790ece8df7adbafbb1b1e3eb2bf249c6","SpanId":"126e50d3954ce223","Properties":{"ElapsedMilliseconds":60.017,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOQ"}}
{"Timestamp":"2024-11-13T09:25:10.1201733+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1242490+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1254646+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1368650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1779087+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1902304+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.1911816+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1954555+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":65.3914,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1967058+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.1986763+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":74.5416,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"74.5416"}]}}
{"Timestamp":"2024-11-13T09:25:10.1946724+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2017248+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6420ca19b68355fa61e3e41906b09b6","SpanId":"9137a1ff0ce89bb7","Properties":{"ElapsedMilliseconds":81.6017,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOR"}}
{"Timestamp":"2024-11-13T09:25:10.2039815+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2363033+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"elapsed":"21","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2370707+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2396851+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2424118+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2436279+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":31.4527,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2449509+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2466182+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2519806+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":57.6875,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"57.6875"}]}}
{"Timestamp":"2024-11-13T09:25:10.2537446+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2542479+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e19f2894727ce528023af58307b778df","SpanId":"9263d7db882bfb69","Properties":{"ElapsedMilliseconds":64.291,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VOS"}}
{"Timestamp":"2024-11-13T09:25:10.2579306+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2645418+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.2163,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2662571+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:10.2679721+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.8387,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.8387"}]}}
{"Timestamp":"2024-11-13T09:25:10.2708886+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"652ccc6942c2ccabaf65278d220d29f7","SpanId":"4a07c65f20d1838e","Properties":{"ElapsedMilliseconds":33.8823,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VOT"}}
{"Timestamp":"2024-11-13T09:25:28.3533319+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3558680+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3568411+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3649342+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3702125+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3727376+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3739195+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.9267,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3750923+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3761337+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.4355,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4355"}]}}
{"Timestamp":"2024-11-13T09:25:28.3779690+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd260e3d85a4b1d7c05a432eb54b30f7","SpanId":"77fa333602f8072b","Properties":{"ElapsedMilliseconds":24.7041,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VOU"}}
{"Timestamp":"2024-11-13T09:25:28.3814117+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":96,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/4261","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.3845931+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.3858170+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.3956186+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.4039187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"elapsed":"4","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.4068287+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.4077376+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":18.5686,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.4093458+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:28.4104545+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/4261","StatusCode":200,"Elapsed":26.0332,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0332"}]}}
{"Timestamp":"2024-11-13T09:25:28.4121715+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1c2be4790a01390fdc076086fd0cf43","SpanId":"84007076ac2a693b","Properties":{"ElapsedMilliseconds":30.8277,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/4261","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VOV:00000001","RequestPath":"/api/Schedules/4261","ConnectionId":"0HN83H6J18VOV"}}
{"Timestamp":"2024-11-13T09:25:29.0236358+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0264593+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0293682+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0399252+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0556454+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0585783+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0598607+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.1416,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0612671+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0624233+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.025,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.0250"}]}}
{"Timestamp":"2024-11-13T09:25:29.0647905+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bae03604324b257c1d88f180680c5c43","SpanId":"46f13c9878146e45","Properties":{"ElapsedMilliseconds":41.3697,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP0"}}
{"Timestamp":"2024-11-13T09:25:29.0700193+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0769007+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0789221+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0825819+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0854709+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0866828+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":5.4425,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0881028+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:25:29.0891816+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.7537,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.7537"}]}}
{"Timestamp":"2024-11-13T09:25:29.0906617+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a3fef7fa49e078ba07869b5b5c33ef0c","SpanId":"315ba1e1165c4f4f","Properties":{"ElapsedMilliseconds":22.5194,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VP1"}}
{"Timestamp":"2024-11-13T09:26:03.5562669+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.5703361+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.5713716+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.5825955+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.5884211+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.5971655+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.5997416+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.6010358+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.4862,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.6021393+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.6032303+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":32.9495,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.9495"}]}}
{"Timestamp":"2024-11-13T09:26:03.6050057+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74ddd9066eb34de8090a48f6e3c941ef","SpanId":"49562c9168dc98e4","Properties":{"ElapsedMilliseconds":48.9552,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP2"}}
{"Timestamp":"2024-11-13T09:26:03.6099179+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6127062+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6140711+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6209540+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6236267+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6251531+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.9442,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6265507+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:26:03.6278614+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.4063,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.4063"}]}}
{"Timestamp":"2024-11-13T09:26:03.6296771+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5f8e22f9351ee078e0803fc7ff2296b","SpanId":"1605c1622950cfb5","Properties":{"ElapsedMilliseconds":19.7826,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP3"}}
{"Timestamp":"2024-11-13T09:27:03.5195045+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5231050+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5247770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5340793+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5383693+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5445298+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5471409+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5483278+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2581,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5495352+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5505656+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":27.5542,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.5542"}]}}
{"Timestamp":"2024-11-13T09:27:03.5522383+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"84493c2b319c2bb918a729156453e9d5","SpanId":"d1e7bf901c92a9d2","Properties":{"ElapsedMilliseconds":32.7947,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP4"}}
{"Timestamp":"2024-11-13T09:27:03.5559673+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5591876+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5604332+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5657702+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5678979+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5690193+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.5328,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5701968+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:27:03.5711272+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.228,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.2280"}]}}
{"Timestamp":"2024-11-13T09:27:03.5724947+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fe11ba81398c8455d3fe83eceaec22c","SpanId":"48bc858ec5f2e165","Properties":{"ElapsedMilliseconds":16.6107,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP5"}}
{"Timestamp":"2024-11-13T09:28:03.5324083+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5388403+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5406425+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5531955+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5625961+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5689340+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5716779+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5731011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.9883,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5745482+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5757960+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":37.0288,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.0288"}]}}
{"Timestamp":"2024-11-13T09:28:03.5776562+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2303e81e465cc1c98765ff5886395c04","SpanId":"5736342798d3e966","Properties":{"ElapsedMilliseconds":45.2783,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP6"}}
{"Timestamp":"2024-11-13T09:28:03.5838130+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.5867369+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.5882888+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.5947085+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.5976664+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.5992304+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.3554,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.6006993+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:28:03.6020170+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.567,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.5670"}]}}
{"Timestamp":"2024-11-13T09:28:03.6038494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bdcdb8a7d65ed841fd853648a626d698","SpanId":"7a91df2108715e1e","Properties":{"ElapsedMilliseconds":20.0584,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP7"}}
{"Timestamp":"2024-11-13T09:29:03.5553447+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.5584592+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.5595650+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.5746662+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.5846744+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.5994883+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.6028316+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.6039616+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":42.2527,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.6049906+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.6060790+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":47.695,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"47.6950"}]}}
{"Timestamp":"2024-11-13T09:29:03.6081350+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5e9349451c681e84abd2a67ab2c89e88","SpanId":"b579c9a0db218d22","Properties":{"ElapsedMilliseconds":52.8913,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VP8"}}
{"Timestamp":"2024-11-13T09:29:03.6123598+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6151120+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6163131+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6223310+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6251231+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6265401+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.215,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6278085+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:29:03.6287521+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.8987,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.8987"}]}}
{"Timestamp":"2024-11-13T09:29:03.6301348+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4df852f9088fb416c5d5eb0ea432f9f3","SpanId":"c9adaaef232a93ca","Properties":{"ElapsedMilliseconds":17.8018,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VP9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VP9"}}
{"Timestamp":"2024-11-13T09:30:03.6006625+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6309928+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6325691+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6480258+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6546664+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6782195+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"elapsed":"7","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6810095+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6825897+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":47.5588,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6838488+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.6849167+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":54.0138,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"54.0138"}]}}
{"Timestamp":"2024-11-13T09:30:03.6868368+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c8603c2f83b46c159ceb8be76cc4890d","SpanId":"7d8d7a818f370ddb","Properties":{"ElapsedMilliseconds":86.2056,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPA"}}
{"Timestamp":"2024-11-13T09:30:03.7749304+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8005431+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8163803+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8611897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8671286+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8687107+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.2327,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8700855+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:30:03.8727038+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":72.4212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"72.4212"}]}}
{"Timestamp":"2024-11-13T09:30:03.8745093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"200e01b1f0c904f4867dc38b660efd91","SpanId":"bfdfd69dcfef2cff","Properties":{"ElapsedMilliseconds":99.6041,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPB"}}
{"Timestamp":"2024-11-13T09:31:03.5746813+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.5806411+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.5820774+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.5988466+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6063570+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6140625+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"elapsed":"4","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6173951+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6188041+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.9887,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6199969+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6213695+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":40.8087,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.8087"}]}}
{"Timestamp":"2024-11-13T09:31:03.6240604+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41e873adb18e4e681481db05e00d7549","SpanId":"a52c39fa6394c6e8","Properties":{"ElapsedMilliseconds":49.436,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPC"}}
{"Timestamp":"2024-11-13T09:31:03.6296287+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6393499+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6409350+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6509492+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6530926+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6542510+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.4585,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6554326+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:03.6563808+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.3994,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.3994"}]}}
{"Timestamp":"2024-11-13T09:31:03.6579593+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"311ca902a461a1bedc4740c832fae54e","SpanId":"a1b4fc7b08baba13","Properties":{"ElapsedMilliseconds":28.4108,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPD"}}
{"Timestamp":"2024-11-13T09:31:27.1723989+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":49,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.1797031+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.1808414+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.1930978+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.2000606+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.2027440+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.2041618+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":21.2318,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.2054144+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:27.2065149+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":26.8864,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.8864"}]}}
{"Timestamp":"2024-11-13T09:31:27.2084265+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f8f4015ab172001d2baf3ceb89df4a3","SpanId":"06f78de39bc947dc","Properties":{"ElapsedMilliseconds":36.0465,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPE"}}
{"Timestamp":"2024-11-13T09:31:53.9804100+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:53.9890756+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:53.9903964+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.0032950+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.0116454+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.0181246+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.0194343+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.6828,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.0208252+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.0218622+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.8595,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8595"}]}}
{"Timestamp":"2024-11-13T09:31:54.0241954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1757319ca5c927c9ee865057713e2737","SpanId":"998326674a07f7f0","Properties":{"ElapsedMilliseconds":43.7986,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPF"}}
{"Timestamp":"2024-11-13T09:31:54.1555862+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.1817304+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.1930401+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2166113+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2189813+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2261267+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2337137+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2460792+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2502760+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2517888+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.9469,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2533693+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2546943+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":73.0261,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"73.0261"}]}}
{"Timestamp":"2024-11-13T09:31:54.2568222+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72abae785cb4d1f69a2e2752519dbb3c","SpanId":"360e40f229b66e14","Properties":{"ElapsedMilliseconds":101.2797,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPG"}}
{"Timestamp":"2024-11-13T09:31:54.2611195+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.2636901+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2648900+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.2673460+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2692951+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.2710621+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":42.4671,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2748421+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2754839+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.2762332+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":57.5906,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"57.5906"}]}}
{"Timestamp":"2024-11-13T09:31:54.2801745+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.2908903+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aff7ed705fbbb18e6d602225282eb6aa","SpanId":"d2bcee64b427a5f0","Properties":{"ElapsedMilliseconds":97.8729,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPH"}}
{"Timestamp":"2024-11-13T09:31:54.2925523+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.3819,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.2981420+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:31:54.3001138+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.1199,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.1199"}]}}
{"Timestamp":"2024-11-13T09:31:54.3022844+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4db46eace0d0a0b8ca5f146a5f642936","SpanId":"e347335bb276117a","Properties":{"ElapsedMilliseconds":41.301,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPI"}}
{"Timestamp":"2024-11-13T09:34:06.1652378+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":49,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.1687224+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.1697655+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.1874947+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"elapsed":"11","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.2027741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.2179176+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.2193271+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":47.6031,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.2206672+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:34:06.2218319+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":53.2208,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.2208"}]}}
{"Timestamp":"2024-11-13T09:34:06.2239770+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6358328a30e0d07e879e18cc966c3352","SpanId":"5b6d2c67649011ec","Properties":{"ElapsedMilliseconds":58.8032,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPJ"}}
{"Timestamp":"2024-11-13T09:40:43.0646303+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0728038+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0738736+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0879119+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0939393+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0969218+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0981946+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":21.5901,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.0994246+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:43.1004900+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":27.8422,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.8422"}]}}
{"Timestamp":"2024-11-13T09:40:43.1022368+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e2a0ad9f040ffbb325544050142a4e2","SpanId":"004f24dd3b9542b0","Properties":{"ElapsedMilliseconds":37.7557,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPK:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPK"}}
{"Timestamp":"2024-11-13T09:40:47.1966542+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.1998342+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2011158+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2108930+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2165157+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2194719+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2208513+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.8739,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2220632+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.2231716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.4161,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.4161"}]}}
{"Timestamp":"2024-11-13T09:40:47.2251012+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"827fb34910f374aceae8922ee15f3c88","SpanId":"8adad4bf06ce29e0","Properties":{"ElapsedMilliseconds":28.5478,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPL"}}
{"Timestamp":"2024-11-13T09:40:47.3452715+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3487751+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3497910+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3559339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3676274+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3731514+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.3884379+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3893995+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.3913789+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.3265,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.3937848+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.3966612+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.4025454+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.8351,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.8351"}]}}
{"Timestamp":"2024-11-13T09:40:47.4048249+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"879870fb473d3dd8ed340ef5c16e21f2","SpanId":"ae6e45b1a4b08deb","Properties":{"ElapsedMilliseconds":59.6349,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPM"}}
{"Timestamp":"2024-11-13T09:40:47.4165722+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4173630+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.4192228+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4211030+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.4220426+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4233797+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":22.6902,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.4264676+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.4266006+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4274616+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":38.3687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.3687"}]}}
{"Timestamp":"2024-11-13T09:40:47.4306386+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4319684+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23fbab02c66c365e34e894443ff9550d","SpanId":"0462d9d6e33ebe90","Properties":{"ElapsedMilliseconds":58.832,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VPN"}}
{"Timestamp":"2024-11-13T09:40:47.4336548+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.5888,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4383998+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:40:47.4396867+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.7197,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.7197"}]}}
{"Timestamp":"2024-11-13T09:40:47.4415097+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bbb94c2d8db2cc4ab290413445772cae","SpanId":"9692e6f8775b7442","Properties":{"ElapsedMilliseconds":24.9427,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPO"}}
{"Timestamp":"2024-11-13T09:41:06.0497917+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0551795+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0562960+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0678996+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0724112+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0744810+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0754637+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.6027,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0765436+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0785738+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.4463,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.4463"}]}}
{"Timestamp":"2024-11-13T09:41:06.0801862+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5bbcb43437f1f4099e9c1e30feee350e","SpanId":"f194a8784b2430b8","Properties":{"ElapsedMilliseconds":30.4038,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPP"}}
{"Timestamp":"2024-11-13T09:41:06.0852598+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":94,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2234","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.0872864+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.0880680+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.0928723+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"elapsed":"1","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.1019810+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"elapsed":"4","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.1056482+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d7f60c51-f3a3-429f-b997-79632f933334","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.1065352+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":16.882,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.1079054+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.1089193+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/2234","StatusCode":200,"Elapsed":21.6742,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6742"}]}}
{"Timestamp":"2024-11-13T09:41:06.1126953+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47836fb61e04d4a55cef5ecb9cb71177","SpanId":"0bc7cac8ebdd847b","Properties":{"ElapsedMilliseconds":27.4558,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2234","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPQ:00000001","RequestPath":"/api/Schedules/2234","ConnectionId":"0HN83H6J18VPQ"}}
{"Timestamp":"2024-11-13T09:41:06.8642085+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8740573+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8752818+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8819856+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8876786+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8913001+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8928542+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4892,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8940652+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.8970296+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.1034,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1034"}]}}
{"Timestamp":"2024-11-13T09:41:06.8990205+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"32b7335479f06a4f006bad25dd456720","SpanId":"b1e646b4c007ad68","Properties":{"ElapsedMilliseconds":34.8273,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPR"}}
{"Timestamp":"2024-11-13T09:41:06.9018865+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9070442+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9082678+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9138093+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9175454+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9190019+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.741,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9208007+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:06.9224538+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.8132,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.8132"}]}}
{"Timestamp":"2024-11-13T09:41:06.9241680+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e5a105f747486edba62e7be7c2b2aea","SpanId":"e86f92a625eaac04","Properties":{"ElapsedMilliseconds":22.3751,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VPS"}}
{"Timestamp":"2024-11-13T09:41:31.2039069+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2064131+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2074150+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2154622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2205717+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2232907+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2244833+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":15.145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2257434+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:41:31.2268019+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":20.4712,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4712"}]}}
{"Timestamp":"2024-11-13T09:41:31.2295178+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"06b3f6090e9432d53ccec0e32e53b010","SpanId":"96501ef5c875f366","Properties":{"ElapsedMilliseconds":25.6603,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VPT"}}
{"Timestamp":"2024-11-13T09:42:04.3368301+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3435353+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3446427+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3588753+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3653836+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3745228+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"elapsed":"4","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3770515+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3785727+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.5538,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3796912+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.3806368+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":37.1591,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.1591"}]}}
{"Timestamp":"2024-11-13T09:42:04.3821140+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6b42bd2d78194a42d8f5c1d15170af6","SpanId":"293ba852a463785b","Properties":{"ElapsedMilliseconds":45.508,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPU"}}
{"Timestamp":"2024-11-13T09:42:04.4537743+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.4573814+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.4585607+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.4648266+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.4836433+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.4983201+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.5021171+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.0313,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.5050318+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.5053037+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5069026+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":49.5749,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.5749"}]}}
{"Timestamp":"2024-11-13T09:42:04.5143713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d3491b2a6919c3fb91cf89c9c796dc6","SpanId":"e65ef6a4007c6093","Properties":{"ElapsedMilliseconds":60.6215,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VPV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VPV"}}
{"Timestamp":"2024-11-13T09:42:04.5109474+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5212428+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5417292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5474415+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5496432+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":22.8981,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5512692+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:04.5529256+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":42.2336,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.2336"}]}}
{"Timestamp":"2024-11-13T09:42:04.5548052+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e4a6f9caeae52388ec91dd290d552e8f","SpanId":"06242172a6e1d118","Properties":{"ElapsedMilliseconds":51.5683,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ0"}}
{"Timestamp":"2024-11-13T09:42:31.6188239+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:31.6253772+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:31.6271138+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:31.6436277+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:31.6596661+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.2341,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:31.6608508+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:31.6626809+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":400,"Elapsed":37.4191,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.4191"}]}}
{"Timestamp":"2024-11-13T09:42:31.6644889+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74738a87aea015264cb00605bc5847ab","SpanId":"95284fb45b0cc565","Properties":{"ElapsedMilliseconds":45.7174,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ1"}}
{"Timestamp":"2024-11-13T09:42:41.9950817+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:41.9982876+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:41.9996046+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:42.0147960+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"elapsed":"5","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:42.0204184+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:42.0231829+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:42.0244134+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":22.246,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:42.0259654+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:42.0269557+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":28.7572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.7572"}]}}
{"Timestamp":"2024-11-13T09:42:42.0285819+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7302fcce2e51feef83664f32d2de58b","SpanId":"a332ad192cb00178","Properties":{"ElapsedMilliseconds":34.0795,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VQ2"}}
{"Timestamp":"2024-11-13T09:42:45.1874325+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.1906970+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.1918597+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.1963852+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.1976308+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.1987335+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2241382+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"elapsed":"21","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.2325318+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.2358666+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.2371962+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2375554+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":36.6319,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.2423499+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.2427141+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2432032+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":51.5192,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.5192"}]}}
{"Timestamp":"2024-11-13T09:42:45.2464894+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2484850+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f8933ab5777ac1894832938b73f24281","SpanId":"7209072205263d3d","Properties":{"ElapsedMilliseconds":61.0671,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ3"}}
{"Timestamp":"2024-11-13T09:42:45.2497580+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":46.0207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2533832+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2553384+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2582444+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2590178+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":62.6919,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.6919"}]}}
{"Timestamp":"2024-11-13T09:42:45.2602680+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2622280+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c87dcd4fe9ff2b32196ef6b7a750e699","SpanId":"913250e8b35a6af1","Properties":{"ElapsedMilliseconds":71.5705,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ4"}}
{"Timestamp":"2024-11-13T09:42:45.2739271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2791544+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2698955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.2812528+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.3905,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2848676+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.2859880+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.2883656+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.2901372+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":32.158,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.1580"}]}}
{"Timestamp":"2024-11-13T09:42:45.2974298+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"17924e26fe8b4d6b8336963471c089cb","SpanId":"1e713cb8dc99e3f1","Properties":{"ElapsedMilliseconds":44.1825,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ5"}}
{"Timestamp":"2024-11-13T09:42:45.3023903+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.3104882+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.3164419+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":23.2861,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.3193115+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:42:45.3219442+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":37.5557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.5557"}]}}
{"Timestamp":"2024-11-13T09:42:45.3239398+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c44e8ed359a5331da898821a0c40df97","SpanId":"ffdcd55e888096e4","Properties":{"ElapsedMilliseconds":54.1576,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQ6"}}
{"Timestamp":"2024-11-13T09:43:42.0639076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.0912353+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.0934819+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1162628+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1254355+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1352146+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1376743+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1388399+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.0116,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1399740+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1409854+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":49.8975,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.8975"}]}}
{"Timestamp":"2024-11-13T09:43:42.1425747+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9bd7e0a1410f9215baaf4f8b9d077fc0","SpanId":"d8f0e87157fd2e28","Properties":{"ElapsedMilliseconds":78.8182,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ7"}}
{"Timestamp":"2024-11-13T09:43:42.1462238+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1493507+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1505538+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1598048+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1633706+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1647818+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.9835,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1661942+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:42.1674369+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.5685,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.5685"}]}}
{"Timestamp":"2024-11-13T09:43:42.1690985+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"487b89c3fbd86393613ab79c9afb1b9b","SpanId":"10e5f56b2fcf3288","Properties":{"ElapsedMilliseconds":22.8752,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQ8"}}
{"Timestamp":"2024-11-13T09:43:45.4361374+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4398528+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4414263+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4475304+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4507709+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4528089+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4538023+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.387,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4548203+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4556719+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.9052,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.9052"}]}}
{"Timestamp":"2024-11-13T09:43:45.4570232+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b3ce946bbb641e5aa842a13760ddbb6","SpanId":"7b4019b8a0570c3e","Properties":{"ElapsedMilliseconds":21.0357,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQ9"}}
{"Timestamp":"2024-11-13T09:43:45.4591744+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4639014+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4648411+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4675306+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4695168+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4706349+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.2264,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4717450+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.4726923+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":8.9655,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.9655"}]}}
{"Timestamp":"2024-11-13T09:43:45.4740389+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46b58261c732a55b84061b688e643a2a","SpanId":"c83a28fd934bae65","Properties":{"ElapsedMilliseconds":14.8795,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQA"}}
{"Timestamp":"2024-11-13T09:43:45.8218469+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8248593+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8259244+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8273722+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.8340745+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8345871+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.8385596+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.8389619+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8636481+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8655327+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.2113,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8667900+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8677041+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":42.8974,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.8974"}]}}
{"Timestamp":"2024-11-13T09:43:45.8697678+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f0546b03764cb2520e93d876c65ab6f","SpanId":"b34f1bd419bedb58","Properties":{"ElapsedMilliseconds":48.551,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQB"}}
{"Timestamp":"2024-11-13T09:43:45.8726907+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.8878827+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.8882790+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.8965488+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9009802+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.9021441+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9039924+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":60.5793,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.9092825+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.9104419+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9105500+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":76.0079,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"76.0079"}]}}
{"Timestamp":"2024-11-13T09:43:45.9159831+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9197013+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.5913,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9177799+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b991170f2913edc7e1bdd8df4d2678b8","SpanId":"dd7133f2d4667658","Properties":{"ElapsedMilliseconds":90.4844,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQC"}}
{"Timestamp":"2024-11-13T09:43:45.9214248+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9216208+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9288401+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":34.4118,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.4118"}]}}
{"Timestamp":"2024-11-13T09:43:45.9308951+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"845061925c056b12cf646dd0c074895a","SpanId":"88af5154233b600b","Properties":{"ElapsedMilliseconds":43.0734,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQD"}}
{"Timestamp":"2024-11-13T09:43:45.9272447+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9366202+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9399171+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9431434+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9444948+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":6.0156,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9462554+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:45.9475587+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.5285,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5285"}]}}
{"Timestamp":"2024-11-13T09:43:45.9489762+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f303a3185ea45817130ceff48463124a","SpanId":"8df89727ec67792e","Properties":{"ElapsedMilliseconds":27.5743,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQE"}}
{"Timestamp":"2024-11-13T09:43:53.8639470+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8659845+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8667882+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8708094+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8741440+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8763598+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8777498+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.3464,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8794249+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8805106+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.5595,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.5595"}]}}
{"Timestamp":"2024-11-13T09:43:53.8822337+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d16a05d833c9589787d78ce45f031038","SpanId":"a5e08b55d26a6ef3","Properties":{"ElapsedMilliseconds":18.298,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQF"}}
{"Timestamp":"2024-11-13T09:43:53.8847030+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8884949+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8894123+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8920882+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8942472+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8954396+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.4128,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8965751+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:53.8975200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.1854,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.1854"}]}}
{"Timestamp":"2024-11-13T09:43:53.8988543+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d74d919dfb8db82bee0ed54bc53ba02a","SpanId":"7590dc1550f6ca23","Properties":{"ElapsedMilliseconds":14.1687,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQG"}}
{"Timestamp":"2024-11-13T09:43:54.0670193+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.0707123+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.0712528+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.0726214+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.0760547+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.0806928+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.0832232+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.1056346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.1095022+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.1153177+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.1153889+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.1196860+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.1208362+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":41.9895,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.1220453+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.5594,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.1233316+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.1249023+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.1262087+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":55.5487,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.5487"}]}}
{"Timestamp":"2024-11-13T09:43:54.1276217+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":51.6113,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.6113"}]}}
{"Timestamp":"2024-11-13T09:43:54.1294130+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4b91c4d81de4fa7c35bf219b09aae748","SpanId":"74646ddc7540d698","Properties":{"ElapsedMilliseconds":62.4779,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQH"}}
{"Timestamp":"2024-11-13T09:43:54.1351558+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1315891+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72d653149a25dc1f805b81771f8998d1","SpanId":"188a1b2ec9c86f3d","Properties":{"ElapsedMilliseconds":60.3938,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQI"}}
{"Timestamp":"2024-11-13T09:43:54.1357063+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1381754+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1436130+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1448172+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1460037+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1494787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1514737+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1526966+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1552251+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1563691+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.2839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1624405+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1603042+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.2818,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1655014+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.5744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.5744"}]}}
{"Timestamp":"2024-11-13T09:43:54.1676729+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:43:54.1695484+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4bb306a93d084072a0932cbb6a2ecf3a","SpanId":"f1e99270e0e969aa","Properties":{"ElapsedMilliseconds":34.536,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQJ"}}
{"Timestamp":"2024-11-13T09:43:54.1716922+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.231,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.2310"}]}}
{"Timestamp":"2024-11-13T09:43:54.1775120+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9216cf9ba898e75bd9307b9e92c1fc86","SpanId":"1c816a1d43ba7d94","Properties":{"ElapsedMilliseconds":41.8344,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQK"}}
{"Timestamp":"2024-11-13T09:44:02.6748831+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6773319+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6782525+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6829976+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6863029+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6884938+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6894772+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.1573,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6905100+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6917885+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.4871,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4871"}]}}
{"Timestamp":"2024-11-13T09:44:02.6935936+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8960baab12c0f13642760936acc23332","SpanId":"6c06ee17fec77efe","Properties":{"ElapsedMilliseconds":18.715,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQL"}}
{"Timestamp":"2024-11-13T09:44:02.6976760+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7039311+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7056056+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7114370+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7150506+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7162007+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.1622,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7175378+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.7187283+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.9855,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.9855"}]}}
{"Timestamp":"2024-11-13T09:44:02.7204299+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d74d67c148fec094250c5b748bf85f7d","SpanId":"08f22048e43bd9c3","Properties":{"ElapsedMilliseconds":22.765,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQM"}}
{"Timestamp":"2024-11-13T09:44:02.9006317+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9075613+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9101232+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9172068+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9186164+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9195364+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9527306+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9529073+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9582261+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9619556+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9626318+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9669585+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9677064+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":45.7992,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9689891+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.7481,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9702560+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9715556+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9727109+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":62.6195,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.6195"}]}}
{"Timestamp":"2024-11-13T09:44:02.9738281+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":56.6717,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.6717"}]}}
{"Timestamp":"2024-11-13T09:44:02.9757114+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16382bee4263028fd71ef6f5f6a3d20f","SpanId":"d192ca08ad4286f0","Properties":{"ElapsedMilliseconds":75.1054,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQN"}}
{"Timestamp":"2024-11-13T09:44:02.9777196+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6c6e023b12982a5f0b4cba291da6b3d","SpanId":"74c227a8ed968f23","Properties":{"ElapsedMilliseconds":70.1852,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQO"}}
{"Timestamp":"2024-11-13T09:44:02.9860399+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:02.9847060+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:02.9899771+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:02.9926618+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:02.9937139+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:02.9952137+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:02.9998854+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:03.0028838+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:03.0045631+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:03.0078362+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:03.0101147+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.8083,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:03.0121289+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.6084,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:03.0138349+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:03.0158466+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:03.0174797+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":27.7354,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.7354"}]}}
{"Timestamp":"2024-11-13T09:44:03.0188399+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":26.4876,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.4876"}]}}
{"Timestamp":"2024-11-13T09:44:03.0206611+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2c80c585284a6d14cc97838850836d25","SpanId":"24c13ca5cdee2f95","Properties":{"ElapsedMilliseconds":34.6684,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VQQ"}}
{"Timestamp":"2024-11-13T09:44:03.0227460+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f83ca47e7edf6a3f606176f34899139e","SpanId":"4771f425aeba62e2","Properties":{"ElapsedMilliseconds":38.1245,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQP"}}
{"Timestamp":"2024-11-13T09:44:40.1923313+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.1947468+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.1957101+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2028304+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2075316+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2135395+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2165375+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2176583+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2883,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2186932+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2195788+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.0088,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.0088"}]}}
{"Timestamp":"2024-11-13T09:44:40.2210249+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8dbaa46c89f9eaf49186938fe486b3e9","SpanId":"1651370da8d04501","Properties":{"ElapsedMilliseconds":28.7004,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQR"}}
{"Timestamp":"2024-11-13T09:44:40.2299528+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2335482+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2352489+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2462206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2487054+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2501198+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.3933,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2514052+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.2525848+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.3473,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3473"}]}}
{"Timestamp":"2024-11-13T09:44:40.2542244+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"999e232cf3c396d065790ea36dce1b52","SpanId":"cc41535a4aa7ced0","Properties":{"ElapsedMilliseconds":24.416,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQS"}}
{"Timestamp":"2024-11-13T09:44:40.3960871+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.3997479+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4000457+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4016754+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4052398+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4092732+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4108636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4261537+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4345888+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4388473+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4391600+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4450020+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.5382,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4476274+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4425804+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4496984+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.1266,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.1266"}]}}
{"Timestamp":"2024-11-13T09:44:40.4516027+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.1904,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4541625+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d39a794d37687ec9ac8aa2e817b5236","SpanId":"d122acdfb52baba7","Properties":{"ElapsedMilliseconds":58.1461,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQT"}}
{"Timestamp":"2024-11-13T09:44:40.4557581+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4626332+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":57.4376,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"57.4376"}]}}
{"Timestamp":"2024-11-13T09:44:40.4648527+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd8db0efe1872fa2e01a573e556974b8","SpanId":"cad32ddecfe334d7","Properties":{"ElapsedMilliseconds":64.8155,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VQU"}}
{"Timestamp":"2024-11-13T09:44:40.4717674+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4726231+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.4770821+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4787344+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.4798131+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4811990+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.4852280+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4877501+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.4884473+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4909231+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.4920215+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.6207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4932512+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.5704,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.4943769+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.4965133+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:40.5001924+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.7751,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7751"}]}}
{"Timestamp":"2024-11-13T09:44:40.5013903+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.8864,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8864"}]}}
{"Timestamp":"2024-11-13T09:44:40.5029194+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0de6217ba7f0779ad24a54572b03bb5b","SpanId":"1b288fa5d16c1b63","Properties":{"ElapsedMilliseconds":31.2044,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VQV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VQV"}}
{"Timestamp":"2024-11-13T09:44:40.5047749+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33d83b04a7988bb4f6e010cf68dc92ed","SpanId":"58ea267d59b79bba","Properties":{"ElapsedMilliseconds":32.1804,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR0"}}
{"Timestamp":"2024-11-13T09:44:42.0374624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.0521790+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.0587041+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.0999606+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.1072766+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.1136605+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.1151182+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.9886,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.1161686+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.1169870+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":64.986,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"64.9860"}]}}
{"Timestamp":"2024-11-13T09:44:42.1183196+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9df2272c70dc224e4b9090a3ccebc2c8","SpanId":"dd2e36e9db38ddfc","Properties":{"ElapsedMilliseconds":81.1344,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR1"}}
{"Timestamp":"2024-11-13T09:44:42.1206727+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1249859+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1260698+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1302622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1328744+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1342189+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.9182,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1356452+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:42.1369158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.0897,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.0897"}]}}
{"Timestamp":"2024-11-13T09:44:42.1382721+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa29e347fd07e600e2d148897c6f9f0a","SpanId":"c282bb3d98ea8bc8","Properties":{"ElapsedMilliseconds":17.6164,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR2"}}
{"Timestamp":"2024-11-13T09:44:59.5500551+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5527945+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5538226+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5598329+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5646067+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5671819+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5685229+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.5081,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5697408+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5708198+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.0678,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.0678"}]}}
{"Timestamp":"2024-11-13T09:44:59.5725329+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"549082096587348c0ef29871b025577a","SpanId":"ba495b5c7cf3e7be","Properties":{"ElapsedMilliseconds":22.5246,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR3"}}
{"Timestamp":"2024-11-13T09:44:59.5748806+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5814096+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5826236+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5859520+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5884392+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5898884+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.2224,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5912689+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.5924840+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.2665,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.2665"}]}}
{"Timestamp":"2024-11-13T09:44:59.5943675+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6f834efa5a39ff8cfbbe3f01b9b267b","SpanId":"f0f8b0f978bf1d03","Properties":{"ElapsedMilliseconds":19.5035,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR4"}}
{"Timestamp":"2024-11-13T09:44:59.7482124+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.7523734+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.7535097+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.7580418+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.7593367+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.7603490+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.7862032+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.7899563+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.7913388+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.7953482+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.7963963+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.8000042+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.8010292+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.8066,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.8021018+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.2182,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.8034204+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.8046943+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.8058492+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":52.3687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.3687"}]}}
{"Timestamp":"2024-11-13T09:44:59.8069513+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":48.9464,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"48.9464"}]}}
{"Timestamp":"2024-11-13T09:44:59.8087713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a590072d508c9067464ed5c6b93a228a","SpanId":"6e895e9269a81d1b","Properties":{"ElapsedMilliseconds":61.0365,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR5"}}
{"Timestamp":"2024-11-13T09:44:59.8107576+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"db5c919b3bb745ecea2f593afc9aa5df","SpanId":"598ae8fc4241796a","Properties":{"ElapsedMilliseconds":58.483,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR6"}}
{"Timestamp":"2024-11-13T09:44:59.8189488+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8191712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8239751+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8293266+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8267121+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8341957+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8351517+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8399159+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8404126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8417051+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.2991,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8507879+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8491814+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8521132+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":28.5046,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5046"}]}}
{"Timestamp":"2024-11-13T09:44:59.8537076+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.909,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8555234+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81c6e93f291e0c6643a6350cbc6b3c36","SpanId":"3f697d24d515080a","Properties":{"ElapsedMilliseconds":36.9499,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VR7"}}
{"Timestamp":"2024-11-13T09:44:59.8577964+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:44:59.8640133+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":37.5261,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.5261"}]}}
{"Timestamp":"2024-11-13T09:44:59.8661043+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cf0f294e4d0f7f186e53e2c8e121b70","SpanId":"050c089257a9dbe0","Properties":{"ElapsedMilliseconds":46.9461,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VR8"}}
{"Timestamp":"2024-11-13T09:45:42.0806736+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.0935880+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.0954278+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1066340+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1120679+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1177297+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1208655+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1222066+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.4104,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1234184+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1244963+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":31.0325,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.0325"}]}}
{"Timestamp":"2024-11-13T09:45:42.1259467+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f9a5088a43d4863df6f1135b3d4e1c59","SpanId":"bde9f54b61041413","Properties":{"ElapsedMilliseconds":51.7266,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VR9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VR9"}}
{"Timestamp":"2024-11-13T09:45:42.1294442+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1321449+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1330655+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1374644+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1394973+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1405981+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.9711,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1417235+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:45:42.1426768+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.6953,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.6953"}]}}
{"Timestamp":"2024-11-13T09:45:42.1440558+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6fa11ebc955c84ee3c805101ea2730b","SpanId":"8c01e7d8469148f6","Properties":{"ElapsedMilliseconds":14.6468,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRA"}}
{"Timestamp":"2024-11-13T09:46:40.8037213+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8059869+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8071346+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8142071+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8181017+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8227202+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8248821+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8258883+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.112,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8272381+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8283995+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":22.4589,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.4589"}]}}
{"Timestamp":"2024-11-13T09:46:40.8302509+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e431b1ba71b7d747419d3e4f5e3ebb5a","SpanId":"2bacdda085eacfa3","Properties":{"ElapsedMilliseconds":26.529,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRB"}}
{"Timestamp":"2024-11-13T09:46:40.8347719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-01&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8383418+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8408507+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8506237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8536657+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8556179+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.5716,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8651811+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.8674069+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":29.3815,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.3815"}]}}
{"Timestamp":"2024-11-13T09:46:40.8691460+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"52ba9e879ede9cf9d62e98ef0cad85f0","SpanId":"b9ad373557989570","Properties":{"ElapsedMilliseconds":34.3876,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-01&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRC"}}
{"Timestamp":"2024-11-13T09:46:40.9902643+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0042781+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0043921+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0058454+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0095988+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0146255+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0174009+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0392759+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0399922+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0433384+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0488959+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0451595+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0518136+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.5859,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0533846+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0504109+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.9011,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0545499+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.3331,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.3331"}]}}
{"Timestamp":"2024-11-13T09:46:41.0558787+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0576919+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ab85d212a4c62dc8e1e44e6dfab737e3","SpanId":"82a06cfe5685636a","Properties":{"ElapsedMilliseconds":67.4522,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRD"}}
{"Timestamp":"2024-11-13T09:46:41.0589078+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":49.3733,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.3733"}]}}
{"Timestamp":"2024-11-13T09:46:41.0609739+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-01&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0649126+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cfd7e662de34d88908ab48683222b49f","SpanId":"a5ba1bb71ae812cb","Properties":{"ElapsedMilliseconds":61.2986,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRE"}}
{"Timestamp":"2024-11-13T09:46:41.0681858+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0703958+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-01&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.0738173+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0783506+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.0834119+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.0843816+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0898027+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0924789+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.0215,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0956215+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.0981034+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":30.1357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.1357"}]}}
{"Timestamp":"2024-11-13T09:46:41.1010692+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e482fe699b5657f82be20deb4027808","SpanId":"2cddb88ab7b01eaa","Properties":{"ElapsedMilliseconds":40.0583,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-01&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRF"}}
{"Timestamp":"2024-11-13T09:46:41.1062381+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.1101398+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48470fe8-8f4d-468f-8ca3-cf0cad7b51eb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.1112418+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":25.0669,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.1131363+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:41.1146209+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.8861,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.8861"}]}}
{"Timestamp":"2024-11-13T09:46:41.1163888+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d31602ce7b783b1fec0fff9dccb5c6d","SpanId":"9a30eedea97a349c","Properties":{"ElapsedMilliseconds":46.1023,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-01&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN83H6J18VRG"}}
{"Timestamp":"2024-11-13T09:46:42.0419686+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0479485+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0488189+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0530346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0563696+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0584554+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0594163+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.8659,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0604731+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0613427+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.4446,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.4446"}]}}
{"Timestamp":"2024-11-13T09:46:42.0635334+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f0c2a9f0b57ca1743ac73cb51e2d9ba","SpanId":"6cf9febdd6b7f8d5","Properties":{"ElapsedMilliseconds":21.6212,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRH"}}
{"Timestamp":"2024-11-13T09:46:42.0660422+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0699303+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0708564+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0736557+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0756439+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0767601+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.1063,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0786424+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:42.0801295+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.3537,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.3537"}]}}
{"Timestamp":"2024-11-13T09:46:42.0819148+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3812dcbaf1c11c46f205362b393489d1","SpanId":"743ab88319107b39","Properties":{"ElapsedMilliseconds":15.8887,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRI"}}
{"Timestamp":"2024-11-13T09:46:43.9127175+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9162075+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9174209+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9269530+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9310422+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9330431+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9340086+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.3191,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9350095+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9358657+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.7093,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.7093"}]}}
{"Timestamp":"2024-11-13T09:46:43.9372344+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f29f837000197539666be39804ce293","SpanId":"267273c5406b9c68","Properties":{"ElapsedMilliseconds":24.598,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRJ"}}
{"Timestamp":"2024-11-13T09:46:43.9394335+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9429482+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9438674+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9471797+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9491596+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9502411+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.1353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9513877+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:46:43.9523431+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.5538,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.5538"}]}}
{"Timestamp":"2024-11-13T09:46:43.9536637+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80d805839ec0082c949273fa906216a5","SpanId":"a08f3d1d368e34a1","Properties":{"ElapsedMilliseconds":14.2581,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRK"}}
{"Timestamp":"2024-11-13T09:47:24.5443610+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5479297+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5494770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5569582+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"elapsed":"1","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5621885+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5649274+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"decaaaa8-2c7b-4bdd-8c5a-1579e8f92643","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5661232+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":14.235,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5673872+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:47:24.5686892+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":20.8992,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.8992"}]}}
{"Timestamp":"2024-11-13T09:47:24.5701196+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1535789bf0cf94276ddf82bdcec30bd7","SpanId":"9e4557e4c43d0b96","Properties":{"ElapsedMilliseconds":25.7863,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN83H6J18VRL"}}
{"Timestamp":"2024-11-13T09:48:24.9552860+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:24.9713007+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:24.9725471+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:24.9849363+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:24.9906240+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:25.0002560+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:25.0028698+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:25.0055706+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.9587,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:25.0067486+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:25.0080964+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":36.8296,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.8296"}]}}
{"Timestamp":"2024-11-13T09:48:25.0102385+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22bcdd19c5dab9202cff03f712949814","SpanId":"20e8ce4d7ec3d91d","Properties":{"ElapsedMilliseconds":55.004,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRM"}}
{"Timestamp":"2024-11-13T09:48:25.1671524+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1698662+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1709237+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1754423+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1777676+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1789586+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.4407,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1800969+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:48:25.1810486+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.4116,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.4116"}]}}
{"Timestamp":"2024-11-13T09:48:25.1824172+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11404d671748ce30db4b1479fd207031","SpanId":"8fdd6fac01b07f0e","Properties":{"ElapsedMilliseconds":15.2785,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRN"}}
{"Timestamp":"2024-11-13T09:49:24.9315434+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:24.9613107+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:24.9638483+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:24.9867589+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:24.9919716+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:24.9985493+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:25.0013452+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:25.0026172+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.7859,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:25.0038338+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:25.0048555+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":43.6586,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.6586"}]}}
{"Timestamp":"2024-11-13T09:49:25.0065856+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c93ddff2d3e8bf11b4544a56995f7013","SpanId":"43a45cfba7bfb7c0","Properties":{"ElapsedMilliseconds":75.197,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRO"}}
{"Timestamp":"2024-11-13T09:49:25.0125359+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0151825+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0164097+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0214798+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0240569+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0254720+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.9449,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0268422+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:49:25.0280189+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.9882,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.9882"}]}}
{"Timestamp":"2024-11-13T09:49:25.0300713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea4067f09285562397db9cc138498b4d","SpanId":"3f31d4c910223902","Properties":{"ElapsedMilliseconds":17.63,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRP"}}
{"Timestamp":"2024-11-13T09:50:24.9167943+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9227713+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9237627+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9327762+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9387571+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9475648+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9499556+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9509358+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.1903,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9519970+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9528779+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":30.1682,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.1682"}]}}
{"Timestamp":"2024-11-13T09:50:24.9542944+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe0838346bed32ff86b7af1c5e306cd5","SpanId":"65bd4a9d6a3c71a5","Properties":{"ElapsedMilliseconds":38.344,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRQ"}}
{"Timestamp":"2024-11-13T09:50:24.9586773+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9609434+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9632472+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9696030+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9728151+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9745169+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.2714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9764851+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:50:24.9778937+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.1704,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1704"}]}}
{"Timestamp":"2024-11-13T09:50:24.9799241+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ffba591c3cdd702f2991883f8998a060","SpanId":"634d2dd26e369f55","Properties":{"ElapsedMilliseconds":21.2664,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRR"}}
{"Timestamp":"2024-11-13T09:51:24.9007393+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9058317+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9066068+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9133078+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9176914+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9219779+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9240722+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9251013+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.7621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9260941+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9269608+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":21.1808,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1808"}]}}
{"Timestamp":"2024-11-13T09:51:24.9283670+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e7cdc54692c1853c4b720b84ebba9a79","SpanId":"6255267fdc3bbd92","Properties":{"ElapsedMilliseconds":27.7562,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRS"}}
{"Timestamp":"2024-11-13T09:51:24.9340612+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9367439+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9387926+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9466660+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9501280+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9518152+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.0863,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9534981+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:51:24.9548968+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.3383,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.3383"}]}}
{"Timestamp":"2024-11-13T09:51:24.9564403+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37f2c0348a6d34cc2584d9063800d16f","SpanId":"8add93b6512021f8","Properties":{"ElapsedMilliseconds":22.4023,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRT"}}
{"Timestamp":"2024-11-13T09:52:24.9272148+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9366004+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9381891+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9548976+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9592732+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9648667+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9673890+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9685412+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.5376,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9697354+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9707567+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":34.2866,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.2866"}]}}
{"Timestamp":"2024-11-13T09:52:24.9724311+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6bb7e9680e4d791758fa9bb9da82cfd","SpanId":"2efc70f9abe680e1","Properties":{"ElapsedMilliseconds":45.6022,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VRU"}}
{"Timestamp":"2024-11-13T09:52:24.9766044+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9804294+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9815987+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9868110+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9893493+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9907182+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.1443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9921053+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:52:24.9937093+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.4491,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.4491"}]}}
{"Timestamp":"2024-11-13T09:52:24.9953390+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c28b4eecae353d00afaf55400d379271","SpanId":"a2eef7654a310e15","Properties":{"ElapsedMilliseconds":18.7666,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VRV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VRV"}}
{"Timestamp":"2024-11-13T09:53:24.9504546+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:24.9571903+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:24.9590433+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:24.9835887+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:24.9975743+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:25.0047964+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:25.0068457+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:25.0078375+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":43.2204,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:25.0091098+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:25.0099529+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":52.901,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.9010"}]}}
{"Timestamp":"2024-11-13T09:53:25.0112880+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a9a8de8170734a2c94036a0d6687560","SpanId":"66358f1e78f25457","Properties":{"ElapsedMilliseconds":61.0783,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS0"}}
{"Timestamp":"2024-11-13T09:53:25.0146951+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0168753+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0177794+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0222838+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0248034+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0261860+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.844,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0273271+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:53:25.0282905+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.5766,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.5766"}]}}
{"Timestamp":"2024-11-13T09:53:25.0297249+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0db1578283a6b83ddbd984b8f8af4ca5","SpanId":"199808d9e24ffcaf","Properties":{"ElapsedMilliseconds":15.0936,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS1"}}
{"Timestamp":"2024-11-13T09:54:24.9617918+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9659972+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9669702+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9745130+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9782246+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9828787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9858605+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9870988+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.8726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9882552+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9892857+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":23.3437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.3437"}]}}
{"Timestamp":"2024-11-13T09:54:24.9909599+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f52d722d2577d81675e9fc9afa12f8bf","SpanId":"236f2f4441395959","Properties":{"ElapsedMilliseconds":29.2153,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS2"}}
{"Timestamp":"2024-11-13T09:54:24.9982061+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0017139+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0049730+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0126085+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0156963+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0171637+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.2598,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0184594+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:54:25.0197498+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.2805,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2805"}]}}
{"Timestamp":"2024-11-13T09:54:25.0214261+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a154cf3e4cfc473329d6dc15cbfd603","SpanId":"79cfe32f18814dad","Properties":{"ElapsedMilliseconds":23.2704,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS3"}}
{"Timestamp":"2024-11-13T09:55:24.9519423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9597133+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9608782+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9727079+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9805218+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9863205+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9883810+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9895542+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.9059,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9907011+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9915923+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":31.947,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.9470"}]}}
{"Timestamp":"2024-11-13T09:55:24.9929861+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"adb4fa0e8a34d6d5fb85c943e8421641","SpanId":"79def2be4bc6a637","Properties":{"ElapsedMilliseconds":41.0822,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS4"}}
{"Timestamp":"2024-11-13T09:55:24.9968436+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0024012+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0033225+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0077122+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0097523+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0108569+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.9575,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0122304+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:55:25.0133194+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.1284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.1284"}]}}
{"Timestamp":"2024-11-13T09:55:25.0146839+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"802eac410738e3eff355d89d541c4d49","SpanId":"90b4285e33513cb5","Properties":{"ElapsedMilliseconds":17.8521,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS5"}}
{"Timestamp":"2024-11-13T09:56:24.9616379+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:24.9748546+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:24.9783526+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0040432+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0085280+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0147399+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0176992+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0189205+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0203391+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0214424+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":46.8646,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.8646"}]}}
{"Timestamp":"2024-11-13T09:56:25.0231539+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cae0889bd894a365e52a313b9277137c","SpanId":"e57de8cbecbae5a5","Properties":{"ElapsedMilliseconds":61.8565,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS6"}}
{"Timestamp":"2024-11-13T09:56:25.0325145+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0423894+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0440060+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0518126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0543618+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0557697+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.5825,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0570740+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:56:25.0582515+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.0466,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.0466"}]}}
{"Timestamp":"2024-11-13T09:56:25.0599152+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7ce4111074790c4ccfaee5706ff61e1","SpanId":"0e6cc7b228025a73","Properties":{"ElapsedMilliseconds":27.4318,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS7"}}
{"Timestamp":"2024-11-13T09:57:24.9472012+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9530073+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9552194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9753685+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9797629+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9844451+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9870263+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9881685+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.1656,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9893171+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9902259+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":37.3339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.3339"}]}}
{"Timestamp":"2024-11-13T09:57:24.9915721+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"57145bfab86b7a08073b0e4e9fbf2d5c","SpanId":"280e320e57c6624b","Properties":{"ElapsedMilliseconds":44.4383,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VS8"}}
{"Timestamp":"2024-11-13T09:57:24.9952346+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:24.9991747+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:25.0000844+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:25.0044916+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:25.0065311+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:25.0076288+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.9815,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:25.0087576+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:57:25.0097108+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.6713,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.6713"}]}}
{"Timestamp":"2024-11-13T09:57:25.0110547+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3528d8c6eb51d7869da1ff32078dfb5e","SpanId":"7297b80943f48f96","Properties":{"ElapsedMilliseconds":15.856,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VS9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VS9"}}
{"Timestamp":"2024-11-13T09:58:24.9497152+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9571098+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9581559+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9683685+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9732054+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9783314+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9813391+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9825670+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.3771,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9838721+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9850319+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":27.9769,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.9769"}]}}
{"Timestamp":"2024-11-13T09:58:24.9867995+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b38d344af1ccd8c49a61b49bdff94eea","SpanId":"5ac8c419168ffbe8","Properties":{"ElapsedMilliseconds":37.1712,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSA"}}
{"Timestamp":"2024-11-13T09:58:24.9924384+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:24.9951465+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:24.9972812+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:25.0027542+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:25.0052497+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:25.0066824+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.4545,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:25.0080805+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:58:25.0092486+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.3466,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.3466"}]}}
{"Timestamp":"2024-11-13T09:58:25.0108854+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a6114e62fdcfd5cf8d5998b31b8fb36b","SpanId":"37c22f578d2a652c","Properties":{"ElapsedMilliseconds":18.5007,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSB"}}
{"Timestamp":"2024-11-13T09:59:24.9642494+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9680400+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9693440+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9792724+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9847544+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9903464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9931367+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9944669+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.7317,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9961151+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:24.9975152+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":29.5305,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.5305"}]}}
{"Timestamp":"2024-11-13T09:59:24.9993932+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2a63a83f788de8588c1e782288cac57","SpanId":"900fac14b6a70843","Properties":{"ElapsedMilliseconds":35.2679,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSC"}}
{"Timestamp":"2024-11-13T09:59:25.0052544+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0079720+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0092304+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0217840+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0250258+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0267766+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.3041,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0285348+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T09:59:25.0307201+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":22.928,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.9280"}]}}
{"Timestamp":"2024-11-13T09:59:25.0329315+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e7eca3eca78984d3c8f9039a537dee1f","SpanId":"4e148abcf215543b","Properties":{"ElapsedMilliseconds":27.7448,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSD"}}
{"Timestamp":"2024-11-13T10:00:24.9922413+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:24.9969640+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:24.9985105+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0164801+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0206892+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0250228+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0270955+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0280606+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.9514,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0292208+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0302509+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":33.3741,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.3741"}]}}
{"Timestamp":"2024-11-13T10:00:25.0315984+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a53843d94e9b0e9839638f66b7320c9e","SpanId":"18e3ca4506bf740b","Properties":{"ElapsedMilliseconds":39.4139,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSE"}}
{"Timestamp":"2024-11-13T10:00:25.0360462+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0380652+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0389570+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0434701+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0457148+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0474677+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.9565,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0486205+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:00:25.0495828+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.6362,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.6362"}]}}
{"Timestamp":"2024-11-13T10:00:25.0509154+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa081c261d878acd1e8fd2ef17d64841","SpanId":"fc749d7dd5b8385a","Properties":{"ElapsedMilliseconds":14.8807,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSF"}}
{"Timestamp":"2024-11-13T10:01:24.9855875+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0107928+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0164448+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0391590+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0439990+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0524042+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0554677+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0568724+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.7737,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0584221+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0596976+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":49.0022,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.0022"}]}}
{"Timestamp":"2024-11-13T10:01:25.0615011+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5941da15745834cf9f67a557faaf4bd4","SpanId":"3fd3faf1d5e01d72","Properties":{"ElapsedMilliseconds":75.9769,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSG"}}
{"Timestamp":"2024-11-13T10:01:25.0662312+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0686013+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0695192+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0739759+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0760327+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0776426+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.4945,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0797426+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:01:25.0807445+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.2767,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.2767"}]}}
{"Timestamp":"2024-11-13T10:01:25.0821213+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a64e136e395e7b35405b6426fa89a99a","SpanId":"fabf99dc4fd1c12d","Properties":{"ElapsedMilliseconds":15.9006,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSH"}}
{"Timestamp":"2024-11-13T10:02:24.9973496+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0023899+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0032829+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0102346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0150552+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0194803+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0214884+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0224102+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.2915,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0234207+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0245343+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":22.1962,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.1962"}]}}
{"Timestamp":"2024-11-13T10:02:25.0258833+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bf8c9daabcfa2994f82d79e0284154f9","SpanId":"d228fcb5b0f23d35","Properties":{"ElapsedMilliseconds":29.0095,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSI"}}
{"Timestamp":"2024-11-13T10:02:25.0288903+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0314848+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0326668+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0372691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0392959+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0406914+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.2934,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0418798+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:02:25.0428075+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.4479,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.4479"}]}}
{"Timestamp":"2024-11-13T10:02:25.0443262+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"016ce8b0d97324483b8c401d240300b4","SpanId":"2b6c88fd22fe3d8f","Properties":{"ElapsedMilliseconds":15.5077,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSJ"}}
{"Timestamp":"2024-11-13T10:03:24.9798403+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:24.9899953+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:24.9913906+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0016579+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0054286+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0100439+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0134917+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0146803+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.1709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0156528+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0164950+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":26.6012,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.6012"}]}}
{"Timestamp":"2024-11-13T10:03:25.0178459+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0db44a7ded0f2b889c08ce0aeabb0dd7","SpanId":"6f3ec7134f56d6b6","Properties":{"ElapsedMilliseconds":38.637,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSK"}}
{"Timestamp":"2024-11-13T10:03:25.0222309+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0243540+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0253485+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0301339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0327440+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0341932+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.2893,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0355361+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:03:25.0365614+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.3315,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.3315"}]}}
{"Timestamp":"2024-11-13T10:03:25.0378171+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"159362f8dad0fb9ce12df7775d238f3e","SpanId":"05fccb56881bc134","Properties":{"ElapsedMilliseconds":15.5993,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSL"}}
{"Timestamp":"2024-11-13T10:04:25.0075773+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0325184+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0370194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0576896+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0627543+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0692174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0725039+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0738824+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.5174,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0758171+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0769158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":44.5396,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.5396"}]}}
{"Timestamp":"2024-11-13T10:04:25.0806071+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4b7354c4cb37315061f5c4e5c1254e6a","SpanId":"650fbe64e05ed41d","Properties":{"ElapsedMilliseconds":73.1329,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSM"}}
{"Timestamp":"2024-11-13T10:04:25.0905480+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1005339+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1017114+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1066296+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1090759+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1104462+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.7772,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1119002+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:04:25.1133657+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.0342,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.0342"}]}}
{"Timestamp":"2024-11-13T10:04:25.1150196+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e87f3765d6ff517740ae329e65f7336e","SpanId":"eb57afaafe564187","Properties":{"ElapsedMilliseconds":24.6021,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSN"}}
{"Timestamp":"2024-11-13T10:05:24.9960279+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0066382+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0077886+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0178381+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0245334+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0371126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"elapsed":"7","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0396883+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f2e14437-8196-4670-b670-36aba026f208","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0408628+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.9192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0419138+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0427552+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":36.1953,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.1953"}]}}
{"Timestamp":"2024-11-13T10:05:25.0441396+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16280be73f86ef95f832f064244afc2d","SpanId":"9e9695896171c9e3","Properties":{"ElapsedMilliseconds":48.1759,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN83H6J18VSO"}}
{"Timestamp":"2024-11-13T10:05:25.0499054+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0522074+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0533469+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0579858+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0600334+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"242fbbd3-9304-4872-91b3-50367ef92639","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0611895+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.1076,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0623199+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
{"Timestamp":"2024-11-13T10:05:25.0640005+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.9613,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9613"}]}}
{"Timestamp":"2024-11-13T10:05:25.0655490+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c21d560a8df51fb4acc1cb22fe6c1dc6","SpanId":"41225aae55f9758f","Properties":{"ElapsedMilliseconds":15.6984,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN83H6J18VSP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN83H6J18VSP"}}
