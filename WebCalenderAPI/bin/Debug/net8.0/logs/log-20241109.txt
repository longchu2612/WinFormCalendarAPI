{"Timestamp":"2024-11-09T20:37:31.7668456+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-09T20:37:32.2484328+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:37:32.3377971+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:37:32.3406507+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:37:32.3420310+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:37:35.0345395+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b74532a6892c9d5acb3fe3fed5db2fc","SpanId":"43514fee5417eedb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80OEKU89UE"}}
{"Timestamp":"2024-11-09T20:37:35.5567194+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b74532a6892c9d5acb3fe3fed5db2fc","SpanId":"43514fee5417eedb","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":145.4276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"145.4276"}]}}
{"Timestamp":"2024-11-09T20:37:35.5673614+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42fbddd6bcb8fe04b861199670c25287","SpanId":"c05e458aad800380","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80OEKU89UF"}}
{"Timestamp":"2024-11-09T20:37:35.5673614+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8aa48ca1c019285a30b6f63986cedd07","SpanId":"0b505ceec743d937","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80OEKU89UD"}}
{"Timestamp":"2024-11-09T20:37:35.5861423+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b74532a6892c9d5acb3fe3fed5db2fc","SpanId":"43514fee5417eedb","Properties":{"ElapsedMilliseconds":561.9151,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80OEKU89UE"}}
{"Timestamp":"2024-11-09T20:37:35.5997831+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8aa48ca1c019285a30b6f63986cedd07","SpanId":"0b505ceec743d937","Properties":{"ElapsedMilliseconds":32.6806,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80OEKU89UD"}}
{"Timestamp":"2024-11-09T20:37:35.6856535+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42fbddd6bcb8fe04b861199670c25287","SpanId":"c05e458aad800380","Properties":{"ElapsedMilliseconds":118.4286,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80OEKU89UF"}}
{"Timestamp":"2024-11-09T20:37:35.8733743+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd08a61dea9d68f676c7ec6d3ad7d15c","SpanId":"96c9e20517f390dc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80OEKU89UF"}}
{"Timestamp":"2024-11-09T20:37:36.1194254+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd08a61dea9d68f676c7ec6d3ad7d15c","SpanId":"96c9e20517f390dc","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":239.1951,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"239.1951"}]}}
{"Timestamp":"2024-11-09T20:37:36.1277445+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd08a61dea9d68f676c7ec6d3ad7d15c","SpanId":"96c9e20517f390dc","Properties":{"ElapsedMilliseconds":254.3454,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEKU89UF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80OEKU89UF"}}
{"Timestamp":"2024-11-09T20:38:04.0814642+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-09T20:38:04.6209093+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:38:04.6722565+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:38:04.6749968+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:38:04.6771245+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T20:38:05.4926314+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9cdcab1e17c4d48216d0121daddc95ad","SpanId":"a17355bcdb790983","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI03:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80OEUIKI03"}}
{"Timestamp":"2024-11-09T20:38:05.8601463+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9cdcab1e17c4d48216d0121daddc95ad","SpanId":"a17355bcdb790983","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":87.0161,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"87.0161"}]}}
{"Timestamp":"2024-11-09T20:38:05.8704583+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d20d8076d161fb8e4cc9eb3f7f763122","SpanId":"985cc3c82023eac8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI02:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80OEUIKI02"}}
{"Timestamp":"2024-11-09T20:38:05.8715163+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2b99c1f718c87909cfbbd83c2f7ac87","SpanId":"6a7bdb1a910fdb9b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI04:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80OEUIKI04"}}
{"Timestamp":"2024-11-09T20:38:05.8802387+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9cdcab1e17c4d48216d0121daddc95ad","SpanId":"a17355bcdb790983","Properties":{"ElapsedMilliseconds":401.98,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI03:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80OEUIKI03"}}
{"Timestamp":"2024-11-09T20:38:05.8811882+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d20d8076d161fb8e4cc9eb3f7f763122","SpanId":"985cc3c82023eac8","Properties":{"ElapsedMilliseconds":10.9809,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI02:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80OEUIKI02"}}
{"Timestamp":"2024-11-09T20:38:05.9632180+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2b99c1f718c87909cfbbd83c2f7ac87","SpanId":"6a7bdb1a910fdb9b","Properties":{"ElapsedMilliseconds":92.1307,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI04:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80OEUIKI04"}}
{"Timestamp":"2024-11-09T20:38:06.1896793+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5dad8fc442a6d52bd76793542b4a343","SpanId":"1f9c57d19c102e0e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI04:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80OEUIKI04"}}
{"Timestamp":"2024-11-09T20:38:06.4431330+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5dad8fc442a6d52bd76793542b4a343","SpanId":"1f9c57d19c102e0e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":247.2163,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"247.2163"}]}}
{"Timestamp":"2024-11-09T20:38:06.4477831+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5dad8fc442a6d52bd76793542b4a343","SpanId":"1f9c57d19c102e0e","Properties":{"ElapsedMilliseconds":258.2182,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI04:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80OEUIKI04"}}
{"Timestamp":"2024-11-09T20:38:24.3745215+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:24.3914674+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:24.6152108+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:24.7022711+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:28.6784481+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"elapsed":"165","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:29.4285513+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"elapsed":"75","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:29.4806022+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:29.5234972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":4810.8158,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:29.5274950+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:29.5332654+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":5149.4532,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5149.4532"}]}}
{"Timestamp":"2024-11-09T20:38:29.5576096+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fddd48ff89cbc454680817c9335b53bb","SpanId":"7d997df1e4e2da4d","Properties":{"ElapsedMilliseconds":5183.1938,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI05:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI05"}}
{"Timestamp":"2024-11-09T20:38:34.2912639+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.3041728+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.3202778+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.5089286+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"elapsed":"27","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.5195571+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.5582807+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.5619624+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.6970783+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"elapsed":"16","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.7236595+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.7266248+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":402.2251,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.7290041+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.7335495+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":432.5958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"432.5958"}]}}
{"Timestamp":"2024-11-09T20:38:34.7375708+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff3fc08268e4224d29484abc21b345de","SpanId":"92d992b4456b23be","Properties":{"ElapsedMilliseconds":446.5406,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI06"}}
{"Timestamp":"2024-11-09T20:38:34.7456600+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.7482573+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.7725551+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.7977382+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.8006983+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":226.1711,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.8031556+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.8052119+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":251.8564,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"251.8564"}]}}
{"Timestamp":"2024-11-09T20:38:34.8083723+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"635cb529dbf5f9c5abd141f6ab2283c6","SpanId":"9001951aa73c1eb7","Properties":{"ElapsedMilliseconds":288.85,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI07"}}
{"Timestamp":"2024-11-09T20:38:34.8117740+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:34.8468947+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.8468947+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:34.8537243+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.8537243+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:34.9611429+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"elapsed":"29","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:34.9613832+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"elapsed":"41","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.9728400+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.9734772+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:34.9877434+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":131.815,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.9909143+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.9935999+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":242.3138,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"242.3138"}]}}
{"Timestamp":"2024-11-09T20:38:34.9958737+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":137.5458,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:34.9973512+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b84558cc17cdb56d6591836fce334e7","SpanId":"1c57f52fa6d89834","Properties":{"ElapsedMilliseconds":251.7351,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI08:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI08"}}
{"Timestamp":"2024-11-09T20:38:34.9993051+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:35.0081651+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":188.0006,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"188.0006"}]}}
{"Timestamp":"2024-11-09T20:38:35.0118713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99f49c6f5d3cf198ac511d396f2bd84a","SpanId":"0fbb053256da994f","Properties":{"ElapsedMilliseconds":200.1573,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI09:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI09"}}
{"Timestamp":"2024-11-09T20:38:40.5087053+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5131272+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5146409+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5352553+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5479189+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5519817+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5542751+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.631,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5564736+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5585729+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":45.6377,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.6377"}]}}
{"Timestamp":"2024-11-09T20:38:40.5798935+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88a31f2c8cf6fe1a57ca4361920799ff","SpanId":"bf89a3f237e066de","Properties":{"ElapsedMilliseconds":71.2167,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0A"}}
{"Timestamp":"2024-11-09T20:38:40.5846974+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1217","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.5912110+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.5974363+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.6227741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"elapsed":"6","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.6788175+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"elapsed":"5","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.8533428+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"elapsed":"44","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.8892867+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.8909421+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":289.6735,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.8929392+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:40.8942470+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1217","StatusCode":200,"Elapsed":303.1973,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"303.1973"}]}}
{"Timestamp":"2024-11-09T20:38:40.8968138+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca3277f3a0afa09cdb72b3392992628f","SpanId":"503aebe00f2b8bec","Properties":{"ElapsedMilliseconds":312.4503,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1217","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0B:00000001","RequestPath":"/api/Schedules/1217","ConnectionId":"0HN80OEUIKI0B"}}
{"Timestamp":"2024-11-09T20:38:42.4099486+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4135625+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4151952+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4213176+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4284597+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4306036+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4318295+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.231,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4341707+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4356984+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.2697,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.2697"}]}}
{"Timestamp":"2024-11-09T20:38:42.4378034+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"723b35ad94f3a5418e49bb0fb7678b37","SpanId":"372aa33f5990b3f4","Properties":{"ElapsedMilliseconds":27.8963,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0C"}}
{"Timestamp":"2024-11-09T20:38:42.4399630+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4451782+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4469363+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4584388+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4620982+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4649061+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.1489,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4673419+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:38:42.4693615+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.9327,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.9327"}]}}
{"Timestamp":"2024-11-09T20:38:42.4732358+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ef0126eb42f3751283992586464f849","SpanId":"4c487d91d3e03446","Properties":{"ElapsedMilliseconds":33.2338,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0D"}}
{"Timestamp":"2024-11-09T20:40:02.5197285+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5349072+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5373262+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5505426+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5635206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5702799+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5734277+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.2793,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5762435+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.5785545+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":44.0171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.0171"}]}}
{"Timestamp":"2024-11-09T20:40:02.5826766+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"95d8fe90efac9d021446b7ba43561a8a","SpanId":"60b4c2ec91145ce1","Properties":{"ElapsedMilliseconds":62.7629,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0E"}}
{"Timestamp":"2024-11-09T20:40:02.6176642+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1216","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6290579+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6314753+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6410236+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6497322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6678878+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6732305+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6750706+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":40.6133,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6776904+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:02.6805171+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1216","StatusCode":200,"Elapsed":51.6064,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.6064"}]}}
{"Timestamp":"2024-11-09T20:40:02.6845424+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80eae5dbaa70522ba919576a175cd771","SpanId":"8f4256fd49eab7c1","Properties":{"ElapsedMilliseconds":68.8931,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1216","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0F:00000001","RequestPath":"/api/Schedules/1216","ConnectionId":"0HN80OEUIKI0F"}}
{"Timestamp":"2024-11-09T20:40:04.7360096+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7409591+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7431586+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7517159+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7614478+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7656004+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7675737+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.9859,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7693547+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:04.7710319+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":30.1941,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.1941"}]}}
{"Timestamp":"2024-11-09T20:40:04.7742553+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fc0d392338d88da57e946b45ed17a8ca","SpanId":"ee787776680f9e22","Properties":{"ElapsedMilliseconds":38.5103,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0G"}}
{"Timestamp":"2024-11-09T20:40:14.7725606+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.7786987+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.7815770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.8070834+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"elapsed":"8","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.8105111+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.8128731+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":19.2476,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.8147344+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:14.8163824+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":400,"Elapsed":37.8252,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.8252"}]}}
{"Timestamp":"2024-11-09T20:40:14.8196047+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e7c36ec70f30f143ddb1ed9ad49a23d","SpanId":"998d54af25a1cc7f","Properties":{"ElapsedMilliseconds":46.983,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0H"}}
{"Timestamp":"2024-11-09T20:40:18.7883002+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.7938507+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.7953699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.8058791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"elapsed":"5","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.8181806+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.8211297+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.8232862+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":24.7617,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.8253653+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:18.8266115+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":32.8967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8967"}]}}
{"Timestamp":"2024-11-09T20:40:18.8287983+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d74f976d436bc9c50010b44f648b1dc8","SpanId":"9f79c0a927efe78b","Properties":{"ElapsedMilliseconds":40.5062,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI0I"}}
{"Timestamp":"2024-11-09T20:40:21.2301953+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2383672+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2414899+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2451117+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.2509871+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.2521588+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2530469+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.2636096+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2666701+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2681207+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.1271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2693326+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.2706181+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2748509+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.6178,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.6178"}]}}
{"Timestamp":"2024-11-09T20:40:21.2842924+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e46c7d85f520cb9ae50ee49dda470acd","SpanId":"e68c0c9415846cbe","Properties":{"ElapsedMilliseconds":54.0166,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0J"}}
{"Timestamp":"2024-11-09T20:40:21.2941111+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.2945165+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"elapsed":"18","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.3026165+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3061037+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.3074198+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3105330+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":51.2238,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.3168391+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.3185813+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":67.7542,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"67.7542"}]}}
{"Timestamp":"2024-11-09T20:40:21.3219643+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"35de4834631a18f115ce2268bdba3f9b","SpanId":"c8ca94748d9c6ca5","Properties":{"ElapsedMilliseconds":76.9031,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0K"}}
{"Timestamp":"2024-11-09T20:40:21.3246727+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3249294+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3277826+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3291933+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3298294+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3308427+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":16.0118,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3331173+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3339617+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":32.0522,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.0522"}]}}
{"Timestamp":"2024-11-09T20:40:21.3357772+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54dc04037a2beddb95a97024fdac7811","SpanId":"e7e11239b55fcd8a","Properties":{"ElapsedMilliseconds":41.6482,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0L"}}
{"Timestamp":"2024-11-09T20:40:21.3402719+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3420998+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3431402+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.0701,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3445616+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:21.3460215+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.7008,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7008"}]}}
{"Timestamp":"2024-11-09T20:40:21.3482168+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f422a178fa9986005f4444da98c82c07","SpanId":"9a2c51e1f90e7cd3","Properties":{"ElapsedMilliseconds":23.5708,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0M"}}
{"Timestamp":"2024-11-09T20:40:26.1096551+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1136297+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1156474+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1245278+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1348284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1375703+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1392037+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2997,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1406246+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1424606+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.1371,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.1371"}]}}
{"Timestamp":"2024-11-09T20:40:26.1451047+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49c1de65d3e66f54e0ec92b2d1aea437","SpanId":"1f77cc7c1dd517c7","Properties":{"ElapsedMilliseconds":35.5133,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0N"}}
{"Timestamp":"2024-11-09T20:40:26.1474299+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1522305+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1538038+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1649917+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1695571+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1727650+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":16.7987,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1755044+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.1774043+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":25.8686,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.8686"}]}}
{"Timestamp":"2024-11-09T20:40:26.1807496+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aad4f8eac80ea06f6f0e2de08964f55d","SpanId":"0fe718d5adbb3c98","Properties":{"ElapsedMilliseconds":33.3565,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0O"}}
{"Timestamp":"2024-11-09T20:40:26.2456633+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.2549962+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.2553437+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.2627825+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.2646396+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.2669690+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.2773259+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.2797640+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.2894152+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.2954070+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.2977391+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.3006740+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.3027568+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.7725,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.3161519+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.8577,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.3198331+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.3217654+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.3232173+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":68.0208,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"68.0208"}]}}
{"Timestamp":"2024-11-09T20:40:26.3244891+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":61.8642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.8642"}]}}
{"Timestamp":"2024-11-09T20:40:26.3264276+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a52cbb2657b33081de98ab633de44047","SpanId":"62c4aa9f876d4813","Properties":{"ElapsedMilliseconds":80.8523,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0P"}}
{"Timestamp":"2024-11-09T20:40:26.3284855+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0f0c89a385f7fbac521b9c5e3876ebce","SpanId":"74b777871ac5a3c2","Properties":{"ElapsedMilliseconds":73.4593,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0Q"}}
{"Timestamp":"2024-11-09T20:40:26.3318782+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3371798+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3466425+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3497199+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3489904+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3532310+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3611955+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3634906+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3657388+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.7879,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3672601+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3681601+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.9443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.9443"}]}}
{"Timestamp":"2024-11-09T20:40:26.3714906+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38fb1eb561805dc44bb315ab1624f2a8","SpanId":"6acf62907af8154d","Properties":{"ElapsedMilliseconds":39.7079,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI0R"}}
{"Timestamp":"2024-11-09T20:40:26.3740818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"elapsed":"14","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3783159+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3798875+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":24.7377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3814826+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:26.3832189+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":34.7715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.7715"}]}}
{"Timestamp":"2024-11-09T20:40:26.3851475+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"affd8662d932533e89f77f3c8776400e","SpanId":"8f5f7a8e521e18bf","Properties":{"ElapsedMilliseconds":48.0101,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0S"}}
{"Timestamp":"2024-11-09T20:40:38.9251971+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9311156+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9326324+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9419670+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9518372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9547183+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9566858+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.5222,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9591413+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9606949+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.7999,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.7999"}]}}
{"Timestamp":"2024-11-09T20:40:38.9643747+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"969c7e32fb5cb65df0734031f5c87c63","SpanId":"f1cf1aff66ade39e","Properties":{"ElapsedMilliseconds":39.2395,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0T"}}
{"Timestamp":"2024-11-09T20:40:38.9679213+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:38.9740649+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:38.9758069+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:38.9903079+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:38.9957678+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:38.9995317+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.9816,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:39.0025489+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:39.0043442+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":30.7993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.7993"}]}}
{"Timestamp":"2024-11-09T20:40:39.0071404+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f844aedbfdb3167ff3805a4ed49283e","SpanId":"de0c2c5000c03750","Properties":{"ElapsedMilliseconds":39.2541,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI0U"}}
{"Timestamp":"2024-11-09T20:40:39.0150390+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0184573+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0197745+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0270405+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0369154+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0401926+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0422923+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.264,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0443370+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0473290+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.9889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9889"}]}}
{"Timestamp":"2024-11-09T20:40:39.0504414+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"addeaf59a30d3d80e79af0909f657580","SpanId":"0e8cb5e0670a486d","Properties":{"ElapsedMilliseconds":35.4044,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI0V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI0V"}}
{"Timestamp":"2024-11-09T20:40:39.0573338+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.1013079+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.1080645+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.1865722+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"elapsed":"26","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.2245369+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.2314351+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.2337139+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":118.2706,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.2360866+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:39.2385115+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":137.697,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"137.6970"}]}}
{"Timestamp":"2024-11-09T20:40:39.2422968+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"400aededed22ec1d6fc8e885ed94f1c8","SpanId":"bc4b0df1b97de117","Properties":{"ElapsedMilliseconds":185.0082,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI10:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI10"}}
{"Timestamp":"2024-11-09T20:40:40.2219364+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2246613+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2258062+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2310121+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2385763+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2411885+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2430485+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.5388,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2455296+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2467926+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.2862,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.2862"}]}}
{"Timestamp":"2024-11-09T20:40:40.2481378+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"167a3332479702417854b9a05fad2eb1","SpanId":"a354739d1e8153a3","Properties":{"ElapsedMilliseconds":26.2968,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI11"}}
{"Timestamp":"2024-11-09T20:40:40.2504425+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2552283+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2568986+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2686218+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2722503+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2741688+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.6886,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2763031+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2780898+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":23.2255,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2255"}]}}
{"Timestamp":"2024-11-09T20:40:40.2817503+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e98eed2695d9e8a81b4938f55ade17f5","SpanId":"4dff870b905679b7","Properties":{"ElapsedMilliseconds":31.3068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI12"}}
{"Timestamp":"2024-11-09T20:40:40.2870189+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.2931264+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.2950971+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3018278+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3093658+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3170626+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3530899+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":53.6449,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3546881+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3558954+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":62.9228,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.9228"}]}}
{"Timestamp":"2024-11-09T20:40:40.3584465+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"27ffab35d0e33e3231a47fb2543059eb","SpanId":"2bd54ce882409136","Properties":{"ElapsedMilliseconds":71.599,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI13:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI13"}}
{"Timestamp":"2024-11-09T20:40:40.3621457+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3679360+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3690743+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3773964+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3843841+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3865762+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3876944+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":16.6141,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3895407+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:40.3911483+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":23.505,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.5050"}]}}
{"Timestamp":"2024-11-09T20:40:40.3935246+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4947a023bf1acffaf07b8e99e45ad69d","SpanId":"fb324bd1d5851145","Properties":{"ElapsedMilliseconds":31.4899,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI14:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI14"}}
{"Timestamp":"2024-11-09T20:40:56.5983169+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6029015+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6044029+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6103192+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6180747+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6221717+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6257164+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.816,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6287220+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6315064+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.7886,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.7886"}]}}
{"Timestamp":"2024-11-09T20:40:56.6362685+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d14b6786345ba32d4a132387dabf2ec1","SpanId":"b23de161d4e17a73","Properties":{"ElapsedMilliseconds":37.902,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI15"}}
{"Timestamp":"2024-11-09T20:40:56.6425160+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1225","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.6488790+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.6544798+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.6916289+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"elapsed":"9","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.7202316+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"elapsed":"15","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.7265298+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.7279474+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":70.9162,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.7295908+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:56.7311003+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1225","StatusCode":200,"Elapsed":82.3558,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"82.3558"}]}}
{"Timestamp":"2024-11-09T20:40:56.7336451+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"57a1dcb7a9cc7a04dbd4746f4d87576f","SpanId":"ffc0c7ac1cfeb80f","Properties":{"ElapsedMilliseconds":91.2631,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1225","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI16:00000001","RequestPath":"/api/Schedules/1225","ConnectionId":"0HN80OEUIKI16"}}
{"Timestamp":"2024-11-09T20:40:57.3781423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.3829404+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.3851151+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.3930057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.4049363+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.4089120+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.4110376+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.932,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.4127253+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.4142813+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.4449,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.4449"}]}}
{"Timestamp":"2024-11-09T20:40:57.4166451+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a93404c0aa4803bb4da587eaf4393b86","SpanId":"7ce1951b5d1c02b5","Properties":{"ElapsedMilliseconds":38.6468,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI17:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI17"}}
{"Timestamp":"2024-11-09T20:40:57.4522277+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4587585+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4613073+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4793239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4862079+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4891660+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":25.192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4913263+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:40:57.4951841+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.7044,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.7044"}]}}
{"Timestamp":"2024-11-09T20:40:57.4986135+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1b34a52c90a2f11cc961215a85a139ed","SpanId":"f34823778595a947","Properties":{"ElapsedMilliseconds":47.893,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI18:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI18"}}
{"Timestamp":"2024-11-09T20:41:00.2839244+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.2904552+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.2925517+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3017871+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3133880+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3180542+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3211951+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.9414,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3239395+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3256434+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.2442,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.2442"}]}}
{"Timestamp":"2024-11-09T20:41:00.3293494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1de0abf115159053d8950d08edd341d","SpanId":"1422b7b29fff193b","Properties":{"ElapsedMilliseconds":45.4422,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI19:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI19"}}
{"Timestamp":"2024-11-09T20:41:00.3318270+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1226","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3380789+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3408953+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3484083+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3550020+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3647795+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3693882+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3717444+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":27.7212,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3734418+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:00.3753048+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1226","StatusCode":200,"Elapsed":37.3596,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.3596"}]}}
{"Timestamp":"2024-11-09T20:41:00.3780323+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"76a15a051c3e45fdcf91f249bcacee74","SpanId":"cf63a70d2c354427","Properties":{"ElapsedMilliseconds":46.3624,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1226","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1A:00000001","RequestPath":"/api/Schedules/1226","ConnectionId":"0HN80OEUIKI1A"}}
{"Timestamp":"2024-11-09T20:41:01.7604066+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7661234+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7681170+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7770401+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7877414+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7909860+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7924548+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.6317,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7938273+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.7949793+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.0212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.0212"}]}}
{"Timestamp":"2024-11-09T20:41:01.7983858+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5722eb12ee6d3fe155c295c56290b70e","SpanId":"2503168a95ddbc41","Properties":{"ElapsedMilliseconds":38.6307,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1B"}}
{"Timestamp":"2024-11-09T20:41:01.8015022+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8063386+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8085013+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8214699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8272284+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8295015+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":17.6871,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8323037+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:01.8337024+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":27.7093,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.7093"}]}}
{"Timestamp":"2024-11-09T20:41:01.8364311+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d3a612ee2d5750169509ed8969ed9b7","SpanId":"7ee01e4713176694","Properties":{"ElapsedMilliseconds":34.9315,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1C"}}
{"Timestamp":"2024-11-09T20:41:06.5666018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.5738199+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.5812088+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.5908188+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.6001527+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.6040574+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.6061373+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.8196,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.6079526+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.6098204+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.1467,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.1467"}]}}
{"Timestamp":"2024-11-09T20:41:06.6125992+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f77c860926ef5edc2840777f390d0720","SpanId":"ad26950912e721e2","Properties":{"ElapsedMilliseconds":46.031,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1D"}}
{"Timestamp":"2024-11-09T20:41:06.6177959+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6216188+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6236119+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6325049+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6357583+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6377004+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.6304,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6396078+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.6415650+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.4504,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4504"}]}}
{"Timestamp":"2024-11-09T20:41:06.6438020+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7b525e810070556902b61973e6a8476","SpanId":"2ff21010870503a3","Properties":{"ElapsedMilliseconds":26.1696,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1E"}}
{"Timestamp":"2024-11-09T20:41:06.7165745+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.7225798+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.7249313+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.7260054+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.7303473+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.7632576+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.7642271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.7769707+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.7876291+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.7978935+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.7991863+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.8031420+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.8058443+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":44.4839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.8094349+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":42.3053,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.8120757+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.8143884+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.8181052+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":95.6962,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"95.6962"}]}}
{"Timestamp":"2024-11-09T20:41:06.8221530+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":91.8947,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"91.8947"}]}}
{"Timestamp":"2024-11-09T20:41:06.8257013+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1ef6222eb0b59a9a9d6f49186d4eac9d","SpanId":"a919a5acca2ea2f5","Properties":{"ElapsedMilliseconds":109.2471,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1F"}}
{"Timestamp":"2024-11-09T20:41:06.8317355+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8317174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef33cdfdd2954bab6162d1d87df1b100","SpanId":"b180bf4178865aa5","Properties":{"ElapsedMilliseconds":106.9861,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1G"}}
{"Timestamp":"2024-11-09T20:41:06.8349676+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8398106+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8458410+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8470977+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8493614+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8536528+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8563316+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8577327+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.2859,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8594561+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8607613+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.2741,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.2741"}]}}
{"Timestamp":"2024-11-09T20:41:06.8648222+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8650951+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7698596f6c8bd109fd79497020dd6d4b","SpanId":"9bfbde1cd447c1a9","Properties":{"ElapsedMilliseconds":33.5365,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI1H"}}
{"Timestamp":"2024-11-09T20:41:06.8687475+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8751942+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":21.4164,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8768235+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:06.8790523+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":34.2708,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.2708"}]}}
{"Timestamp":"2024-11-09T20:41:06.8823315+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de0f98a4f5bc262d67b15a8710a66e35","SpanId":"468e4acfb4b772ce","Properties":{"ElapsedMilliseconds":47.3112,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1I:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1I"}}
{"Timestamp":"2024-11-09T20:41:08.3203741+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3265755+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3287103+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3357461+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3442887+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3485537+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3510249+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.9098,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3530845+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3545093+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.0527,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.0527"}]}}
{"Timestamp":"2024-11-09T20:41:08.3581465+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f81dbd4f94016a76b2e083750a3d900","SpanId":"d0b5d4680c9e11f9","Properties":{"ElapsedMilliseconds":37.7683,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1J"}}
{"Timestamp":"2024-11-09T20:41:08.3610551+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3642130+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3656004+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3741589+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3772906+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3793156+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.3787,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3811573+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3826861+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.7548,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7548"}]}}
{"Timestamp":"2024-11-09T20:41:08.3849335+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ce0af95a6366ed23de6dbd617968e2c","SpanId":"f817ee134c5b6369","Properties":{"ElapsedMilliseconds":23.8919,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1K"}}
{"Timestamp":"2024-11-09T20:41:08.3988116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4005310+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4019343+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4060058+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4109513+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4148515+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4173897+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.5921,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4192609+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4207200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.2993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2993"}]}}
{"Timestamp":"2024-11-09T20:41:08.4228167+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ecbd3d3cb94f4c806fa370b6729f5ca2","SpanId":"57775c469d84e35a","Properties":{"ElapsedMilliseconds":24.0327,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1L"}}
{"Timestamp":"2024-11-09T20:41:08.4259180+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4292499+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4303229+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4366173+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4485335+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4524526+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4554853+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":23.5525,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4573910+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:08.4596781+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":30.6043,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.6043"}]}}
{"Timestamp":"2024-11-09T20:41:08.4622887+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"404b21cb6c8dec1453bd6e8acd0379fa","SpanId":"abfedda5288ef9e5","Properties":{"ElapsedMilliseconds":36.4461,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1M:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1M"}}
{"Timestamp":"2024-11-09T20:41:13.8876729+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.8939283+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.8959275+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9018805+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9109528+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9143482+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9163029+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9449,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9179966+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9193975+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.5593,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.5593"}]}}
{"Timestamp":"2024-11-09T20:41:13.9216760+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af1d5b6fcd9cacc8f69330cb361cec60","SpanId":"d5f7a2cd66756e0b","Properties":{"ElapsedMilliseconds":34.045,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1N"}}
{"Timestamp":"2024-11-09T20:41:13.9255099+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9341673+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9369484+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9472012+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9508072+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9526268+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.2747,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9544361+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9560211+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.3692,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.3692"}]}}
{"Timestamp":"2024-11-09T20:41:13.9590492+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3b29935a4756778566d90fddd77a4d66","SpanId":"841dd5eb9388ee9d","Properties":{"ElapsedMilliseconds":33.6369,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1O:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1O"}}
{"Timestamp":"2024-11-09T20:41:13.9650384+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:13.9715769+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:13.9744421+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:13.9811005+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:13.9935322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:13.9992100+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:14.0021214+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.3362,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:14.0045230+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:14.0065437+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.0459,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.0459"}]}}
{"Timestamp":"2024-11-09T20:41:14.0093469+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b11436c694db029a3fd3144578bdcc77","SpanId":"9e4b98c548002a5e","Properties":{"ElapsedMilliseconds":44.3096,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1P"}}
{"Timestamp":"2024-11-09T20:41:14.0125566+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0189619+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0207346+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0514151+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"elapsed":"23","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0625732+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0667813+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0692207+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":44.5337,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0720513+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.0747343+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":56.0772,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.0772"}]}}
{"Timestamp":"2024-11-09T20:41:14.0795426+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a0159d1d6dedb56884d798d677ca37af","SpanId":"6fa2f725da84bd64","Properties":{"ElapsedMilliseconds":67.1353,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1Q"}}
{"Timestamp":"2024-11-09T20:41:14.6551856+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6626035+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6649031+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6736011+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6850049+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6889464+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6918426+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.8359,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6945219+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.6969880+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.4417,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.4417"}]}}
{"Timestamp":"2024-11-09T20:41:14.7003410+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"52b10b5699ee2b84ff7fcfeb223f8bb1","SpanId":"eadcf69eb2d2e798","Properties":{"ElapsedMilliseconds":45.4224,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1R"}}
{"Timestamp":"2024-11-09T20:41:14.7027677+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7116305+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7137811+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7296167+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7346257+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7362236+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.0839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7389519+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7411002+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":29.9949,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.9949"}]}}
{"Timestamp":"2024-11-09T20:41:14.7443586+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"937bad9bf22754fa0f0747c659c3212d","SpanId":"441bd707f208ae39","Properties":{"ElapsedMilliseconds":41.6494,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1S:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI1S"}}
{"Timestamp":"2024-11-09T20:41:14.7500748+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.7567044+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.7591172+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.7675631+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.7809100+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.7862238+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.8201409+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":56.7028,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.8226521+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.8251707+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":68.5393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"68.5393"}]}}
{"Timestamp":"2024-11-09T20:41:14.8305647+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b5453bb25a95bf89290486e524a768ba","SpanId":"a003758541b383d3","Properties":{"ElapsedMilliseconds":80.6772,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1T"}}
{"Timestamp":"2024-11-09T20:41:14.8353778+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8402447+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8423428+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8518544+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8626542+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8653749+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8677878+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":22.2824,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8695890+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:14.8708034+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":30.8848,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.8848"}]}}
{"Timestamp":"2024-11-09T20:41:14.8731123+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b1c17ca6ef93212480ad9596ac4e4e0","SpanId":"b2e98b8240f3e918","Properties":{"ElapsedMilliseconds":37.7949,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1U:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI1U"}}
{"Timestamp":"2024-11-09T20:41:31.8746977+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.8798837+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.8819585+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.8891050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.9298140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"elapsed":"25","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.9366802+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.9396234+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":54.4005,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.9427387+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.9455579+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":65.7515,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"65.7515"}]}}
{"Timestamp":"2024-11-09T20:41:31.9514818+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0578b9e87a1d5ddc3168e60e58321b9e","SpanId":"d19fbd7e2c5e3b5f","Properties":{"ElapsedMilliseconds":76.9199,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI1V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI1V"}}
{"Timestamp":"2024-11-09T20:41:31.9586153+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:31.9659533+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:31.9690088+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:31.9772857+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:31.9913276+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"elapsed":"10","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:31.9956999+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:31.9982082+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":24.7759,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:32.0010968+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:32.0028185+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1228","StatusCode":200,"Elapsed":37.0013,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.0013"}]}}
{"Timestamp":"2024-11-09T20:41:32.0058421+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6005fb2241b01ea1020011893e6ff35d","SpanId":"490c2d13062a210e","Properties":{"ElapsedMilliseconds":47.4082,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI20:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI20"}}
{"Timestamp":"2024-11-09T20:41:32.7353131+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7418995+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7432421+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7483179+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7547596+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7579981+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7591035+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.9271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7600959+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:41:32.7610824+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":19.2745,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.2745"}]}}
{"Timestamp":"2024-11-09T20:41:32.7632074+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75c4bb8cf9b57139bcf83734a67fc1d4","SpanId":"ecf9e19d1c2d569f","Properties":{"ElapsedMilliseconds":28.1669,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI21:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI21"}}
{"Timestamp":"2024-11-09T20:42:15.9228212+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:15.9605296+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:15.9622994+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:16.0050612+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"elapsed":"12","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:16.0182560+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:16.0227638+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:16.0244641+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":59.6502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:16.0260249+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:16.0271637+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":66.94,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.9400"}]}}
{"Timestamp":"2024-11-09T20:42:16.0303280+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c938ecb6781c02dc6150f55b6d14f68a","SpanId":"6650d644f49e8959","Properties":{"ElapsedMilliseconds":107.6156,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI22:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI22"}}
{"Timestamp":"2024-11-09T20:42:25.9890485+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:25.9930281+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:25.9943311+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.0358247+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"elapsed":"36","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.0537958+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.0596157+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.0617486+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":65.3732,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.0643213+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.0660532+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":73.1766,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"73.1766"}]}}
{"Timestamp":"2024-11-09T20:42:26.0697529+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"993ae27b156578507a0f41858c29943a","SpanId":"389c04485f65803a","Properties":{"ElapsedMilliseconds":80.8733,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI23:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI23"}}
{"Timestamp":"2024-11-09T20:42:26.1669792+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.1713135+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.1732041+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.1861416+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.2000110+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.2049624+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.2067241+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2101256+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.1718,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.2139780+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2146944+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.2161535+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2172330+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":46.0078,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.0078"}]}}
{"Timestamp":"2024-11-09T20:42:26.2214672+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e059a6d537111c88c41478ed95a7551","SpanId":"e5b478804e2d1332","Properties":{"ElapsedMilliseconds":54.5192,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI24:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI24"}}
{"Timestamp":"2024-11-09T20:42:26.2271244+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2308785+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2320510+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2323656+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2355515+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2390508+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":19.814,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2406245+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2416932+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":28.2111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.2111"}]}}
{"Timestamp":"2024-11-09T20:42:26.2438866+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd751c11d32db1b0982ced36ee0c7c81","SpanId":"864073f3dbcd9acc","Properties":{"ElapsedMilliseconds":37.2756,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI25:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI25"}}
{"Timestamp":"2024-11-09T20:42:26.2840069+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"elapsed":"45","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2889929+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2909851+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":53.4918,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2928852+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:26.2942200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":63.6796,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.6796"}]}}
{"Timestamp":"2024-11-09T20:42:26.2967873+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f7c1ac5d485a4990df5da483787ac09","SpanId":"93914c5d69e06606","Properties":{"ElapsedMilliseconds":69.7396,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI26:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI26"}}
{"Timestamp":"2024-11-09T20:42:27.8023468+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8083339+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8105454+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8273063+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8387504+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8437079+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8465577+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.8789,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8484604+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8498273+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":41.563,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.5630"}]}}
{"Timestamp":"2024-11-09T20:42:27.8525085+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7efb47ff167f2497ff77afdff880005d","SpanId":"e1eefe0276bfc36f","Properties":{"ElapsedMilliseconds":50.2991,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI27:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI27"}}
{"Timestamp":"2024-11-09T20:42:27.8567600+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8630668+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8650147+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8738075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8771414+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8783704+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.7635,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8791817+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8798910+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.1424,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1424"}]}}
{"Timestamp":"2024-11-09T20:42:27.8811732+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b24e05215c83ee69851651dc43dacfe","SpanId":"ad97621a9c4cdc72","Properties":{"ElapsedMilliseconds":24.4437,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI28:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI28"}}
{"Timestamp":"2024-11-09T20:42:27.8959399+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.8977134+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.8985934+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9119662+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9220421+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9251166+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9267583+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.7245,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9290889+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9306836+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.005,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.0050"}]}}
{"Timestamp":"2024-11-09T20:42:27.9334925+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fd766b2eb7696f40839b82d2d2db3a6","SpanId":"ff0ce33e2d3f0981","Properties":{"ElapsedMilliseconds":37.6432,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI29:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI29"}}
{"Timestamp":"2024-11-09T20:42:27.9394649+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9437032+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9450890+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9606392+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9730873+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9776327+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9800566+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":31.9784,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9826461+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:27.9849009+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":41.4996,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.4996"}]}}
{"Timestamp":"2024-11-09T20:42:27.9889499+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb354c4dbd2cc2edd0a35d48245433f8","SpanId":"caaa6acf1ed6b4d4","Properties":{"ElapsedMilliseconds":49.4816,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2A:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2A"}}
{"Timestamp":"2024-11-09T20:42:28.1918150+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.1983318+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2002588+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2105903+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2176182+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2213928+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2234576+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.3426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2255906+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2270164+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.7388,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.7388"}]}}
{"Timestamp":"2024-11-09T20:42:28.2296725+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e60e80175642f1db9da5dcd5a56a8ece","SpanId":"66ff0b841ff99ad1","Properties":{"ElapsedMilliseconds":37.8917,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2B"}}
{"Timestamp":"2024-11-09T20:42:28.2321156+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2371991+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2390273+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2629944+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"elapsed":"19","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2698815+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2724524+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":30.5046,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2770516+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.2801319+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":43.2131,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.2131"}]}}
{"Timestamp":"2024-11-09T20:42:28.2832410+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9fea06153f4a41df91f2959b2d031367","SpanId":"061b850db0f80180","Properties":{"ElapsedMilliseconds":51.1104,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2C"}}
{"Timestamp":"2024-11-09T20:42:28.3057509+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3089470+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3104017+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3231837+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3300807+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3335769+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3362119+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.4617,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3380214+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3399230+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.0345,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.0345"}]}}
{"Timestamp":"2024-11-09T20:42:28.3425709+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9ba2aaaa995473eec02de74a968bdf64","SpanId":"5ca432b954ccccdb","Properties":{"ElapsedMilliseconds":36.8569,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2D"}}
{"Timestamp":"2024-11-09T20:42:28.3460942+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3513535+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3535163+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3641905+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3760889+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3803801+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3826378+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":26.206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3848889+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.3869772+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":35.8994,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.8994"}]}}
{"Timestamp":"2024-11-09T20:42:28.3898788+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53d4804936862b88bb40257c3e8b4e20","SpanId":"9e28f2f3dc8e0f82","Properties":{"ElapsedMilliseconds":43.9121,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2E:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2E"}}
{"Timestamp":"2024-11-09T20:42:28.8078731+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8138233+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8153810+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8241089+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8346506+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8371524+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8405396+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.2579,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8437168+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8453703+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.6216,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.6216"}]}}
{"Timestamp":"2024-11-09T20:42:28.8474599+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ae4e9fae3508943b452d91a539a0c11","SpanId":"3620bdff80c5458b","Properties":{"ElapsedMilliseconds":39.7539,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2F"}}
{"Timestamp":"2024-11-09T20:42:28.8496152+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8541291+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8560990+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8652633+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8685552+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8701257+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.3543,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8715770+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8726115+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.8716,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8716"}]}}
{"Timestamp":"2024-11-09T20:42:28.8739820+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4dfa1e6c3e7ffaae6f2fdcb003715271","SpanId":"ba6f450a5b37e9eb","Properties":{"ElapsedMilliseconds":24.3735,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2G:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2G"}}
{"Timestamp":"2024-11-09T20:42:28.8770925+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8791105+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8799358+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8850860+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8895760+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8910979+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8919510+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.7508,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8935240+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8941971+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.1217,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.1217"}]}}
{"Timestamp":"2024-11-09T20:42:28.8955047+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7051e46f61ecd9bcd761d50a36d42b9","SpanId":"562cb7c4f27c8b2b","Properties":{"ElapsedMilliseconds":18.4265,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2H"}}
{"Timestamp":"2024-11-09T20:42:28.8979118+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.8997671+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9005488+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9106327+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9159202+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9182484+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f93f046f-534d-4077-ac20-5c3856a42514","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9196402+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":15.1954,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9206784+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:28.9219039+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.3828,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.3828"}]}}
{"Timestamp":"2024-11-09T20:42:28.9239205+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6117f7f11f2c69044ec16c1840e7e814","SpanId":"13d4236dd36f3e70","Properties":{"ElapsedMilliseconds":26.0702,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2I:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80OEUIKI2I"}}
{"Timestamp":"2024-11-09T20:42:50.4235300+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4332966+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4346184+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4443083+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4511075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4542672+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4556850+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.9532,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4571426+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4580016+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.7516,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7516"}]}}
{"Timestamp":"2024-11-09T20:42:50.4604700+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a3e13eaf94961b1732af6b3e74bf29c","SpanId":"7851081d354770e0","Properties":{"ElapsedMilliseconds":36.9732,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2J"}}
{"Timestamp":"2024-11-09T20:42:50.4657618+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":102,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1231","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.4823395+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.4837382+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.4941284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"elapsed":"3","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.5036943+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"elapsed":"6","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.5065808+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.5078631+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":21.8001,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.5095436+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:50.5110833+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1231","StatusCode":200,"Elapsed":28.9327,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9327"}]}}
{"Timestamp":"2024-11-09T20:42:50.5146722+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ed15b5082c5006fc8956b45452c1987","SpanId":"d859431678ec7102","Properties":{"ElapsedMilliseconds":49.09,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1231","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2K:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2K"}}
{"Timestamp":"2024-11-09T20:42:51.4290410+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4334743+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4354136+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4481341+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4567033+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4604658+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4629226+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.1425,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4650050+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4670815+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.6792,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.6792"}]}}
{"Timestamp":"2024-11-09T20:42:51.4708217+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8aca318848fe1b68230eb824530412cb","SpanId":"e13a13dde7ec8207","Properties":{"ElapsedMilliseconds":41.804,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2L"}}
{"Timestamp":"2024-11-09T20:42:51.4740883+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.4845218+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.4870625+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.5012959+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.5076907+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.5102496+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":20.0889,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.5127548+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:51.5149073+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":31.6344,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.6344"}]}}
{"Timestamp":"2024-11-09T20:42:51.5189653+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49841c7376dcb96845caf6f3b91c904a","SpanId":"081f09f0b0f9f054","Properties":{"ElapsedMilliseconds":44.9466,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2M"}}
{"Timestamp":"2024-11-09T20:42:54.9716984+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:54.9760416+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:54.9777539+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:54.9875971+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:54.9946682+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:54.9989444+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:55.0011465+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.7252,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:55.0032302+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:55.0051659+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.19,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.1900"}]}}
{"Timestamp":"2024-11-09T20:42:55.0082509+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"199d293f6996947fa4b357aeef5574d2","SpanId":"e1032508f908840c","Properties":{"ElapsedMilliseconds":36.5695,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2N"}}
{"Timestamp":"2024-11-09T20:42:55.0102138+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1231","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0166009+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0189752+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0254637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0329776+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0520304+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0569402+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4e7e84c1-2428-44cc-9a53-ba5c0767eaa1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0583625+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":37.3238,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0597467+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:55.0618574+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1231","StatusCode":200,"Elapsed":45.3296,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.3296"}]}}
{"Timestamp":"2024-11-09T20:42:55.0663518+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6181992ceaedf354e9406a77616d1b7d","SpanId":"73c8337e5ef5d0b5","Properties":{"ElapsedMilliseconds":56.2572,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1231","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2O:00000001","RequestPath":"/api/Schedules/1231","ConnectionId":"0HN80OEUIKI2O"}}
{"Timestamp":"2024-11-09T20:42:56.7564656+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.7614566+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.7628308+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.7810455+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.7897311+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.7953670+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.7982206+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.2979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.8006064+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.8028156+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":41.4258,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.4258"}]}}
{"Timestamp":"2024-11-09T20:42:56.8072428+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c314f84278ced98ba98d8dab86360271","SpanId":"76452e9a8c12275c","Properties":{"ElapsedMilliseconds":50.9271,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2P"}}
{"Timestamp":"2024-11-09T20:42:56.8106410+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8220913+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8245849+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8410957+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8448297+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8475506+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.0994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8497397+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:42:56.8522519+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":31.7649,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.7649"}]}}
{"Timestamp":"2024-11-09T20:42:56.8558212+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd685f418edfd237fa3e439d9abf0a41","SpanId":"d2095b4e29636aa4","Properties":{"ElapsedMilliseconds":45.3505,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI2Q"}}
{"Timestamp":"2024-11-09T20:43:20.3685184+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.3765005+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.3787691+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4164853+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4249392+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4288730+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4308788+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":48.9597,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4326508+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4341178+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":57.6989,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"57.6989"}]}}
{"Timestamp":"2024-11-09T20:43:20.4367484+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a39830f806854c9dab55388fb377cd9","SpanId":"cf0e2c93d7da89f9","Properties":{"ElapsedMilliseconds":68.2813,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2R"}}
{"Timestamp":"2024-11-09T20:43:20.4416464+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":98,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1232","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4550198+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4572615+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4744509+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"elapsed":"4","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4852569+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"elapsed":"5","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4915052+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4940591+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":33.8236,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4971394+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:20.4989405+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1232","StatusCode":200,"Elapsed":43.9958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.9958"}]}}
{"Timestamp":"2024-11-09T20:43:20.5026821+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e27757f21ab409019030fc4547db3413","SpanId":"5648af75ff13959c","Properties":{"ElapsedMilliseconds":61.0446,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1232","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI2S"}}
{"Timestamp":"2024-11-09T20:43:21.0954309+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1002464+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1023476+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1135651+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1230513+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1257025+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1273924+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.9919,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1311213+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:43:21.1326439+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":32.4627,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.4627"}]}}
{"Timestamp":"2024-11-09T20:43:21.1344491+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c34c4cb7842a12d8a3818b03f3b00340","SpanId":"fe939789f5a80c4c","Properties":{"ElapsedMilliseconds":39.252,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2T"}}
{"Timestamp":"2024-11-09T20:44:33.0521389+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.0576129+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.0595333+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.0882474+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"elapsed":"10","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.1062847+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.1113136+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.1144641+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":50.7874,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.1174592+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:33.1201919+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":62.7276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.7276"}]}}
{"Timestamp":"2024-11-09T20:44:33.1240592+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"356daf84620148703e62d10f2d46a835","SpanId":"9bbd924b462ed931","Properties":{"ElapsedMilliseconds":72.0564,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI2U"}}
{"Timestamp":"2024-11-09T20:44:46.6109539+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6138747+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6150350+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6212399+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6267909+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6293624+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6315111+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.26,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6333966+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.6346412+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.8893,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.8893"}]}}
{"Timestamp":"2024-11-09T20:44:46.6371787+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"005c54f795cd7aacf703d6dc9a56f45f","SpanId":"b2dcfe1d94f9af37","Properties":{"ElapsedMilliseconds":26.293,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI2V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI2V"}}
{"Timestamp":"2024-11-09T20:44:46.8441727+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.8497760+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.8519737+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.8726890+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.8812719+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.8879052+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.9068237+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":51.8167,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.9121637+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.9172145+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":67.5351,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"67.5351"}]}}
{"Timestamp":"2024-11-09T20:44:46.9209561+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9212463+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fc246de0749d62e7bf53234ebb15cab8","SpanId":"ec2fd230d491ef9b","Properties":{"ElapsedMilliseconds":77.2666,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI30:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI30"}}
{"Timestamp":"2024-11-09T20:44:46.9268319+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9286781+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9360087+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9367403+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9382624+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9478951+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9507947+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9509493+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9539081+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9556871+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.8727,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9569106+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.1469,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9582770+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9595523+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:44:46.9615938+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":33.2938,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.2938"}]}}
{"Timestamp":"2024-11-09T20:44:46.9627471+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":27.1137,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.1137"}]}}
{"Timestamp":"2024-11-09T20:44:46.9643411+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33ca4189c758a3d2074856b92f495e86","SpanId":"03ed4e3bd9ca087a","Properties":{"ElapsedMilliseconds":43.4233,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI31:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI31"}}
{"Timestamp":"2024-11-09T20:44:46.9665968+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26712c61d0958975a91141a4ae11f49e","SpanId":"e6044da3f868d7da","Properties":{"ElapsedMilliseconds":39.9431,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI32:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI32"}}
{"Timestamp":"2024-11-09T20:45:44.7052230+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7176858+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7192788+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7341341+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7404545+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7436427+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7461659+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.4326,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7489649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7511921+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":33.5982,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.5982"}]}}
{"Timestamp":"2024-11-09T20:45:44.7542869+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a42fdaa0d7eeb8a5bc62283ed1ec7698","SpanId":"ec55d60856433476","Properties":{"ElapsedMilliseconds":49.2905,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI33:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI33"}}
{"Timestamp":"2024-11-09T20:45:44.7592622+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":95,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1227","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7631903+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7655437+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7747993+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"elapsed":"4","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7854824+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"elapsed":"7","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7885216+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7895867+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":21.969,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7918977+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:44.7943813+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1227","StatusCode":200,"Elapsed":31.2493,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.2493"}]}}
{"Timestamp":"2024-11-09T20:45:44.7968478+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"caf745436c784075b01cda35147bbd6f","SpanId":"0bf30886567a6ab3","Properties":{"ElapsedMilliseconds":37.6572,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1227","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI34:00000001","RequestPath":"/api/Schedules/1227","ConnectionId":"0HN80OEUIKI34"}}
{"Timestamp":"2024-11-09T20:45:58.9274235+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9324405+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9343465+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9457493+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9519515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9539803+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9549397+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.8759,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9560076+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T20:45:58.9567788+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":24.4193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.4193"}]}}
{"Timestamp":"2024-11-09T20:45:58.9585789+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"514443ffba0d3b62a37eff880c238063","SpanId":"07ad1781b3937b95","Properties":{"ElapsedMilliseconds":31.17,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI35:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI35"}}
{"Timestamp":"2024-11-09T21:51:16.7257628+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7296474+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7303389+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7743369+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"elapsed":"11","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7874427+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7923169+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7942680+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":61.9942,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7964388+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:16.7984748+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":68.9092,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"68.9092"}]}}
{"Timestamp":"2024-11-09T21:51:16.8001738+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"014f6741b521b91e7e6fd3906ebe0c35","SpanId":"b3f4a202aa9ce79b","Properties":{"ElapsedMilliseconds":74.4929,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI36:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI36"}}
{"Timestamp":"2024-11-09T21:51:20.8298754+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8355448+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8382038+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8680458+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8825549+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8879053+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8905113+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":48.4533,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8932873+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:20.8957199+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":60.27,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.2700"}]}}
{"Timestamp":"2024-11-09T21:51:20.8994930+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a1a36026f1497ed3b15288d6af129844","SpanId":"e7f23f4dc9d67fd6","Properties":{"ElapsedMilliseconds":69.6631,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI37:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI37"}}
{"Timestamp":"2024-11-09T21:51:21.0149368+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0175008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0185294+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0636471+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"elapsed":"19","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0638158+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.0733466+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.0750081+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.0759464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0808406+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0836713+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":63.2252,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0855320+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0877202+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":70.2555,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.2555"}]}}
{"Timestamp":"2024-11-09T21:51:21.0902024+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f2509581e05fcaba53d36c9aedfc10a","SpanId":"3dbda41c7bcdf27c","Properties":{"ElapsedMilliseconds":75.2766,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI38:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI38"}}
{"Timestamp":"2024-11-09T21:51:21.0943144+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1002810+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.1019686+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1046336+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.1059874+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1077637+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":30.213,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.1132480+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.1153059+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":42.6786,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.6786"}]}}
{"Timestamp":"2024-11-09T21:51:21.1177934+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca6484aef6430fa1b9a72c2ed5ecada1","SpanId":"45e63b619d78634c","Properties":{"ElapsedMilliseconds":53.8318,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI39:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI39"}}
{"Timestamp":"2024-11-09T21:51:21.1227965+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1263800+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1294667+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.0984,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1315456+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:51:21.1328829+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":31.4253,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.4253"}]}}
{"Timestamp":"2024-11-09T21:51:21.1348637+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a49d33aabb63ebbe0e239fdf1bf6e8ae","SpanId":"c5bb50711ea4383f","Properties":{"ElapsedMilliseconds":40.6096,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3A:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3A"}}
{"Timestamp":"2024-11-09T21:52:03.4462252+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.4570910+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.4591474+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.4885205+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.5009098+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.5061054+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.5095402+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":48.0066,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.5114720+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.5133403+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":56.3339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.3339"}]}}
{"Timestamp":"2024-11-09T21:52:03.5162126+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e22400de139adbc06eb20568170bc954","SpanId":"d988c990e23ff42f","Properties":{"ElapsedMilliseconds":70.0348,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3B:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3B"}}
{"Timestamp":"2024-11-09T21:52:03.5195437+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5230274+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5243795+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5356055+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"elapsed":"4","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5394339+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5411875+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":14.9156,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5423277+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:03.5441274+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1228","StatusCode":200,"Elapsed":21.181,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1810"}]}}
{"Timestamp":"2024-11-09T21:52:03.5468690+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2eacdc1fad4c3f83f2718bc5513f8f93","SpanId":"e7a7cc63145a84fe","Properties":{"ElapsedMilliseconds":27.4493,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1228","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3C:00000001","RequestPath":"/api/Schedules/1228","ConnectionId":"0HN80OEUIKI3C"}}
{"Timestamp":"2024-11-09T21:52:11.9315272+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9375267+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9388845+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9543092+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9625139+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9675572+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9694583+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.6394,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9714999+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9726539+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.1896,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.1896"}]}}
{"Timestamp":"2024-11-09T21:52:11.9750901+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ffe6b1e7bc63b96973dfd650274dd79","SpanId":"679c12c3a5ef03b3","Properties":{"ElapsedMilliseconds":43.7113,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3D"}}
{"Timestamp":"2024-11-09T21:52:11.9786926+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:11.9831976+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:11.9849105+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:11.9982103+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:12.0020349+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:12.0036480+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.509,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:12.0055481+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:52:12.0072119+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.1889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1889"}]}}
{"Timestamp":"2024-11-09T21:52:12.0108845+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"52cf93d5fac7d018d432b4daa11cdee5","SpanId":"0df39a2579df753e","Properties":{"ElapsedMilliseconds":32.1712,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3E:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3E"}}
{"Timestamp":"2024-11-09T21:53:34.5957911+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6034777+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6058262+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6332817+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6436881+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6487171+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6520972+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":42.0777,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6539130+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6558361+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":52.4773,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.4773"}]}}
{"Timestamp":"2024-11-09T21:53:34.6595557+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1bc10c5ffc9de67f5748515c2c34eadd","SpanId":"1e985905b38ebe85","Properties":{"ElapsedMilliseconds":70.6469,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3F"}}
{"Timestamp":"2024-11-09T21:53:34.6619667+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1229","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.6744499+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.6760967+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.6850936+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"elapsed":"1","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.6957111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"elapsed":"7","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.7001889+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.7015873+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":22.6969,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.7041659+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:34.7062187+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1229","StatusCode":200,"Elapsed":31.8795,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.8795"}]}}
{"Timestamp":"2024-11-09T21:53:34.7101160+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f84a4544bc7adbc861ba21786787e327","SpanId":"c4b2ecb13d77859f","Properties":{"ElapsedMilliseconds":48.1701,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1229","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3G:00000001","RequestPath":"/api/Schedules/1229","ConnectionId":"0HN80OEUIKI3G"}}
{"Timestamp":"2024-11-09T21:53:59.2598103+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.2616974+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.2625087+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.2713986+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.2928316+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"elapsed":"8","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.3079523+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.3107781+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":47.0306,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.3139641+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T21:53:59.3163745+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":54.7493,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"54.7493"}]}}
{"Timestamp":"2024-11-09T21:53:59.3207186+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fe397000564502c07c17fa9918abe50","SpanId":"fc89d78b83fd4886","Properties":{"ElapsedMilliseconds":60.864,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3H"}}
{"Timestamp":"2024-11-09T22:00:47.2702118+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.2756823+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.2768576+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.3131591+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"elapsed":"14","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.3308636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.3343593+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9407e8d4-2354-4580-8855-af46bafe3919","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.3363050+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":57.7434,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.3382236+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:47.3394658+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":63.8777,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.8777"}]}}
{"Timestamp":"2024-11-09T22:00:47.3420157+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8bbac8af7d60c385c7fda98873f7a38a","SpanId":"0c4f55dac46379a5","Properties":{"ElapsedMilliseconds":71.8856,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80OEUIKI3I"}}
{"Timestamp":"2024-11-09T22:00:52.0002040+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0043707+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0057467+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0208721+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0324939+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0351357+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0367177+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.7232,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0382734+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:52.0397136+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.4085,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.4085"}]}}
{"Timestamp":"2024-11-09T22:00:52.0417783+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e01cfd70d0575f10aa5c3289f036430","SpanId":"53df2274cc01e718","Properties":{"ElapsedMilliseconds":41.749,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3J"}}
{"Timestamp":"2024-11-09T22:00:54.3971878+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4025601+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4048300+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4149641+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4245083+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4303374+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4327435+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.4123,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4343102+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4353214+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.8505,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8505"}]}}
{"Timestamp":"2024-11-09T22:00:54.4373733+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9ab04397b431b743cf5409fa1f81ae8","SpanId":"070b2688998dab1f","Properties":{"ElapsedMilliseconds":40.2121,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3K"}}
{"Timestamp":"2024-11-09T22:00:54.4653879+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.4663555+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.4697447+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.4724085+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.4729207+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.4750487+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.4930409+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.4963637+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbda962f-65b6-4dce-8cb5-a7b8eee098e3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.4995034+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":21.5053,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.5022580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.5041216+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":34.6023,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.6023"}]}}
{"Timestamp":"2024-11-09T22:00:54.5049323+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.5076941+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c48e684faa43215d35e9e2684162d259","SpanId":"2a7d1fbb433b0ec1","Properties":{"ElapsedMilliseconds":42.3235,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80OEUIKI3L"}}
{"Timestamp":"2024-11-09T22:00:54.5110875+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.5183958+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":38.3524,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.5209670+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:00:54.5225463+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":50.5041,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.5041"}]}}
{"Timestamp":"2024-11-09T22:00:54.5250098+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2a52f24902dcc02dada15f0e9d6680a","SpanId":"60e605b8d8aa84dd","Properties":{"ElapsedMilliseconds":58.7837,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3M"}}
{"Timestamp":"2024-11-09T22:01:17.9212525+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9324456+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9338750+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9485671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9575755+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9608415+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9631015+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.2776,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9648434+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9667210+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.3283,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.3283"}]}}
{"Timestamp":"2024-11-09T22:01:17.9709840+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8b5d600f4e3f993ce127aa8a51665b99","SpanId":"fbe2872703b8931d","Properties":{"ElapsedMilliseconds":49.7352,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3N"}}
{"Timestamp":"2024-11-09T22:01:17.9761334+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":97,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1230","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:17.9801889+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:17.9816056+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:17.9918749+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:18.0034965+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"elapsed":"8","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:18.0081532+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:18.0098358+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":25.4098,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:18.0115787+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:18.0123416+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1230","StatusCode":200,"Elapsed":32.2127,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.2127"}]}}
{"Timestamp":"2024-11-09T22:01:18.0146841+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cb1dabbfcbf4976592763810115e2bf","SpanId":"fb3903705d71dfa2","Properties":{"ElapsedMilliseconds":38.6679,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1230","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3O:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80OEUIKI3O"}}
{"Timestamp":"2024-11-09T22:01:25.5009687+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5059091+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5086854+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5240864+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5324211+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5361403+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5379688+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.6266,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5416973+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5431574+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.3409,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.3409"}]}}
{"Timestamp":"2024-11-09T22:01:25.5447935+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7318329cd81a349852e02571d8f01e83","SpanId":"8741ff4eacac3f7c","Properties":{"ElapsedMilliseconds":43.8374,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3P"}}
{"Timestamp":"2024-11-09T22:01:25.5472142+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5601794+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5613839+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5721714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5755459+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5773083+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.2204,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5792743+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:25.5801437+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.2982,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2982"}]}}
{"Timestamp":"2024-11-09T22:01:25.5819423+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74dabb9e98c0e60dbbb19da5a55e339c","SpanId":"9cc43b8a53ee73c4","Properties":{"ElapsedMilliseconds":34.8102,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3Q"}}
{"Timestamp":"2024-11-09T22:01:41.6507338+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6532788+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6552126+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6737487+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6845944+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6878464+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6888013+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.8836,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6908630+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6924781+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.3138,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.3138"}]}}
{"Timestamp":"2024-11-09T22:01:41.6962934+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f5ed7ad61d0ee620f000fe7c177caf2e","SpanId":"7458a2f239b21c7e","Properties":{"ElapsedMilliseconds":45.6466,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3R"}}
{"Timestamp":"2024-11-09T22:01:41.6988237+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":103,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1232","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7047820+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7062017+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7191703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"elapsed":"3","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7313111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"elapsed":"8","parameters":"@p1='?' (DbType = Int32), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [Reason] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7351583+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d127e536-b696-4dab-ad65-a240394a89e2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7365577+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":26.7842,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7394780+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:41.7410798+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1232","StatusCode":200,"Elapsed":36.3604,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.3604"}]}}
{"Timestamp":"2024-11-09T22:01:41.7451039+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"134ff1d494c751540a949df789add20b","SpanId":"44900b720d4262e7","Properties":{"ElapsedMilliseconds":46.4923,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1232","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3S:00000001","RequestPath":"/api/Schedules/1232","ConnectionId":"0HN80OEUIKI3S"}}
{"Timestamp":"2024-11-09T22:01:48.2509925+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2545336+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2554263+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2739777+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2865105+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2897901+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2921659+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.9281,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2946217+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.2955139+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":41.017,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.0170"}]}}
{"Timestamp":"2024-11-09T22:01:48.2984229+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8973921e95cae12c6af749a8a1133980","SpanId":"bdf33470f035beff","Properties":{"ElapsedMilliseconds":47.4413,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3T"}}
{"Timestamp":"2024-11-09T22:01:48.3011711+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3051340+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3062069+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3194611+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3237663+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c404bf13-30f5-4cfc-92ba-0fb0c19dc025","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3278314+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.6421,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3305901+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:48.3327890+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.464,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.4640"}]}}
{"Timestamp":"2024-11-09T22:01:48.3364616+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a1f4a2c72280eda9d743e0078168b4ff","SpanId":"72fcd6c10e2ddb42","Properties":{"ElapsedMilliseconds":35.2943,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3U:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80OEUIKI3U"}}
{"Timestamp":"2024-11-09T22:01:55.7600185+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.7646573+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.7662966+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.7849031+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.7956046+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.8001026+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e5e6e598-746a-48d8-9335-6254cef6fb89","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.8026722+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.9798,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.8049362+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:01:55.8071283+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":42.6246,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.6246"}]}}
{"Timestamp":"2024-11-09T22:01:55.8101562+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2ea3b133e2e379514133df1eaf4dc29","SpanId":"8b5c3a665e4a3cac","Properties":{"ElapsedMilliseconds":50.1477,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80OEUIKI3V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80OEUIKI3V"}}
{"Timestamp":"2024-11-09T22:08:22.3201839+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-09T22:08:22.6896130+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T22:08:22.7827836+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T22:08:22.7852981+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T22:08:22.7866972+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T22:08:23.5714977+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7ed6917f9019303efdaf75fbb960fd3","SpanId":"b91fee4366f60b86","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80Q1D7LVP1"}}
{"Timestamp":"2024-11-09T22:08:24.0500362+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7ed6917f9019303efdaf75fbb960fd3","SpanId":"b91fee4366f60b86","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":175.8813,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"175.8813"}]}}
{"Timestamp":"2024-11-09T22:08:24.0756000+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c90ca79a12adae56a4a603bd405fbb9a","SpanId":"905e8e865d766e4d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80Q1D7LVP2"}}
{"Timestamp":"2024-11-09T22:08:24.0758099+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"241e82a792f021becd446c5c185e859c","SpanId":"f1f876e1f97c42d2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP0:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80Q1D7LVP0"}}
{"Timestamp":"2024-11-09T22:08:24.1176445+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7ed6917f9019303efdaf75fbb960fd3","SpanId":"b91fee4366f60b86","Properties":{"ElapsedMilliseconds":572.2504,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP1:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80Q1D7LVP1"}}
{"Timestamp":"2024-11-09T22:08:24.1234164+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"241e82a792f021becd446c5c185e859c","SpanId":"f1f876e1f97c42d2","Properties":{"ElapsedMilliseconds":71.6336,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP0:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80Q1D7LVP0"}}
{"Timestamp":"2024-11-09T22:08:24.2708158+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c90ca79a12adae56a4a603bd405fbb9a","SpanId":"905e8e865d766e4d","Properties":{"ElapsedMilliseconds":195.3818,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80Q1D7LVP2"}}
{"Timestamp":"2024-11-09T22:08:24.3287595+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d2612cad10e41c7e9e696cf59233c55","SpanId":"e914df3fcc057c18","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80Q1D7LVP2"}}
{"Timestamp":"2024-11-09T22:08:24.6040833+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7d2612cad10e41c7e9e696cf59233c55","SpanId":"e914df3fcc057c18","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":268.2805,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"268.2805"}]}}
{"Timestamp":"2024-11-09T22:08:24.6075659+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d2612cad10e41c7e9e696cf59233c55","SpanId":"e914df3fcc057c18","Properties":{"ElapsedMilliseconds":278.8534,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80Q1D7LVP2"}}
{"Timestamp":"2024-11-09T22:08:36.8422435+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:36.8533842+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:37.0312021+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:37.1107778+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:40.6392963+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"elapsed":"135","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:41.5731544+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"elapsed":"66","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:41.6039864+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:41.6159135+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":4498.0214,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:41.6178254+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:08:41.6221240+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":4773.7682,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4773.7682"}]}}
{"Timestamp":"2024-11-09T22:08:41.6330557+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c70112148b74dd16176eaa6be49ebfb","SpanId":"92cb25a05def4dc9","Properties":{"ElapsedMilliseconds":4790.8837,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP3"}}
{"Timestamp":"2024-11-09T22:09:03.6636764+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.6735402+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.6767759+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.8462713+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"elapsed":"39","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.8734225+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.8784271+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.8830292+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":203.6518,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.8856359+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:09:03.8871672+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":216.2818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"216.2818"}]}}
{"Timestamp":"2024-11-09T22:09:03.8900885+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b88c8ef46ff486d8d34b122d6d770141","SpanId":"537584ad1f44abf3","Properties":{"ElapsedMilliseconds":226.6085,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP4"}}
{"Timestamp":"2024-11-09T22:11:12.8225402+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:12.8434581+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:12.8463762+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:13.0041338+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"elapsed":"12","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:13.0200259+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:13.0259633+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:13.0291494+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":178.4827,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:13.0314042+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:13.0327136+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":193.3228,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"193.3228"}]}}
{"Timestamp":"2024-11-09T22:11:13.0342942+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8984da67fdf5d7d8f442425caaf2e532","SpanId":"53dfbd2d63ee85c7","Properties":{"ElapsedMilliseconds":212.2384,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP5:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP5"}}
{"Timestamp":"2024-11-09T22:11:56.8571296+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.8630517+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.8690022+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.8928990+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"elapsed":"7","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.9067662+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.9095719+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.9110945+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":39.3253,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.9129377+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:11:56.9147530+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":52.0087,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.0087"}]}}
{"Timestamp":"2024-11-09T22:11:56.9168421+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04e43e2b01f2fc0b4a04910cea90564c","SpanId":"6069799e8264b4f5","Properties":{"ElapsedMilliseconds":61.1587,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP6"}}
{"Timestamp":"2024-11-09T22:12:42.9153021+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9424779+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9441554+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9627951+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9726171+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9758430+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9809855+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":32.019,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9839914+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:42.9865218+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":44.3546,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.3546"}]}}
{"Timestamp":"2024-11-09T22:12:42.9901414+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53668e5b42c591b9329203ace5638122","SpanId":"d37d17178bd03e59","Properties":{"ElapsedMilliseconds":74.8648,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVP7"}}
{"Timestamp":"2024-11-09T22:12:47.7403735+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:47.7470217+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:47.7681251+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:47.9064086+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:48.0764847+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:48.1049919+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:48.1078512+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":336.4895,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:48.1102374+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:48.1116865+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":365.1822,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"365.1822"}]}}
{"Timestamp":"2024-11-09T22:12:48.1154174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10343438abd9dfb809877b79cc284711","SpanId":"59f1d9eff237409e","Properties":{"ElapsedMilliseconds":375.1479,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP8"}}
{"Timestamp":"2024-11-09T22:12:50.0038344+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0096084+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0121406+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0256891+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0357703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0392133+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0406453+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.7443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0422402+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0433383+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.8875,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.8875"}]}}
{"Timestamp":"2024-11-09T22:12:50.0523004+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5965951f478e5ce782e41c95f258ed9","SpanId":"ce7cbf682648572f","Properties":{"ElapsedMilliseconds":48.4737,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVP9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVP9"}}
{"Timestamp":"2024-11-09T22:12:50.0629535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.0639438+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.1421374+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.1421374+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.1501335+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.1501293+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.2417534+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"elapsed":"27","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.2481911+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.2560793+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.2560800+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.2829377+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":129.6478,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.2829377+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":127.2216,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.3164510+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.3211863+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:50.3231187+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":247.9987,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"247.9987"}]}}
{"Timestamp":"2024-11-09T22:12:50.3255212+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":255.6764,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"255.6764"}]}}
{"Timestamp":"2024-11-09T22:12:50.3290760+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f7496f56725a785ab453c5e38acc85b","SpanId":"58d99a503a873cb3","Properties":{"ElapsedMilliseconds":265.1109,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPB"}}
{"Timestamp":"2024-11-09T22:12:50.3332709+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2ce61211be74d3ccf6c74affcbbfa9a","SpanId":"a16e1c7cd362f994","Properties":{"ElapsedMilliseconds":270.3681,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPA"}}
{"Timestamp":"2024-11-09T22:12:59.0374832+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0416789+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0437800+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0537031+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0598364+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0632954+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0653085+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.0389,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0677800+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0694440+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.9895,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.9895"}]}}
{"Timestamp":"2024-11-09T22:12:59.0730810+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5624a92e3bd04d394cd693c9b99dd005","SpanId":"9a644b6321e22df2","Properties":{"ElapsedMilliseconds":35.6497,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPC"}}
{"Timestamp":"2024-11-09T22:12:59.0769521+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.0833517+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.0849605+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.0954817+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.0985505+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.1000211+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.9176,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.1013746+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.1024614+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.8465,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.8465"}]}}
{"Timestamp":"2024-11-09T22:12:59.1042859+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1c9369c61caa0d208048b923d08f247","SpanId":"28db46a7f766ec5b","Properties":{"ElapsedMilliseconds":27.3776,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPD"}}
{"Timestamp":"2024-11-09T22:12:59.1105227+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1140962+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1156667+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1225050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1283366+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1334865+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1368605+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.7493,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1389234+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1403220+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.4156,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.4156"}]}}
{"Timestamp":"2024-11-09T22:12:59.1427349+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a04044fe14f8f0354093ac40a4f64a70","SpanId":"07e74d83ab9844e1","Properties":{"ElapsedMilliseconds":32.2196,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPE"}}
{"Timestamp":"2024-11-09T22:12:59.1493596+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.1549673+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.1583215+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d89048c9-4044-443a-aa01-2b46ba963656","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.2771293+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"elapsed":"12","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d89048c9-4044-443a-aa01-2b46ba963656","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.3364375+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d89048c9-4044-443a-aa01-2b46ba963656","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.3435023+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d89048c9-4044-443a-aa01-2b46ba963656","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.3457946+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":184.9207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.3481180+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:12:59.3498374+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":195.3931,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"195.3931"}]}}
{"Timestamp":"2024-11-09T22:12:59.3546223+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"85ccf76d5ea6a42450f1aad8884d3b07","SpanId":"75cb005c5cedae41","Properties":{"ElapsedMilliseconds":205.2358,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN80Q1D7LVPF"}}
{"Timestamp":"2024-11-09T22:13:21.8713891+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.8815747+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.8826436+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9034507+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9123072+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9159421+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9178465+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.3842,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9196838+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9210670+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.59,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.5900"}]}}
{"Timestamp":"2024-11-09T22:13:21.9235771+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7408d1314cd5cd680c28d68bff62503f","SpanId":"0e1f51755d2e4935","Properties":{"ElapsedMilliseconds":53.0109,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPG"}}
{"Timestamp":"2024-11-09T22:13:21.9328440+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1230","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:21.9387264+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:21.9441809+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:21.9667903+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:21.9822838+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:22.0711705+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:22.1000029+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:22.1012092+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":152.7055,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:22.1029444+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:22.1043517+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1230","StatusCode":200,"Elapsed":165.844,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"165.8440"}]}}
{"Timestamp":"2024-11-09T22:13:22.1071605+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b521c8ebf7e22c8802166cadfad10bf6","SpanId":"d0c91976c1d85e90","Properties":{"ElapsedMilliseconds":174.3535,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1230","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPH:00000001","RequestPath":"/api/Schedules/1230","ConnectionId":"0HN80Q1D7LVPH"}}
{"Timestamp":"2024-11-09T22:13:25.7964129+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.7996870+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8006429+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8089098+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8165217+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8195349+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8216704+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.1338,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8233809+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8248380+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.3226,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.3226"}]}}
{"Timestamp":"2024-11-09T22:13:25.8281254+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c9365dc736c4fc8e9e8d6b91b09b9435","SpanId":"87185e95da1ab48c","Properties":{"ElapsedMilliseconds":31.7361,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPI"}}
{"Timestamp":"2024-11-09T22:13:25.8363017+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8401890+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8416654+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8542446+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8577800+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8598778+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.4994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8613156+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:25.8629886+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":23.2312,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2312"}]}}
{"Timestamp":"2024-11-09T22:13:25.8655674+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23cc0c8b577d88a72dcdfa1c6ad18432","SpanId":"bbed44120308cb85","Properties":{"ElapsedMilliseconds":29.3203,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPJ"}}
{"Timestamp":"2024-11-09T22:13:30.2801398+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.2864492+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.2885659+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.2964231+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.3051330+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.3072658+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.3092814+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.18,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.3108779+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.3122782+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.1079,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1079"}]}}
{"Timestamp":"2024-11-09T22:13:30.3155877+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c003646c3138d310d3352dbecf1c2519","SpanId":"71f8dff464d5d681","Properties":{"ElapsedMilliseconds":35.5056,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPK"}}
{"Timestamp":"2024-11-09T22:13:30.3185024+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1233","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3263851+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3287238+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3372308+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3452445+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3562877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3625428+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"acbc7884-438a-4d94-bead-d781c87b93c5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3642845+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":31.8845,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3671136+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:30.3694133+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1233","StatusCode":200,"Elapsed":43.1713,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.1713"}]}}
{"Timestamp":"2024-11-09T22:13:30.3728744+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9fe5b1f7c4633dbd79de9402764ff201","SpanId":"f3b1d4a4291c1772","Properties":{"ElapsedMilliseconds":54.4017,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1233","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPL:00000001","RequestPath":"/api/Schedules/1233","ConnectionId":"0HN80Q1D7LVPL"}}
{"Timestamp":"2024-11-09T22:13:34.4380866+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4432142+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4447906+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4587503+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4643024+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4680766+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4692820+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.7284,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4706812+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4715172+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.4667,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.4667"}]}}
{"Timestamp":"2024-11-09T22:13:34.4736204+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"641b56e3130e82aa5bb26c56565a2486","SpanId":"d960a41aa629ed33","Properties":{"ElapsedMilliseconds":35.5047,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPM"}}
{"Timestamp":"2024-11-09T22:13:34.4760808+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4802636+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4820005+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4908622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4931466+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4943936+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.0875,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4957621+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:34.4967978+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.8282,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8282"}]}}
{"Timestamp":"2024-11-09T22:13:34.5002892+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0915a324053d2c14b0ae232c0cd61805","SpanId":"ef8ae56d86fee032","Properties":{"ElapsedMilliseconds":24.1995,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPN"}}
{"Timestamp":"2024-11-09T22:13:40.0081812+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0126065+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0142066+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0244996+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0317734+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0354876+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0376949+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.8847,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0388890+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0399053+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.4611,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.4611"}]}}
{"Timestamp":"2024-11-09T22:13:40.0422335+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"40ccaad90e0ad8b5cedd529ca5247ee6","SpanId":"5da83d2444b4d1c8","Properties":{"ElapsedMilliseconds":34.1234,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPO"}}
{"Timestamp":"2024-11-09T22:13:40.0444732+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0520029+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0552608+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0642122+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0681635+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0707919+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.0253,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0727256+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.0742284+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":22.9326,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.9326"}]}}
{"Timestamp":"2024-11-09T22:13:40.0769493+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a026c81a0dc13955a66f577c31683f1","SpanId":"09706c6ff7ce9421","Properties":{"ElapsedMilliseconds":32.4936,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPP"}}
{"Timestamp":"2024-11-09T22:13:40.3716408+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:40.3774987+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:40.3799378+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.8726461+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.8758768+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.8815918+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.8822077+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.8835167+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.8875448+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.8980085+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1513.2466,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.9072057+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.9325625+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1555.2523,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1555.2523"}]}}
{"Timestamp":"2024-11-09T22:13:41.9042979+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.9403113+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5cd11d082d560e98dac64a67af6d0ec","SpanId":"11090fab85372c0b","Properties":{"ElapsedMilliseconds":1568.5941,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPQ"}}
{"Timestamp":"2024-11-09T22:13:41.9492574+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9521623+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.9554110+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9573987+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.9579324+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9611495+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":71.9278,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.9650958+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.9665338+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":85.0844,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"85.0844"}]}}
{"Timestamp":"2024-11-09T22:13:41.9701569+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"97de193960aaec1ad7af8e02c4f4f85a","SpanId":"cd8890dda962511f","Properties":{"ElapsedMilliseconds":94.3073,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPR"}}
{"Timestamp":"2024-11-09T22:13:41.9799142+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"elapsed":"14","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9802935+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:41.9834332+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc39bff8-8cd3-44d4-868c-4222896c701a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9889530+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:41.9897164+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":26.2685,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9907289+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:41.9932190+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:41.9965677+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":41.7479,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.7479"}]}}
{"Timestamp":"2024-11-09T22:13:41.9989493+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5d000f18967bee187b7a5adbb883ae1","SpanId":"6b39477c507e5dbc","Properties":{"ElapsedMilliseconds":49.981,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN80Q1D7LVPS"}}
{"Timestamp":"2024-11-09T22:13:42.0076685+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:42.0120807+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:42.0139211+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.4302,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:42.0157897+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:42.0171089+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":29.3745,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.3745"}]}}
{"Timestamp":"2024-11-09T22:13:42.0195823+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"beb4c03542179d85d183b7568d654e3e","SpanId":"943fd55a1e12c700","Properties":{"ElapsedMilliseconds":39.2084,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPT"}}
{"Timestamp":"2024-11-09T22:13:44.8073953+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8101692+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8124095+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8239412+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8317877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8355531+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8385960+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.6852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8404296+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8417730+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":31.7546,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.7546"}]}}
{"Timestamp":"2024-11-09T22:13:44.8443307+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10445a705353df3fcef3b98d70415d44","SpanId":"06959fe25acc1c60","Properties":{"ElapsedMilliseconds":36.9808,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVPU"}}
{"Timestamp":"2024-11-09T22:13:44.8498544+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8557026+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8570296+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8662630+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8694889+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f8b081be-0e31-4503-bbc0-a708f5a20d76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8713206+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.9751,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8731341+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8744849+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.313,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3130"}]}}
{"Timestamp":"2024-11-09T22:13:44.8759188+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"990f9f0ff2efdf953b940c34c3237476","SpanId":"a420aa2e80cd3441","Properties":{"ElapsedMilliseconds":26.1431,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVPV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN80Q1D7LVPV"}}
{"Timestamp":"2024-11-09T22:13:44.8887269+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.8908507+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.8915892+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.8979396+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.9017406+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.9063507+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"24c2832e-3828-4353-94fa-855aaca81c15","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.9075141+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.7155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.9084203+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:44.9092035+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":18.4316,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4316"}]}}
{"Timestamp":"2024-11-09T22:13:44.9115497+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b90f431472a7416f006d24e5f1c9f51e","SpanId":"bdaa760d0b0ed1a3","Properties":{"ElapsedMilliseconds":22.8392,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN80Q1D7LVQ0"}}
{"Timestamp":"2024-11-09T22:13:59.9976621+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0014154+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0032633+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0175849+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"elapsed":"4","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0308299+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0350759+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0373653+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":30.7493,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0390148+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:14:00.0413688+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":40.1964,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.1964"}]}}
{"Timestamp":"2024-11-09T22:14:00.0444006+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18fe88f13e46c6bfaad24890ab8fd532","SpanId":"42ebdf5625186602","Properties":{"ElapsedMilliseconds":46.6851,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ1"}}
{"Timestamp":"2024-11-09T22:19:32.3554648+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.3631344+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.3642668+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.4062476+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"elapsed":"17","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.4186343+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.4213388+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.4225804+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":56.6983,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.4245396+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:19:32.4260463+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":63.5111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.5111"}]}}
{"Timestamp":"2024-11-09T22:19:32.4290435+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e23c1183cb8b03a642d5f6c5ada3fcff","SpanId":"c4e837a9697ce4da","Properties":{"ElapsedMilliseconds":79.3035,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ2"}}
{"Timestamp":"2024-11-09T22:21:37.4149856+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4299667+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4323445+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4704532+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"elapsed":"16","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4842845+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4891220+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4917809+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":55.3658,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4940080+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:21:37.4959909+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":66.5102,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.5102"}]}}
{"Timestamp":"2024-11-09T22:21:37.4993664+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7aa4f0ef398f3c8f2fa4b1f719109c01","SpanId":"9af24d95c81b8712","Properties":{"ElapsedMilliseconds":84.508,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ3"}}
{"Timestamp":"2024-11-09T22:22:00.1955645+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2031215+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2055381+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2550553+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"elapsed":"18","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2721071+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2772594+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd1b50c9-a021-4331-a130-3eddf7fe2584","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2803710+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":70.7561,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2819379+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T22:22:00.2839843+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":80.9543,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"80.9543"}]}}
{"Timestamp":"2024-11-09T22:22:00.2863897+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c96cb3298c2bea6d8b3c53ba440d4b0","SpanId":"42e73e081e8ba56a","Properties":{"ElapsedMilliseconds":90.8819,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80Q1D7LVQ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80Q1D7LVQ4"}}
{"Timestamp":"2024-11-09T23:02:24.7580997+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-09T23:02:25.1957132+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T23:02:25.2622751+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T23:02:25.2653076+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T23:02:25.2668906+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-09T23:02:26.5964921+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f3afab0c7d628d361e8d75953a659bdb","SpanId":"3acfaf0b71004138","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38S:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80QVJJJ38S"}}
{"Timestamp":"2024-11-09T23:02:27.0660356+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f3afab0c7d628d361e8d75953a659bdb","SpanId":"3acfaf0b71004138","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":149.3879,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"149.3879"}]}}
{"Timestamp":"2024-11-09T23:02:27.0858618+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"833f6ee1c47042bab8af6e21d703368a","SpanId":"15a7d121ffcf1a6c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38R:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80QVJJJ38R"}}
{"Timestamp":"2024-11-09T23:02:27.0858630+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a2989ddbfaf2a8fc3d70d1791138656","SpanId":"7b6b7820c6266f5c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38T:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80QVJJJ38T"}}
{"Timestamp":"2024-11-09T23:02:27.1161825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"833f6ee1c47042bab8af6e21d703368a","SpanId":"15a7d121ffcf1a6c","Properties":{"ElapsedMilliseconds":39.4282,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38R:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN80QVJJJ38R"}}
{"Timestamp":"2024-11-09T23:02:27.1161503+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f3afab0c7d628d361e8d75953a659bdb","SpanId":"3acfaf0b71004138","Properties":{"ElapsedMilliseconds":544.889,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38S:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN80QVJJJ38S"}}
{"Timestamp":"2024-11-09T23:02:27.1967174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a2989ddbfaf2a8fc3d70d1791138656","SpanId":"7b6b7820c6266f5c","Properties":{"ElapsedMilliseconds":120.8161,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38T:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN80QVJJJ38T"}}
{"Timestamp":"2024-11-09T23:02:27.2442482+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e055d2d384f1d79bcf2add00314a43ff","SpanId":"8ca2d1d0e3ecdf88","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38T:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80QVJJJ38T"}}
{"Timestamp":"2024-11-09T23:02:27.4409771+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e055d2d384f1d79bcf2add00314a43ff","SpanId":"8ca2d1d0e3ecdf88","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":191.7771,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"191.7771"}]}}
{"Timestamp":"2024-11-09T23:02:27.4448975+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e055d2d384f1d79bcf2add00314a43ff","SpanId":"8ca2d1d0e3ecdf88","Properties":{"ElapsedMilliseconds":200.6315,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38T:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN80QVJJJ38T"}}
{"Timestamp":"2024-11-09T23:02:49.7998992+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:49.8212866+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:49.9783497+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:50.0476218+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:52.3509162+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"elapsed":"123","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:52.7767435+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"elapsed":"43","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:52.8106230+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:52.8194393+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2765.8128,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:52.8237113+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:02:52.8275489+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3013.6859,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3013.6859"}]}}
{"Timestamp":"2024-11-09T23:02:52.8388172+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7910d5b97023b9b2526a97f0660c6a5","SpanId":"a5daa6f0fc89c6d3","Properties":{"ElapsedMilliseconds":3039.0191,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38U:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38U"}}
{"Timestamp":"2024-11-09T23:10:16.8628206+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.8740682+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.8770953+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.9540266+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"elapsed":"18","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.9710643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.9749909+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.9772377+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":97.8662,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.9788920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:16.9805435+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":112.6937,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"112.6937"}]}}
{"Timestamp":"2024-11-09T23:10:16.9849172+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1d2591522dbdd5b7f2169c7f2ee4654","SpanId":"e48d9fd593e7b8ee","Properties":{"ElapsedMilliseconds":122.1943,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ38V:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ38V"}}
{"Timestamp":"2024-11-09T23:10:43.0486695+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.0677053+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.0696875+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.1404311+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.1534877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.1596158+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.1614321+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":90.11,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.1632263+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:10:43.1641546+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":98.5196,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"98.5196"}]}}
{"Timestamp":"2024-11-09T23:10:43.1664655+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79dbc9b797bf3158a0969ce842ebbed3","SpanId":"4839114f6e452ba0","Properties":{"ElapsedMilliseconds":118.2337,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ390:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ390"}}
{"Timestamp":"2024-11-09T23:15:13.7356615+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7437376+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7458314+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7676403+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"elapsed":"4","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7781550+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7819657+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c008c836-251e-4ae8-b1f6-25086c57c500","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7832800+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":36.067,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7846576+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
{"Timestamp":"2024-11-09T23:15:13.7853740+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":41.837,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.8370"}]}}
{"Timestamp":"2024-11-09T23:15:13.7869803+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"466607a864f9c0c9f73f3f18e7d3112a","SpanId":"1fe4f1be37dabc3c","Properties":{"ElapsedMilliseconds":51.5579,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN80QVJJJ391:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN80QVJJJ391"}}
