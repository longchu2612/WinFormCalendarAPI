{"Timestamp":"2024-11-11T10:34:08.1913129+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T10:34:08.6825901+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:34:08.8960673+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:34:08.9073579+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:34:08.9124834+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:34:09.9645056+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b0252c9677f342be0e626d5b79c27c5f","SpanId":"3297495088360a77","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VL:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8206PP95VL"}}
{"Timestamp":"2024-11-11T10:34:10.5850489+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b0252c9677f342be0e626d5b79c27c5f","SpanId":"3297495088360a77","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":133.849,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"133.8490"}]}}
{"Timestamp":"2024-11-11T10:34:10.6137632+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a1eaef6eff9b4fe509cdb131e7b826fc","SpanId":"e70a5a028fb4408d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VK:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8206PP95VK"}}
{"Timestamp":"2024-11-11T10:34:10.6702352+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e597215553432168e8204b2933e1bc7f","SpanId":"f9e64771b56181d6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VM:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8206PP95VM"}}
{"Timestamp":"2024-11-11T10:34:10.7073601+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a1eaef6eff9b4fe509cdb131e7b826fc","SpanId":"e70a5a028fb4408d","Properties":{"ElapsedMilliseconds":92.8126,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VK:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8206PP95VK"}}
{"Timestamp":"2024-11-11T10:34:10.7073867+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b0252c9677f342be0e626d5b79c27c5f","SpanId":"3297495088360a77","Properties":{"ElapsedMilliseconds":756.7536,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VL:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8206PP95VL"}}
{"Timestamp":"2024-11-11T10:34:10.8585721+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e597215553432168e8204b2933e1bc7f","SpanId":"f9e64771b56181d6","Properties":{"ElapsedMilliseconds":188.2844,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VM:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8206PP95VM"}}
{"Timestamp":"2024-11-11T10:34:11.0543499+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba24b14ea72b1ae5b13e04eca97a2bc5","SpanId":"95598ad19f125311","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VM:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8206PP95VM"}}
{"Timestamp":"2024-11-11T10:34:11.2582967+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba24b14ea72b1ae5b13e04eca97a2bc5","SpanId":"95598ad19f125311","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":186.7723,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"186.7723"}]}}
{"Timestamp":"2024-11-11T10:34:11.2615208+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba24b14ea72b1ae5b13e04eca97a2bc5","SpanId":"95598ad19f125311","Properties":{"ElapsedMilliseconds":207.1746,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VM:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8206PP95VM"}}
{"Timestamp":"2024-11-11T10:34:30.2269831+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:30.2364726+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:30.3606414+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:30.4081564+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"254e5126-e591-4653-8750-659ecb3d27cd","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:47.3948811+07:00","Level":"Error","MessageTemplate":"An error occurred using the connection to database '{database}' on server '{server}'.","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"database":"CalenderAPI","server":"DESKTOP-2RHLRSM","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"254e5126-e591-4653-8750-659ecb3d27cd","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:47.4352931+07:00","Level":"Error","MessageTemplate":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)\r\n ---> System.ComponentModel.Win32Exception (53): The network path was not found.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)\r\n   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\nClientConnectionId:00000000-0000-0000-0000-000000000000\r\nError Number:53,State:0,Class:20","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)\r\n ---> System.ComponentModel.Win32Exception (53): The network path was not found.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)\r\n   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\nClientConnectionId:00000000-0000-0000-0000-000000000000\r\nError Number:53,State:0,Class:20","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"254e5126-e591-4653-8750-659ecb3d27cd","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:47.6775243+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":17261.6893,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:47.6955835+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:47.6993991+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)\r\n ---> System.ComponentModel.Win32Exception (53): The network path was not found.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)\r\n   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)\r\n   at lambda_method16(Closure, QueryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at WebCalenderAPI.Controllers.UserController.Validate(LoginModel model) in C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI\\Controllers\\UserController.cs:line 33\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\nClientConnectionId:00000000-0000-0000-0000-000000000000\r\nError Number:53,State:0,Class:20","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":500,"Elapsed":17466.4376,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17466.4376"}]}}
{"Timestamp":"2024-11-11T10:34:47.7670625+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Exception":"Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)\r\n ---> System.ComponentModel.Win32Exception (53): The network path was not found.\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)\r\n   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)\r\n   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\r\n   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)\r\n   at Microsoft.Data.SqlClient.SqlConnection.Open()\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)\r\n   at lambda_method16(Closure, QueryContext)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\r\n   at WebCalenderAPI.Controllers.UserController.Validate(LoginModel model) in C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI\\Controllers\\UserController.cs:line 33\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\r\nClientConnectionId:00000000-0000-0000-0000-000000000000\r\nError Number:53,State:0,Class:20","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:34:47.8769443+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b68de68d9a6caa524cabe95b8e728472","SpanId":"8e9259aaec49ad71","Properties":{"ElapsedMilliseconds":17649.9923,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8206PP95VN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8206PP95VN"}}
{"Timestamp":"2024-11-11T10:35:59.5354855+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T10:35:59.8833173+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:35:59.9599459+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:35:59.9614616+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:35:59.9624225+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T10:36:00.9404418+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"76379246fd6293b9b94395995d327a31","SpanId":"95d9863fbbd9e2ac","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8207QUBHRM"}}
{"Timestamp":"2024-11-11T10:36:01.3479378+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"76379246fd6293b9b94395995d327a31","SpanId":"95d9863fbbd9e2ac","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":159.8777,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"159.8777"}]}}
{"Timestamp":"2024-11-11T10:36:01.4058220+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37e77f9de1804f81c414d63c86a7da2f","SpanId":"65fa0cc62242cbf6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8207QUBHRN"}}
{"Timestamp":"2024-11-11T10:36:01.4058219+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"984c320fdb3b4f96a39b44c6a0855d3e","SpanId":"b4d457ab195e8cba","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8207QUBHRL"}}
{"Timestamp":"2024-11-11T10:36:01.4456174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"76379246fd6293b9b94395995d327a31","SpanId":"95d9863fbbd9e2ac","Properties":{"ElapsedMilliseconds":515.6342,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8207QUBHRM"}}
{"Timestamp":"2024-11-11T10:36:01.5973525+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"984c320fdb3b4f96a39b44c6a0855d3e","SpanId":"b4d457ab195e8cba","Properties":{"ElapsedMilliseconds":191.5878,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8207QUBHRL"}}
{"Timestamp":"2024-11-11T10:36:01.6531793+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37e77f9de1804f81c414d63c86a7da2f","SpanId":"65fa0cc62242cbf6","Properties":{"ElapsedMilliseconds":247.5415,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8207QUBHRN"}}
{"Timestamp":"2024-11-11T10:36:01.7103058+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e72abca694f32647258dac5e915df4e5","SpanId":"76f9a67fff2fba5d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8207QUBHRN"}}
{"Timestamp":"2024-11-11T10:36:01.8860399+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e72abca694f32647258dac5e915df4e5","SpanId":"76f9a67fff2fba5d","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":172.343,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"172.3430"}]}}
{"Timestamp":"2024-11-11T10:36:01.8918623+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e72abca694f32647258dac5e915df4e5","SpanId":"76f9a67fff2fba5d","Properties":{"ElapsedMilliseconds":181.3092,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8207QUBHRN"}}
{"Timestamp":"2024-11-11T10:36:13.0769597+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:13.1151585+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:13.2143474+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:13.2468341+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a8113e1a-f1c5-4667-b727-d642ca6975d6","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:14.9701320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"elapsed":"64","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a8113e1a-f1c5-4667-b727-d642ca6975d6","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:15.3879587+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"elapsed":"34","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a8113e1a-f1c5-4667-b727-d642ca6975d6","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:15.4221119+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a8113e1a-f1c5-4667-b727-d642ca6975d6","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:15.4296825+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2177.8797,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:15.4312834+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T10:36:15.4333959+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2326.2779,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2326.2779"}]}}
{"Timestamp":"2024-11-11T10:36:15.4436008+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7010fc28125f4729684164820f8de2d8","SpanId":"d25c79590c900750","Properties":{"ElapsedMilliseconds":2366.7245,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8207QUBHRO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8207QUBHRO"}}
{"Timestamp":"2024-11-11T11:12:43.0619976+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T11:12:43.3564926+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:12:43.4120946+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:12:43.4132973+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:12:43.4141642+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:12:44.2038397+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"91e067343c2406510e0ea24ba48d17b2","SpanId":"5c345c1c569a47fa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P7V:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN820SBN3P7V"}}
{"Timestamp":"2024-11-11T11:12:44.5063388+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"91e067343c2406510e0ea24ba48d17b2","SpanId":"5c345c1c569a47fa","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":95.173,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"95.1730"}]}}
{"Timestamp":"2024-11-11T11:12:44.5537442+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cbab5253ae3a088f597448659257cbc","SpanId":"023c2ce509aa44cb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P80:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN820SBN3P80"}}
{"Timestamp":"2024-11-11T11:12:44.5537974+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8872124b9c9c013908f0538403f1a3aa","SpanId":"c10662ef305e7333","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P7U:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN820SBN3P7U"}}
{"Timestamp":"2024-11-11T11:12:44.5656086+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"91e067343c2406510e0ea24ba48d17b2","SpanId":"5c345c1c569a47fa","Properties":{"ElapsedMilliseconds":379.4084,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P7V:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN820SBN3P7V"}}
{"Timestamp":"2024-11-11T11:12:44.5944334+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8872124b9c9c013908f0538403f1a3aa","SpanId":"c10662ef305e7333","Properties":{"ElapsedMilliseconds":41.4155,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P7U:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN820SBN3P7U"}}
{"Timestamp":"2024-11-11T11:12:44.6745152+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cbab5253ae3a088f597448659257cbc","SpanId":"023c2ce509aa44cb","Properties":{"ElapsedMilliseconds":120.7891,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P80:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN820SBN3P80"}}
{"Timestamp":"2024-11-11T11:12:44.7382996+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b8fafcca332613334bacd53a530359a","SpanId":"ba4af953630c92ac","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P80:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN820SBN3P80"}}
{"Timestamp":"2024-11-11T11:12:44.9665607+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b8fafcca332613334bacd53a530359a","SpanId":"ba4af953630c92ac","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":223.587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"223.5870"}]}}
{"Timestamp":"2024-11-11T11:12:44.9698809+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b8fafcca332613334bacd53a530359a","SpanId":"ba4af953630c92ac","Properties":{"ElapsedMilliseconds":231.626,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN820SBN3P80:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN820SBN3P80"}}
{"Timestamp":"2024-11-11T11:42:10.8869088+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T11:42:11.1973588+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:42:11.2625647+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:42:11.2640396+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:42:11.2652089+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:42:12.4137477+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"394f623c0ccec155e70021fb8755458a","SpanId":"4de5e1c15395cd41","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG2:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821CQG1MG2"}}
{"Timestamp":"2024-11-11T11:42:12.8068040+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"394f623c0ccec155e70021fb8755458a","SpanId":"4de5e1c15395cd41","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":126.4032,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"126.4032"}]}}
{"Timestamp":"2024-11-11T11:42:12.8195875+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f1b37c2def59cc0af33b0a5da4fcaf4","SpanId":"4c07f6ee9f8786e6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821CQG1MG1"}}
{"Timestamp":"2024-11-11T11:42:12.8528983+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28eca1c4f9c6ab7e13afd955199c104e","SpanId":"d946eb2046f2440e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG3:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821CQG1MG3"}}
{"Timestamp":"2024-11-11T11:42:12.9025354+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"394f623c0ccec155e70021fb8755458a","SpanId":"4de5e1c15395cd41","Properties":{"ElapsedMilliseconds":502.0944,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG2:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821CQG1MG2"}}
{"Timestamp":"2024-11-11T11:42:12.9143087+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f1b37c2def59cc0af33b0a5da4fcaf4","SpanId":"4c07f6ee9f8786e6","Properties":{"ElapsedMilliseconds":95.3837,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821CQG1MG1"}}
{"Timestamp":"2024-11-11T11:42:13.0272568+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28eca1c4f9c6ab7e13afd955199c104e","SpanId":"d946eb2046f2440e","Properties":{"ElapsedMilliseconds":173.7134,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG3:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821CQG1MG3"}}
{"Timestamp":"2024-11-11T11:42:13.1018105+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a16980eeb41089566b3ea1cbd8fe088a","SpanId":"7d2937975b0f75b3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG3:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821CQG1MG3"}}
{"Timestamp":"2024-11-11T11:42:13.3697347+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a16980eeb41089566b3ea1cbd8fe088a","SpanId":"7d2937975b0f75b3","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":263.9881,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"263.9881"}]}}
{"Timestamp":"2024-11-11T11:42:13.3826469+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a16980eeb41089566b3ea1cbd8fe088a","SpanId":"7d2937975b0f75b3","Properties":{"ElapsedMilliseconds":280.8994,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821CQG1MG3:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821CQG1MG3"}}
{"Timestamp":"2024-11-11T11:44:00.1449539+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T11:44:00.4200865+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:44:00.4842586+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:44:00.4856525+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:44:00.4865544+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:44:00.9289818+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f5d11cb2e6fd2d019309f11151237b2","SpanId":"4793691c179df487","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5H:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821DR11T5H"}}
{"Timestamp":"2024-11-11T11:44:01.2463707+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f5d11cb2e6fd2d019309f11151237b2","SpanId":"4793691c179df487","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":93.1255,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"93.1255"}]}}
{"Timestamp":"2024-11-11T11:44:01.2625765+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f20f5cb81769f9eb46e5df7407daf25f","SpanId":"5a5ac45c1db4afd7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5I:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821DR11T5I"}}
{"Timestamp":"2024-11-11T11:44:01.2715282+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65c9fcad84a464b492ba6b058ebc3ea6","SpanId":"0d0e070c722b212f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5G:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821DR11T5G"}}
{"Timestamp":"2024-11-11T11:44:01.2820778+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f5d11cb2e6fd2d019309f11151237b2","SpanId":"4793691c179df487","Properties":{"ElapsedMilliseconds":367.8135,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5H:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821DR11T5H"}}
{"Timestamp":"2024-11-11T11:44:01.3894135+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65c9fcad84a464b492ba6b058ebc3ea6","SpanId":"0d0e070c722b212f","Properties":{"ElapsedMilliseconds":120.9387,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5G:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821DR11T5G"}}
{"Timestamp":"2024-11-11T11:44:01.4814702+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f20f5cb81769f9eb46e5df7407daf25f","SpanId":"5a5ac45c1db4afd7","Properties":{"ElapsedMilliseconds":219.0268,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5I:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821DR11T5I"}}
{"Timestamp":"2024-11-11T11:44:01.5894560+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c66ff55e6d6db7646ba6902e0c578d0e","SpanId":"6fe07e27c8411176","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5I:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821DR11T5I"}}
{"Timestamp":"2024-11-11T11:44:01.9580365+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c66ff55e6d6db7646ba6902e0c578d0e","SpanId":"6fe07e27c8411176","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":212.2188,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"212.2188"}]}}
{"Timestamp":"2024-11-11T11:44:02.0187218+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c66ff55e6d6db7646ba6902e0c578d0e","SpanId":"6fe07e27c8411176","Properties":{"ElapsedMilliseconds":429.2943,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5I:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821DR11T5I"}}
{"Timestamp":"2024-11-11T11:44:15.8590854+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:15.8664828+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:15.9743372+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:16.0068728+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8b89412d-73a2-4922-a3fd-545f6df9f4cb","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:17.9926853+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"elapsed":"273","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8b89412d-73a2-4922-a3fd-545f6df9f4cb","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:18.4238544+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"elapsed":"41","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8b89412d-73a2-4922-a3fd-545f6df9f4cb","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:18.4458873+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8b89412d-73a2-4922-a3fd-545f6df9f4cb","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:18.4550300+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2443.0595,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:18.4570237+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:18.4597978+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2596.3552,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2596.3552"}]}}
{"Timestamp":"2024-11-11T11:44:18.4714827+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c16cdcaff560aa39714547a972bf591b","SpanId":"0b129f07fe508e76","Properties":{"ElapsedMilliseconds":2612.5622,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821DR11T5J"}}
{"Timestamp":"2024-11-11T11:44:21.2432345+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:21.2504833+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:21.2560928+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:23.6074712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:23.6223302+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:23.6256556+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.6998087+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"elapsed":"17","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:29.7096730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"elapsed":"82","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.8077108+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:29.8080039+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.8226519+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:29.8226519+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c8150619-1b60-4b10-b015-c486e73b6d4c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.8240800+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8565.3589,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:29.8253776+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":6193.8853,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.8264028+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:29.8276013+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.8285394+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":8579.4795,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8579.4795"}]}}
{"Timestamp":"2024-11-11T11:44:29.8293522+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":6212.4415,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6212.4415"}]}}
{"Timestamp":"2024-11-11T11:44:29.8311044+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c180e80d9f721c64c1616043f8997c8","SpanId":"c454b6eafc3f99c9","Properties":{"ElapsedMilliseconds":8587.8725,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5K"}}
{"Timestamp":"2024-11-11T11:44:29.8325967+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5e0f99f3ee394e1d315247b040d4b1fb","SpanId":"a662c9917e832558","Properties":{"ElapsedMilliseconds":6225.1621,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821DR11T5L"}}
{"Timestamp":"2024-11-11T11:44:29.8355411+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:29.8364960+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:29.8745992+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:29.8745992+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:29.8786699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9fc4f0d2-473e-4cb9-98b3-4f0b90c137ad","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:29.8786699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b1196f41-7b6c-42b8-9128-69f5a406d95c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:29.9751902+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9fc4f0d2-473e-4cb9-98b3-4f0b90c137ad","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:29.9792210+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"elapsed":"23","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b1196f41-7b6c-42b8-9128-69f5a406d95c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:29.9832490+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b1196f41-7b6c-42b8-9128-69f5a406d95c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:29.9832459+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9fc4f0d2-473e-4cb9-98b3-4f0b90c137ad","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:29.9987942+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":116.4982,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:29.9987942+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":118.3891,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:30.0004523+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:30.0018956+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:44:30.0031583+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":161.1661,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"161.1661"}]}}
{"Timestamp":"2024-11-11T11:44:30.0043740+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":157.4499,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"157.4499"}]}}
{"Timestamp":"2024-11-11T11:44:30.0062026+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7c5255495040ddd8cec8260c248acdfc","SpanId":"eba709021dd361dd","Properties":{"ElapsedMilliseconds":170.8498,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821DR11T5M"}}
{"Timestamp":"2024-11-11T11:44:30.0081674+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"665d6e7ea4c9f0a69fc3555a19a47a1c","SpanId":"8873b51e7f44acf8","Properties":{"ElapsedMilliseconds":171.6749,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821DR11T5N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821DR11T5N"}}
{"Timestamp":"2024-11-11T11:47:12.9757539+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T11:47:13.3513521+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:47:13.4497956+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:47:13.4568475+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:47:13.4578741+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:47:14.5605349+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6157235e3bff02bb53a70bd7729bc04e","SpanId":"69b9871d4a01bf70","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821FKJHSFR"}}
{"Timestamp":"2024-11-11T11:47:14.8697417+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6157235e3bff02bb53a70bd7729bc04e","SpanId":"69b9871d4a01bf70","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":104.8889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"104.8889"}]}}
{"Timestamp":"2024-11-11T11:47:14.8969205+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9eddf36a905d2fd32e88c28968b77c9","SpanId":"a47e731555cf7c0c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFS:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821FKJHSFS"}}
{"Timestamp":"2024-11-11T11:47:14.8983102+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0a8e760dd7f9103a27a47f82c7a9325","SpanId":"c083e74cc85ce5c8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFQ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821FKJHSFQ"}}
{"Timestamp":"2024-11-11T11:47:14.9069229+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6157235e3bff02bb53a70bd7729bc04e","SpanId":"69b9871d4a01bf70","Properties":{"ElapsedMilliseconds":355.9578,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821FKJHSFR"}}
{"Timestamp":"2024-11-11T11:47:15.0434478+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0a8e760dd7f9103a27a47f82c7a9325","SpanId":"c083e74cc85ce5c8","Properties":{"ElapsedMilliseconds":145.0789,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFQ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821FKJHSFQ"}}
{"Timestamp":"2024-11-11T11:47:15.0932314+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9eddf36a905d2fd32e88c28968b77c9","SpanId":"a47e731555cf7c0c","Properties":{"ElapsedMilliseconds":196.5929,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFS:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821FKJHSFS"}}
{"Timestamp":"2024-11-11T11:47:15.1753556+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"64087f0cef72f8fa6d1280b573f1b055","SpanId":"710c2f8b4ec0be9f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFS:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821FKJHSFS"}}
{"Timestamp":"2024-11-11T11:47:15.3894646+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"64087f0cef72f8fa6d1280b573f1b055","SpanId":"710c2f8b4ec0be9f","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":207.894,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"207.8940"}]}}
{"Timestamp":"2024-11-11T11:47:15.3920247+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"64087f0cef72f8fa6d1280b573f1b055","SpanId":"710c2f8b4ec0be9f","Properties":{"ElapsedMilliseconds":216.6899,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFS:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821FKJHSFS"}}
{"Timestamp":"2024-11-11T11:47:33.8392362+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:33.8490965+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:33.9623916+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:33.9919497+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:35.8256241+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"elapsed":"35","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:36.1922292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"elapsed":"39","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:36.2265598+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:36.2348118+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2238.3929,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:36.2363811+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:47:36.2386031+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2393.8962,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2393.8962"}]}}
{"Timestamp":"2024-11-11T11:47:36.2526143+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7dc7d11feedf66b15e3fc55f7d749740","SpanId":"36d3dfdfb5872810","Properties":{"ElapsedMilliseconds":2413.4553,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFT"}}
{"Timestamp":"2024-11-11T11:48:19.2292982+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.2380624+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.2476045+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.2957965+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.3041928+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.3077865+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.3094671+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":59.5186,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.3113698+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:19.3127260+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":76.7562,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"76.7562"}]}}
{"Timestamp":"2024-11-11T11:48:19.3150029+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"01963034993eeee8719e58d93e105af1","SpanId":"d41bbe8ece24108b","Properties":{"ElapsedMilliseconds":85.787,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFU"}}
{"Timestamp":"2024-11-11T11:48:27.4716850+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.4769801+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.4800552+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.5530736+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.5583202+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.5609625+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5dcd14d1-e70a-4a49-8c46-129929a710c9","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.5627079+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":80.6105,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.5640649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:27.5648699+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":90.7448,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"90.7448"}]}}
{"Timestamp":"2024-11-11T11:48:27.5664142+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f46c7ac64ddceca556dd61d9c2395251","SpanId":"ea15d79dda53eabd","Properties":{"ElapsedMilliseconds":94.7715,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSFV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821FKJHSFV"}}
{"Timestamp":"2024-11-11T11:48:54.2810331+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:54.3070267+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:54.3187092+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:56.1045039+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:56.1640794+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:56.1777395+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:56.1791631+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1858.0482,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:56.1806890+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:48:56.1815820+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1875.409,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1875.4090"}]}}
{"Timestamp":"2024-11-11T11:48:56.1831533+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ea5325f4af9ab759a322b009b13be09","SpanId":"f56dd596c08e6f90","Properties":{"ElapsedMilliseconds":1902.1212,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG0"}}
{"Timestamp":"2024-11-11T11:49:06.3383400+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:06.3421003+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:06.3449456+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:11.3760453+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"elapsed":"114","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:11.4465887+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:11.4640246+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:11.4845015+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":5136.2522,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:11.4872663+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:11.4886192+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":5146.7613,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5146.7613"}]}}
{"Timestamp":"2024-11-11T11:49:11.4907415+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a847fd006647584cb92f3731eabdba2","SpanId":"1a8028675e55f248","Properties":{"ElapsedMilliseconds":5152.3789,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG1"}}
{"Timestamp":"2024-11-11T11:49:32.0346791+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:32.0372097+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:32.0387055+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:33.5426753+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"elapsed":"16","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:33.5498745+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:33.5562168+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:33.5576824+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1516.5148,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:33.5591967+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:33.5605975+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":1523.4965,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1523.4965"}]}}
{"Timestamp":"2024-11-11T11:49:33.5626546+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d99c954b4e42ff5cdaebb6e4e63a1c92","SpanId":"2148abbec543c942","Properties":{"ElapsedMilliseconds":1528.1333,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG2"}}
{"Timestamp":"2024-11-11T11:49:45.0525887+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:45.0554740+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:45.0570476+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:46.6602865+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"elapsed":"19","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:46.6691270+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:46.6739879+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:46.6757510+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1616.2162,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:46.6786230+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:46.6802182+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":1624.8663,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1624.8663"}]}}
{"Timestamp":"2024-11-11T11:49:46.6827899+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e7566495b4760c9f0a90beb8126f1c2","SpanId":"5cecc43675330165","Properties":{"ElapsedMilliseconds":1629.9044,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG3"}}
{"Timestamp":"2024-11-11T11:49:57.4588539+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:57.4617081+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:57.4627769+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:59.0450675+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"elapsed":"21","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:59.0523660+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:59.0576910+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:59.0595123+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1593.8214,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:59.0618599+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:49:59.0632917+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":1601.6937,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1601.6937"}]}}
{"Timestamp":"2024-11-11T11:49:59.0659761+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d825f5b7fda2f3700ec4665deaa5cbe9","SpanId":"d4225d087eceff2e","Properties":{"ElapsedMilliseconds":1607.1007,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG4"}}
{"Timestamp":"2024-11-11T11:50:11.5848453+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:11.5913949+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:11.5934836+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:13.4523535+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:13.4590636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:13.4627136+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:13.4642794+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1867.0317,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:13.4656764+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:13.4669426+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":1875.6874,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1875.6874"}]}}
{"Timestamp":"2024-11-11T11:50:13.4687754+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e35e2f317ccedca81bcc1d4fa73cbfa","SpanId":"b41f18c055b0765d","Properties":{"ElapsedMilliseconds":1884.0419,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG5"}}
{"Timestamp":"2024-11-11T11:50:32.6941779+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:32.7322971+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:32.7335639+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:34.2405687+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:34.2597530+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"elapsed":"7","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:34.2675269+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7ddfd525-67d0-4f0e-8f7a-9b55aacea698","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:34.2691104+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1533.1079,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:34.2704552+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:50:34.2715985+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":1539.457,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1539.4570"}]}}
{"Timestamp":"2024-11-11T11:50:34.2734893+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74ab6b084b70817ac98c18ab2fe7d77e","SpanId":"89694d5ed3901c4f","Properties":{"ElapsedMilliseconds":1579.5706,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821FKJHSG6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821FKJHSG6"}}
{"Timestamp":"2024-11-11T11:54:05.5812742+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T11:54:06.0590768+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:54:06.1273471+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:54:06.1291168+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:54:06.1302728+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:54:07.3071233+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"daaa2d9e92dfd4a7dca59912bc6ab880","SpanId":"cba7e16eee0d9d5a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821JFK6CL6"}}
{"Timestamp":"2024-11-11T11:54:07.8278826+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"daaa2d9e92dfd4a7dca59912bc6ab880","SpanId":"cba7e16eee0d9d5a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":132.5961,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"132.5961"}]}}
{"Timestamp":"2024-11-11T11:54:07.8432501+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b5181c054f223d41a25f479baf43ab73","SpanId":"b438beb6324059c8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL5:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821JFK6CL5"}}
{"Timestamp":"2024-11-11T11:54:07.8455190+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"daaa2d9e92dfd4a7dca59912bc6ab880","SpanId":"cba7e16eee0d9d5a","Properties":{"ElapsedMilliseconds":553.7774,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821JFK6CL6"}}
{"Timestamp":"2024-11-11T11:54:07.8673152+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a6ff23e74d90fa5a8edb0c3887e4010","SpanId":"d3ff55c75cfa8eb5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL6:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821JFK6CL6"}}
{"Timestamp":"2024-11-11T11:54:07.8704462+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b5181c054f223d41a25f479baf43ab73","SpanId":"b438beb6324059c8","Properties":{"ElapsedMilliseconds":29.3639,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL5:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821JFK6CL5"}}
{"Timestamp":"2024-11-11T11:54:07.9347942+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a6ff23e74d90fa5a8edb0c3887e4010","SpanId":"d3ff55c75cfa8eb5","Properties":{"ElapsedMilliseconds":67.4942,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL6:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821JFK6CL6"}}
{"Timestamp":"2024-11-11T11:54:08.0177688+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a6d2aa429677c8e8d40a1e7726117d0","SpanId":"36688f31c1463c07","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL6:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821JFK6CL6"}}
{"Timestamp":"2024-11-11T11:54:08.2890856+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8a6d2aa429677c8e8d40a1e7726117d0","SpanId":"36688f31c1463c07","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":237.5794,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"237.5794"}]}}
{"Timestamp":"2024-11-11T11:54:08.3088684+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a6d2aa429677c8e8d40a1e7726117d0","SpanId":"36688f31c1463c07","Properties":{"ElapsedMilliseconds":291.0805,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL6:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821JFK6CL6"}}
{"Timestamp":"2024-11-11T11:54:20.7094137+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:20.7204976+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:21.0018418+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:21.0346538+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"095c4909-7baa-48d4-9805-0ae893c78f9a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:22.9338260+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"elapsed":"50","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"095c4909-7baa-48d4-9805-0ae893c78f9a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:23.2665683+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"elapsed":"27","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"095c4909-7baa-48d4-9805-0ae893c78f9a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:23.2983915+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"095c4909-7baa-48d4-9805-0ae893c78f9a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:23.3092123+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2268.1833,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:23.3114983+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:23.3147488+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2599.3748,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2599.3748"}]}}
{"Timestamp":"2024-11-11T11:54:23.3287997+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"58fa3749148d1b649ac0acd8ee359192","SpanId":"0aa8c2ebbdd9beab","Properties":{"ElapsedMilliseconds":2619.4425,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN821JFK6CL7"}}
{"Timestamp":"2024-11-11T11:54:25.3322649+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.3415713+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.3662367+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.5061574+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.5225021+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.5278238+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"elapsed":"29","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.5491647+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.6581339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.6806383+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.6852888+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.6878452+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":312.8755,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.6908231+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.6909802+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.6941221+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.6947921+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":355.2426,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"355.2426"}]}}
{"Timestamp":"2024-11-11T11:54:25.6963485+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":142.1995,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.6986380+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"01be1ac99cb17fbc175ba661b4a46f04","SpanId":"ebce9b782fb3fca6","Properties":{"ElapsedMilliseconds":366.419,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL8"}}
{"Timestamp":"2024-11-11T11:54:25.6996762+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.7031244+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.7042842+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":186.4678,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"186.4678"}]}}
{"Timestamp":"2024-11-11T11:54:25.7119969+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1fd571039c8203e0a4d0146849d22e44","SpanId":"d69e1b348d124176","Properties":{"ElapsedMilliseconds":205.9229,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CL9"}}
{"Timestamp":"2024-11-11T11:54:25.7184124+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.7568750+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.7568750+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.7610734+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.7610734+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.8168154+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"elapsed":"18","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.8172312+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"elapsed":"20","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.8260444+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.8262396+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.8349441+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":68.9875,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.8368567+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.8383491+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":129.0113,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"129.0113"}]}}
{"Timestamp":"2024-11-11T11:54:25.8407493+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"60faafba6d7a44be683e82e7921f3d9e","SpanId":"1595ac0998bcb1e6","Properties":{"ElapsedMilliseconds":137.6585,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLA"}}
{"Timestamp":"2024-11-11T11:54:25.8415526+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":78.1994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.8479492+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:25.8492603+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":125.0306,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"125.0306"}]}}
{"Timestamp":"2024-11-11T11:54:25.8512745+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a1052f6109fe6c0b19a4998449d804e","SpanId":"a05741ab051ace01","Properties":{"ElapsedMilliseconds":132.9385,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLB"}}
{"Timestamp":"2024-11-11T11:54:26.8863725+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.8896272+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.8907990+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9114523+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9187436+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9216897+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9229869+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.8937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9243838+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9255519+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.0477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.0477"}]}}
{"Timestamp":"2024-11-11T11:54:26.9277028+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"207c9623ec2484e1a0a89b08ca3ab2c4","SpanId":"ca2a6ce515ac9f6a","Properties":{"ElapsedMilliseconds":41.4231,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLC"}}
{"Timestamp":"2024-11-11T11:54:26.9315973+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9348758+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9362569+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9476237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9510519+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9525946+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.3159,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9541720+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9553766+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.2188,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.2188"}]}}
{"Timestamp":"2024-11-11T11:54:26.9572987+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9fca90e8a9260521dd6c9751e4ebddea","SpanId":"aee9efb84d5835a5","Properties":{"ElapsedMilliseconds":25.6117,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLD"}}
{"Timestamp":"2024-11-11T11:54:26.9639715+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9664974+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9674770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9790198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9844155+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9892192+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9906138+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.9812,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9919028+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:26.9929660+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.5543,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.5543"}]}}
{"Timestamp":"2024-11-11T11:54:26.9951671+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce669fee2a4ee0fd5a7a182b44127914","SpanId":"9c73eab592c6b8fc","Properties":{"ElapsedMilliseconds":31.2253,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLE"}}
{"Timestamp":"2024-11-11T11:54:27.0000125+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.0054332+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.0118418+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.1014053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.1665214+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.1709082+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.1727433+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":158.2903,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.1752709+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:27.1763421+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":171.3677,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"171.3677"}]}}
{"Timestamp":"2024-11-11T11:54:27.1784739+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5998b76760e74a014438934836644108","SpanId":"3f6ef54229057af7","Properties":{"ElapsedMilliseconds":178.4678,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CLF"}}
{"Timestamp":"2024-11-11T11:54:29.2186658+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2218657+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2229119+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2411400+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2475884+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2508566+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2523414+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.3724,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2537957+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2549167+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.2281,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.2281"}]}}
{"Timestamp":"2024-11-11T11:54:29.2571468+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"680d8f1cf438eb889f624eec1ab25e00","SpanId":"736e965ba14a85f1","Properties":{"ElapsedMilliseconds":38.4357,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLG"}}
{"Timestamp":"2024-11-11T11:54:29.2593245+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2231","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.2641802+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.2669181+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.2843630+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.2951074+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.3409428+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.3560453+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.3571109+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":87.7512,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.3586478+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:29.3597713+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/2231","StatusCode":200,"Elapsed":95.737,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"95.7370"}]}}
{"Timestamp":"2024-11-11T11:54:29.3617725+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9277b7e483a0a830d63804e039cb86bc","SpanId":"6a160dacb1d23e04","Properties":{"ElapsedMilliseconds":102.4719,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2231","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLH:00000001","RequestPath":"/api/Schedules/2231","ConnectionId":"0HN821JFK6CLH"}}
{"Timestamp":"2024-11-11T11:54:30.7160256+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7194494+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7207943+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7352583+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7398305+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7420779+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7430870+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.1845,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7440839+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7451516+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.8151,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.8151"}]}}
{"Timestamp":"2024-11-11T11:54:30.7471954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c32c35aeee8418562d452468d0d696f6","SpanId":"1e3950f5baa9a363","Properties":{"ElapsedMilliseconds":31.2185,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLI"}}
{"Timestamp":"2024-11-11T11:54:30.7498942+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7536481+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7547206+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7615163+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7648801+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7661291+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.8064,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7673394+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:30.7682583+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.0351,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.0351"}]}}
{"Timestamp":"2024-11-11T11:54:30.7699297+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa17e6f96b46f90e4edc469194b4f301","SpanId":"60e2f12ad136c78f","Properties":{"ElapsedMilliseconds":20.0484,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLJ"}}
{"Timestamp":"2024-11-11T11:54:33.3641137+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3670175+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3681111+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3774434+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3850231+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3877535+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3888286+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.6421,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3899313+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3907410+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.8418,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.8418"}]}}
{"Timestamp":"2024-11-11T11:54:33.3922193+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af89f517f6dbf05dc7b48b07dbf86527","SpanId":"c5b77f49f8da1a42","Properties":{"ElapsedMilliseconds":28.1531,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLK"}}
{"Timestamp":"2024-11-11T11:54:33.3947918+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.3979244+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.3988697+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.4052968+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.4074139+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.4086161+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.1007,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.4097630+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.4107263+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.051,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.0510"}]}}
{"Timestamp":"2024-11-11T11:54:33.4126802+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bbe2b3bc1ad87ef9b698dd381c6cdb6d","SpanId":"2c13664d18d01fc9","Properties":{"ElapsedMilliseconds":17.912,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLL"}}
{"Timestamp":"2024-11-11T11:54:33.5325461+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.5362013+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.5374322+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.5476869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.5632424+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.5643265+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.5667029+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.5715112+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.5902184+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":50.5197,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.6023124+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6033335+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.6070257+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":70.9528,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.9528"}]}}
{"Timestamp":"2024-11-11T11:54:33.6088866+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e46c19dc076af09e0f30c7458ac2285","SpanId":"c212dc4f66b6730d","Properties":{"ElapsedMilliseconds":76.3664,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLM"}}
{"Timestamp":"2024-11-11T11:54:33.6177356+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6259436+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6265782+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6290538+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6335487+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6350852+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.2854,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6366437+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6380118+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6420804+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":70.8329,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.8329"}]}}
{"Timestamp":"2024-11-11T11:54:33.6439007+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1596732e9ce099cb9f49ecf21c10806","SpanId":"c9ab9dcef991d513","Properties":{"ElapsedMilliseconds":79.6512,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLN"}}
{"Timestamp":"2024-11-11T11:54:33.6520556+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6539145+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6555219+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6577007+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6588281+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6603217+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":19.546,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6640853+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6654677+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":32.9198,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.9198"}]}}
{"Timestamp":"2024-11-11T11:54:33.6674717+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d97a4b621ee3f5d91e190f083267ca9","SpanId":"edd03134eb447d6f","Properties":{"ElapsedMilliseconds":40.8678,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CLO"}}
{"Timestamp":"2024-11-11T11:54:33.6749655+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6794099+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6813351+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.3415,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6829246+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:33.6842199+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":29.0863,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.0863"}]}}
{"Timestamp":"2024-11-11T11:54:33.6863153+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"500d4e5777892c3579c635a2a3faeb94","SpanId":"13263150aeab0dd1","Properties":{"ElapsedMilliseconds":34.2921,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLP"}}
{"Timestamp":"2024-11-11T11:54:35.6169281+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6203809+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6216470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6293434+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6363015+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6480285+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6550897+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.1642,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6567141+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6579449+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.7926,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.7926"}]}}
{"Timestamp":"2024-11-11T11:54:35.6634126+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3e5d6df79830520ec1963d9837fe025b","SpanId":"7ff3eda95267a853","Properties":{"ElapsedMilliseconds":46.4961,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLQ"}}
{"Timestamp":"2024-11-11T11:54:35.6659776+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1204","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6727546+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6737756+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6795862+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6844583+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6950234+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6984183+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"a9611d0f-85f6-44cf-865b-1315a885bc5e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.6992797+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":23.0002,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.7006346+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:35.7021041+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1204","StatusCode":200,"Elapsed":29.5309,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.5309"}]}}
{"Timestamp":"2024-11-11T11:54:35.7040870+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"597888079eddcc956951aaf766ecae1d","SpanId":"f91b1ec1a0a063d0","Properties":{"ElapsedMilliseconds":38.0084,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1204","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLR:00000001","RequestPath":"/api/Schedules/1204","ConnectionId":"0HN821JFK6CLR"}}
{"Timestamp":"2024-11-11T11:54:37.0932094+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.0987986+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1007744+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1153269+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1211600+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1238726+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1256769+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.5488,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1269492+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1286717+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.0984,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.0984"}]}}
{"Timestamp":"2024-11-11T11:54:37.1310010+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8444dbfc336d768289ae68fa7b424fa9","SpanId":"d51fd60657ec5ebd","Properties":{"ElapsedMilliseconds":37.7441,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLS"}}
{"Timestamp":"2024-11-11T11:54:37.1340705+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1393896+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1412773+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1532892+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1584749+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1600363+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.6377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1626175+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:37.1639751+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.975,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.9750"}]}}
{"Timestamp":"2024-11-11T11:54:37.1662087+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"00c402117fdf02641f9785877ab35517","SpanId":"ed8b859c40027a1e","Properties":{"ElapsedMilliseconds":32.1388,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CLT"}}
{"Timestamp":"2024-11-11T11:54:54.3900063+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.3925258+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.3933516+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4006500+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4057646+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4080185+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4090654+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.4206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4101141+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4114853+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.6056,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6056"}]}}
{"Timestamp":"2024-11-11T11:54:54.4137166+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e8bc9846e2da5fdde415f61a44f13c89","SpanId":"4179ebc0b97cb7f7","Properties":{"ElapsedMilliseconds":23.7359,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CLU"}}
{"Timestamp":"2024-11-11T11:54:54.4197883+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":98,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1181","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4226437+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4244208+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d838d718-3951-44d7-bd18-8b3335a436af","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4350058+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d838d718-3951-44d7-bd18-8b3335a436af","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4427561+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"elapsed":"2","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d838d718-3951-44d7-bd18-8b3335a436af","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4471783+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"d838d718-3951-44d7-bd18-8b3335a436af","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4479235+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":21.7851,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4489899+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:54.4498812+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1181","StatusCode":200,"Elapsed":27.3184,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.3184"}]}}
{"Timestamp":"2024-11-11T11:54:54.4513650+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc1cd2b034766949a218690f67ee88e1","SpanId":"85d1d43aa3824af5","Properties":{"ElapsedMilliseconds":31.6043,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1181","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CLV:00000001","RequestPath":"/api/Schedules/1181","ConnectionId":"0HN821JFK6CLV"}}
{"Timestamp":"2024-11-11T11:54:55.1243960+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1305309+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1325017+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1438784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1526915+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1612760+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1643005+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.8386,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1668905+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1687064+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.3067,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.3067"}]}}
{"Timestamp":"2024-11-11T11:54:55.1757272+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7eaa10f035d1820b55ff2f8809ba9a8e","SpanId":"96459eeab8f2696c","Properties":{"ElapsedMilliseconds":51.3528,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM0"}}
{"Timestamp":"2024-11-11T11:54:55.1875550+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.1913515+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.1927014+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.2012784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.2053731+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.2070106+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.8167,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.2085179+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:55.2098903+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.8212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8212"}]}}
{"Timestamp":"2024-11-11T11:54:55.2118445+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9ac83c5c2702088ec76148d633e5d259","SpanId":"cdd64deb431dd5f2","Properties":{"ElapsedMilliseconds":24.4811,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM1"}}
{"Timestamp":"2024-11-11T11:54:58.7949566+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.7980406+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.7990411+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8081749+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8244592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8380084+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8395138+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.1454,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8422108+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8435454+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":45.6066,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.6066"}]}}
{"Timestamp":"2024-11-11T11:54:58.8462053+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d976e3f5d92aa35e770b2de688e04c2","SpanId":"c3488a60b5068513","Properties":{"ElapsedMilliseconds":51.2403,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM2"}}
{"Timestamp":"2024-11-11T11:54:58.8490210+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8550901+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8565482+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8648117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8677592+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8693482+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.5477,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8708457+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.8721990+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.4638,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4638"}]}}
{"Timestamp":"2024-11-11T11:54:58.8739607+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a459b96d62573045e07af280b4e758d","SpanId":"b3a38637bbf30c4b","Properties":{"ElapsedMilliseconds":24.9566,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM3"}}
{"Timestamp":"2024-11-11T11:54:58.9602970+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:58.9650304+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:58.9651688+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:58.9694888+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:58.9708550+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:58.9721464+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0001703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"elapsed":"25","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:59.0009993+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"elapsed":"19","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0052380+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:59.0075834+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0092736+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:59.0123571+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0147989+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.4798,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:59.0158857+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.2777,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0168790+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:59.0179018+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0187582+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.6774,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.6774"}]}}
{"Timestamp":"2024-11-11T11:54:59.0195678+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.2396,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.2396"}]}}
{"Timestamp":"2024-11-11T11:54:59.0211028+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"871ef898f06c2793b7f9e83d2888c113","SpanId":"4ef5d34c5d931a87","Properties":{"ElapsedMilliseconds":60.881,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM4"}}
{"Timestamp":"2024-11-11T11:54:59.0255864+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0328190+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0232252+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c916b10e46a6abba448c050c00247c0f","SpanId":"fa50de1bcb382804","Properties":{"ElapsedMilliseconds":58.2043,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM5"}}
{"Timestamp":"2024-11-11T11:54:59.0443874+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0487452+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0541120+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0557143+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0752844+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0782553+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0797162+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":21.3891,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0811637+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0825782+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":38.5362,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.5362"}]}}
{"Timestamp":"2024-11-11T11:54:59.0843962+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"34d65ce1fc4d5baa06dfd9a30545d100","SpanId":"d89ab28693856c44","Properties":{"ElapsedMilliseconds":59.5374,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CM6"}}
{"Timestamp":"2024-11-11T11:54:59.0907870+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"elapsed":"27","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0947052+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0964403+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":35.5459,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0980422+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:54:59.0994921+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":51.2307,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.2307"}]}}
{"Timestamp":"2024-11-11T11:54:59.1017403+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf8eef667f39a9f82ae3ada69d01b65b","SpanId":"15a6ae6d522aafac","Properties":{"ElapsedMilliseconds":68.9602,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM7"}}
{"Timestamp":"2024-11-11T11:55:01.7702211+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7735280+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7746043+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7810077+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7859985+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7884733+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7897178+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.7709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7907080+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7915998+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.2375,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2375"}]}}
{"Timestamp":"2024-11-11T11:55:01.7931489+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3c67ebc452efb9e8c1e22e4f44910465","SpanId":"6b8a37656ae3c73b","Properties":{"ElapsedMilliseconds":22.9029,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CM8"}}
{"Timestamp":"2024-11-11T11:55:01.7949495+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.7987864+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.7997281+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.8062553+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.8089247+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.8101458+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.7116,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.8117252+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.8131119+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.5532,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.5532"}]}}
{"Timestamp":"2024-11-11T11:55:01.8145440+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"21a443797d5cf722979298291056a694","SpanId":"b2ed0fb2160f53b0","Properties":{"ElapsedMilliseconds":19.606,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CM9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CM9"}}
{"Timestamp":"2024-11-11T11:55:01.8203785+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8231912+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8243275+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8299650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8388810+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8414604+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8426931+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7651,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8438195+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8452050+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.1013,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.1013"}]}}
{"Timestamp":"2024-11-11T11:55:01.8466881+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"322886415d31f2af8534988af18b2f43","SpanId":"b175e27a4a1e2d39","Properties":{"ElapsedMilliseconds":26.3323,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMA"}}
{"Timestamp":"2024-11-11T11:55:01.8491395+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8520930+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8529521+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8581922+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8628991+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8650092+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7830dfb4-1700-4730-b410-a0f6bb7284f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8662324+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":11.6666,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8673487+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:01.8681858+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":16.2798,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2798"}]}}
{"Timestamp":"2024-11-11T11:55:01.8696247+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"06104a8985b8c261ef2830eb49c62dec","SpanId":"23001fe1740a8a92","Properties":{"ElapsedMilliseconds":20.5037,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMB:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN821JFK6CMB"}}
{"Timestamp":"2024-11-11T11:55:05.2899641+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3022964+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3033449+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3111895+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3174657+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3207929+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3223481+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.9312,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3241725+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3254771+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.264,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2640"}]}}
{"Timestamp":"2024-11-11T11:55:05.3274537+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c44e3fcf2e9073f84c960833cd76b3de","SpanId":"411ba003c8d75f6e","Properties":{"ElapsedMilliseconds":37.4948,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMC"}}
{"Timestamp":"2024-11-11T11:55:05.3301497+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3356475+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3369823+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3430292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3457151+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3470891+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.7815,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3484599+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.3497317+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.3993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.3993"}]}}
{"Timestamp":"2024-11-11T11:55:05.3514517+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"493d2e1bbf8e19fa2614b0286e436cdd","SpanId":"1ed5f5590d98a880","Properties":{"ElapsedMilliseconds":21.3335,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMD"}}
{"Timestamp":"2024-11-11T11:55:05.4720133+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.4759715+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.4761282+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.4782460+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.4853038+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.4893487+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.5222804+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"elapsed":"33","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.5328650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"elapsed":"38","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.5580358+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"elapsed":"29","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.5586574+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"elapsed":"14","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.5606303+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.5655737+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.5669930+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":78.9164,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.5682129+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":75.0749,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.5692442+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.5703240+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.5717645+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":96.0308,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"96.0308"}]}}
{"Timestamp":"2024-11-11T11:55:05.5732481+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":88.0051,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"88.0051"}]}}
{"Timestamp":"2024-11-11T11:55:05.5754863+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"93f409a7ac3a5687f1504936883fdeb4","SpanId":"a94eca59d723bccc","Properties":{"ElapsedMilliseconds":103.5557,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CME"}}
{"Timestamp":"2024-11-11T11:55:05.5780753+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18bae55c6a7a95cf1d831652fc43eb7f","SpanId":"49b04256c8c5fad0","Properties":{"ElapsedMilliseconds":102.0056,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMF"}}
{"Timestamp":"2024-11-11T11:55:05.6042466+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6047317+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6087105+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6130282+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6144891+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6161002+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6357024+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"elapsed":"16","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6400891+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6416945+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":23.3983,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6428182+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"elapsed":"19","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6431318+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6467593+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6478099+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":40.1112,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.1112"}]}}
{"Timestamp":"2024-11-11T11:55:05.6493809+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":27.6451,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6512553+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"536fe89179fa057ca2a76006fd458295","SpanId":"b2c3a0922afc3258","Properties":{"ElapsedMilliseconds":47.0184,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMG"}}
{"Timestamp":"2024-11-11T11:55:05.6533499+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:05.6590496+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":46.6054,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.6054"}]}}
{"Timestamp":"2024-11-11T11:55:05.6608331+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b8d66156f69f244b55952899c66140cc","SpanId":"224486443c330fab","Properties":{"ElapsedMilliseconds":56.1733,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMH"}}
{"Timestamp":"2024-11-11T11:55:07.5687755+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.5742609+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.5754963+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.5853388+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.5935358+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.6002426+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.6023176+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.7312,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.6044193+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.6073268+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.2044,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.2044"}]}}
{"Timestamp":"2024-11-11T11:55:07.6106612+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"193698e35617d37398d595c62acb71b2","SpanId":"1bfa859c397f73da","Properties":{"ElapsedMilliseconds":41.9017,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMI"}}
{"Timestamp":"2024-11-11T11:55:07.6243176+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-26&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.6301576+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.6318366+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.7111857+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"elapsed":"76","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.7142297+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.7157633+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":81.6268,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.7172310+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.7185605+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":88.8517,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"88.8517"}]}}
{"Timestamp":"2024-11-11T11:55:07.7204747+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74521cd738889e4f9071fae30ae8e99b","SpanId":"356c155956f26b6d","Properties":{"ElapsedMilliseconds":96.4076,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-26&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMJ"}}
{"Timestamp":"2024-11-11T11:55:07.7632629+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.7726971+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.7839662+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8107916+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8096547+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8168990+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8232410+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8300808+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8330736+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8334513+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8374247+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.9876,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8429031+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8450385+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":61.2829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.2829"}]}}
{"Timestamp":"2024-11-11T11:55:07.8451507+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8469751+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"64fb06c3cecfd1947304c4fbd735e23a","SpanId":"7abb94c86da750fa","Properties":{"ElapsedMilliseconds":83.7157,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMK"}}
{"Timestamp":"2024-11-11T11:55:07.8503210+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8537297+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-26&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.8572067+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.8339,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8602841+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.8614318+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8629982+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.8645704+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":54.9993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"54.9993"}]}}
{"Timestamp":"2024-11-11T11:55:07.8691505+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e67995c840840bacbb30bd434b7fd4ff","SpanId":"7af1669395df4fa1","Properties":{"ElapsedMilliseconds":96.5144,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CML"}}
{"Timestamp":"2024-11-11T11:55:07.8756282+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-26&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.8772234+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.9154252+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.9174153+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.9188706+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.9207989+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":53.8747,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.9244702+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.9261079+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":66.102,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.1020"}]}}
{"Timestamp":"2024-11-11T11:55:07.9324677+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"138f2fb0d522bc137feb3013d67f60aa","SpanId":"675bcf34ec7f3aa7","Properties":{"ElapsedMilliseconds":78.8974,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-26&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMM"}}
{"Timestamp":"2024-11-11T11:55:07.9334722+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.9459275+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.9476393+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":24.6926,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.9498682+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:07.9516751+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.6269,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.6269"}]}}
{"Timestamp":"2024-11-11T11:55:07.9535263+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"831c93a1e160b52c5cad23309e453cf8","SpanId":"ae85dae5f2e5e578","Properties":{"ElapsedMilliseconds":77.9077,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-26&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMN"}}
{"Timestamp":"2024-11-11T11:55:09.5521941+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5551114+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5561030+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5641268+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5708636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5744014+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5761269+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5775518+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5790142+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.9526,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.9526"}]}}
{"Timestamp":"2024-11-11T11:55:09.5810115+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa73c1e619eece8ab404f6eff99ff05f","SpanId":"7f68fd76f4c750f5","Properties":{"ElapsedMilliseconds":28.9191,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMO"}}
{"Timestamp":"2024-11-11T11:55:09.5836574+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.5888135+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.5903231+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.6544371+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"elapsed":"60","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.6570513+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.6583242+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":65.7038,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.6596664+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.6613226+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":72.7772,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"72.7772"}]}}
{"Timestamp":"2024-11-11T11:55:09.6635417+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b32f64ca1d7b914ed513bb02ffdba5e0","SpanId":"299da063dfef845b","Properties":{"ElapsedMilliseconds":79.9135,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMP"}}
{"Timestamp":"2024-11-11T11:55:09.7546026+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.7581094+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.7594951+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.7630281+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.7698178+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.7708236+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.7758743+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.7764475+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.8020157+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.8064184+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.8073528+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.8100113+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.8115180+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":46.0855,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.8130613+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.9788,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.8145684+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.8159960+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.8171074+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":59.0615,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"59.0615"}]}}
{"Timestamp":"2024-11-11T11:55:09.8182468+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":48.4971,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"48.4971"}]}}
{"Timestamp":"2024-11-11T11:55:09.8202607+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a915d0c15920587442c40ab26a65a09b","SpanId":"d985ce88f2d25002","Properties":{"ElapsedMilliseconds":65.6775,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMQ"}}
{"Timestamp":"2024-11-11T11:55:09.8220414+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fec670a40f9a90b9f32d11300a626c8c","SpanId":"61259f18fde6c1b5","Properties":{"ElapsedMilliseconds":59.0417,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMR"}}
{"Timestamp":"2024-11-11T11:55:09.8337753+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.8385720+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8434018+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.8454885+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8504643+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.8518089+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8742455+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8783401+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8803684+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":23.4185,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8825480+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8841365+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":38.987,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.9870"}]}}
{"Timestamp":"2024-11-11T11:55:09.8859944+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fff4770cd55bcc4abfb59d8fabe3af16","SpanId":"07a2c85033e40b2b","Properties":{"ElapsedMilliseconds":47.435,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CMT"}}
{"Timestamp":"2024-11-11T11:55:09.8895688+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"elapsed":"34","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.8968946+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.8985634+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":44.1459,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.9002714+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:09.9018478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":59.4102,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"59.4102"}]}}
{"Timestamp":"2024-11-11T11:55:09.9038557+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6f34c8ed9cbc6149b5ac08779afe6f45","SpanId":"1de7516257093a8d","Properties":{"ElapsedMilliseconds":70.0847,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMS"}}
{"Timestamp":"2024-11-11T11:55:12.2241896+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2264239+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2272341+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2330141+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2385154+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2413341+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2425879+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.3864,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2437828+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2451571+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.7806,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7806"}]}}
{"Timestamp":"2024-11-11T11:55:12.2467565+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bebe7a6e9ba69424bde09ffadbf1cc3e","SpanId":"b9a68d91a9dfe055","Properties":{"ElapsedMilliseconds":22.5863,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CMU"}}
{"Timestamp":"2024-11-11T11:55:12.2492766+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2534253+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2547892+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2801598+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"elapsed":"22","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2827428+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2843111+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":26.9339,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2856635+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.2870484+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":33.8784,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.8784"}]}}
{"Timestamp":"2024-11-11T11:55:12.2889434+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a5b9d1b4f78bb291ffd7e2fa00ae3de","SpanId":"df79425419c1780c","Properties":{"ElapsedMilliseconds":39.6857,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CMV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CMV"}}
{"Timestamp":"2024-11-11T11:55:12.4168522+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4206814+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4213162+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4228106+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4269665+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4318046+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4329180+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4358322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4596239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"elapsed":"18","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4645107+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4650385+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4678897+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4691979+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.6231,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4705922+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":36.6272,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4719096+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4733463+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4772881+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.3817,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.3817"}]}}
{"Timestamp":"2024-11-11T11:55:12.4762531+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":55.8324,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.8324"}]}}
{"Timestamp":"2024-11-11T11:55:12.4810339+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23daf83a8933d87271f3c82000b40b8e","SpanId":"9ca763fb4fd711e6","Properties":{"ElapsedMilliseconds":59.7856,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN1"}}
{"Timestamp":"2024-11-11T11:55:12.4828628+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5af85cbe165a34d44f8249cc0f65da7","SpanId":"00645f48eb5d7625","Properties":{"ElapsedMilliseconds":66.0289,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN0"}}
{"Timestamp":"2024-11-11T11:55:12.4893172+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.4908963+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.4923683+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.4949883+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.4961657+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.4975296+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.5097398+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.5135509+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.5150796+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.9192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.5167823+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.5184691+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.0707,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0707"}]}}
{"Timestamp":"2024-11-11T11:55:12.5185129+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"elapsed":"17","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.5203801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ebb10fee9f7a89e4a885c021bbee5c6","SpanId":"f81b090cbee74659","Properties":{"ElapsedMilliseconds":29.5417,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN3"}}
{"Timestamp":"2024-11-11T11:55:12.5248385+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.5302589+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":30.3984,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.5317051+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:12.5332728+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":41.1499,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.1499"}]}}
{"Timestamp":"2024-11-11T11:55:12.5355962+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eee6617fce43ef18a675f25eff679c4d","SpanId":"fe04bb64e41eb43b","Properties":{"ElapsedMilliseconds":46.3093,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN2"}}
{"Timestamp":"2024-11-11T11:55:14.6010661+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6070793+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6081907+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6198240+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6278937+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6335622+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6354515+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.9372,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6376731+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6390726+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.0647,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.0647"}]}}
{"Timestamp":"2024-11-11T11:55:14.6417372+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b3625a11b2f7d16a4372922942df5b8","SpanId":"4463db619ac0549d","Properties":{"ElapsedMilliseconds":40.6853,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN4"}}
{"Timestamp":"2024-11-11T11:55:14.6454441+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.6560923+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.6574918+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.7289919+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"elapsed":"67","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.7327778+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.7348845+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":75.0528,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.7366247+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.7381414+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":82.3962,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"82.3962"}]}}
{"Timestamp":"2024-11-11T11:55:14.7402357+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4252e3daca49b91e57dc2a3ba5e5a256","SpanId":"d59d9d3582e6857b","Properties":{"ElapsedMilliseconds":94.8205,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN5"}}
{"Timestamp":"2024-11-11T11:55:14.7758880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.7791682+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.7806382+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.7839255+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.7887373+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.7914798+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.7922214+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.7981691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.8207845+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"elapsed":"19","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.8222411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.8243185+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.8261967+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.8271366+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":43.6008,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.8285884+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.3028,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.8295781+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.8306324+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.8314833+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":52.4267,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.4267"}]}}
{"Timestamp":"2024-11-11T11:55:14.8323147+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.6574,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.6574"}]}}
{"Timestamp":"2024-11-11T11:55:14.8360333+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8337008+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d45e4f5b7caf2b58aa09fa35c2ee8f2","SpanId":"8a3315a0e4f6e719","Properties":{"ElapsedMilliseconds":57.8112,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN6"}}
{"Timestamp":"2024-11-11T11:55:14.8362091+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"85c48f226cca4bc706dd12fbb6f41e4b","SpanId":"36590b1faaa8d5de","Properties":{"ElapsedMilliseconds":52.3639,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CN7"}}
{"Timestamp":"2024-11-11T11:55:14.8392858+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8393354+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8460149+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8488204+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8541212+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8582194+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8609937+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8636905+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.9512,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8652626+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8665574+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.6392,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.6392"}]}}
{"Timestamp":"2024-11-11T11:55:14.8666549+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8682999+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8bbe0a165254de168341d086e928ef6a","SpanId":"08f68c197f531ce8","Properties":{"ElapsedMilliseconds":32.2931,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CN8"}}
{"Timestamp":"2024-11-11T11:55:14.8719167+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8788283+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":22.3942,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8806317+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:14.8821713+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":33.6464,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.6464"}]}}
{"Timestamp":"2024-11-11T11:55:14.8840494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a4760ed27d2455fd3aec296e3fe24be","SpanId":"eb3114942aec59c2","Properties":{"ElapsedMilliseconds":44.7358,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CN9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CN9"}}
{"Timestamp":"2024-11-11T11:55:16.6647036+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.6675217+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.6685998+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.6824966+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.6931122+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.7032550+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.7058628+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.1816,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.7099432+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.7149383+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":47.4821,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"47.4821"}]}}
{"Timestamp":"2024-11-11T11:55:16.7232297+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2078341df4cf85fbf0807231346216e8","SpanId":"b3bcb9657e4d1cc9","Properties":{"ElapsedMilliseconds":58.5387,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNA"}}
{"Timestamp":"2024-11-11T11:55:16.7259355+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7324193+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7337620+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7664636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"elapsed":"29","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7690843+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7704352+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":34.4875,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7716009+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.7726005+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":40.6494,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.6494"}]}}
{"Timestamp":"2024-11-11T11:55:16.7739613+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd313f64a96b1b5c978206b999fe2cbb","SpanId":"4472967866ff330e","Properties":{"ElapsedMilliseconds":48.1572,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNB"}}
{"Timestamp":"2024-11-11T11:55:16.8407487+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.8437975+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.8460063+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.8483251+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.8555878+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.8571856+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.8988204+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"elapsed":"38","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.9130252+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"elapsed":"61","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.9754444+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"elapsed":"39","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.9756987+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"elapsed":"20","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.9816795+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.9881141+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":128.6228,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.9865803+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.9897493+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:16.9923121+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":141.7299,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.9934350+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":138.008,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"138.0080"}]}}
{"Timestamp":"2024-11-11T11:55:16.9947513+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:16.9980110+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":154.2818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"154.2818"}]}}
{"Timestamp":"2024-11-11T11:55:16.9967785+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69e330db0370cfce3607161f536931e6","SpanId":"2e72a59ae98edf6d","Properties":{"ElapsedMilliseconds":148.5053,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CND"}}
{"Timestamp":"2024-11-11T11:55:17.0043038+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0006091+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b07bbdee5921ea632b53b94211ac638","SpanId":"7ec15ad2932e1432","Properties":{"ElapsedMilliseconds":159.861,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNC"}}
{"Timestamp":"2024-11-11T11:55:17.0062909+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0092802+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0159696+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0186622+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0202067+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0304071+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0341022+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0347643+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0381209+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0402169+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":17.3657,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0416950+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":16.4021,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0430141+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0446510+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:17.0461531+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":37.1766,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.1766"}]}}
{"Timestamp":"2024-11-11T11:55:17.0475927+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":32.2879,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.2879"}]}}
{"Timestamp":"2024-11-11T11:55:17.0493280+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44abed72ffee3bdf952f2102f416889b","SpanId":"61e56b3dda42711c","Properties":{"ElapsedMilliseconds":45.1299,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNE"}}
{"Timestamp":"2024-11-11T11:55:17.0515159+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f52dcdcf09e3c89b8aad153b3e311293","SpanId":"9d83a3c60c610777","Properties":{"ElapsedMilliseconds":45.2933,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNF"}}
{"Timestamp":"2024-11-11T11:55:19.7199503+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7224327+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7233195+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7292503+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7341045+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7365419+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7376239+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.6893,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7386576+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7395303+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.16,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1600"}]}}
{"Timestamp":"2024-11-11T11:55:19.7410093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"29804e1fab380d7deba2fbb25f1b6df2","SpanId":"1f9bb42075d17518","Properties":{"ElapsedMilliseconds":21.0742,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNG"}}
{"Timestamp":"2024-11-11T11:55:19.7434408+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7471682+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7481898+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7531568+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7556914+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7574588+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.5629,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7587854+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.7600901+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.2551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.2551"}]}}
{"Timestamp":"2024-11-11T11:55:19.7616416+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d1fd8ff3b1a6784171fb774efc1a92e","SpanId":"77186c8d3eb34455","Properties":{"ElapsedMilliseconds":18.2208,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNH"}}
{"Timestamp":"2024-11-11T11:55:19.8989426+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9066577+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9206275+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9402985+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9408524+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9418691+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9469326+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9480761+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9518951+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9567946+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9578976+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9603234+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9616074+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.644,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9629415+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.4454,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9643097+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9656359+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9667373+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":46.197,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.1970"}]}}
{"Timestamp":"2024-11-11T11:55:19.9677525+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.8768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.8768"}]}}
{"Timestamp":"2024-11-11T11:55:19.9694612+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"256d87d34b2d989cb72f318983151da0","SpanId":"94fcfcc6ae184322","Properties":{"ElapsedMilliseconds":70.5441,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNI"}}
{"Timestamp":"2024-11-11T11:55:19.9721579+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:19.9716320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c9319c76318d380b0f522fe1212e113","SpanId":"f8495bb2fb4d72cb","Properties":{"ElapsedMilliseconds":64.9923,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNJ"}}
{"Timestamp":"2024-11-11T11:55:19.9745009+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:19.9778445+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:19.9842057+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:19.9855748+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:19.9880306+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:19.9935858+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:19.9966859+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:19.9982696+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.4559,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:19.9999214+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:20.0017546+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.1313,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1313"}]}}
{"Timestamp":"2024-11-11T11:55:20.0035858+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f03021b47998e5eea610c456fb768a54","SpanId":"361f4570e7d6d4f9","Properties":{"ElapsedMilliseconds":31.4362,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNK"}}
{"Timestamp":"2024-11-11T11:55:20.0224165+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"elapsed":"27","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:20.0261373+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:20.0280020+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":34.5074,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:20.0310508+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:20.0326395+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":48.7624,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"48.7624"}]}}
{"Timestamp":"2024-11-11T11:55:20.0345121+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f1db52b7e1f88d6afe85039332faa75","SpanId":"8ece3794cbd5503f","Properties":{"ElapsedMilliseconds":60.0091,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNL"}}
{"Timestamp":"2024-11-11T11:55:21.6885784+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.6913864+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.6923738+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.6986197+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.7033049+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.7053788+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.7065816+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.4351,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.7076582+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.7085668+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.2717,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.2717"}]}}
{"Timestamp":"2024-11-11T11:55:21.7100416+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5926ed3e827874c63a2176b338436209","SpanId":"fc26ff02d307fa20","Properties":{"ElapsedMilliseconds":21.5027,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNM"}}
{"Timestamp":"2024-11-11T11:55:21.7123624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7160854+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7170387+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7215641+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7238275+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7249797+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.3412,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7261507+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.7271256+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.191,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.1910"}]}}
{"Timestamp":"2024-11-11T11:55:21.7285796+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37f861faacfda2ac4fb20623d54ce55e","SpanId":"42d30fc4bd17a47b","Properties":{"ElapsedMilliseconds":16.302,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNN"}}
{"Timestamp":"2024-11-11T11:55:21.8832275+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.8871520+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.8883467+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.8943513+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9029584+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.9279611+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9336750+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9350496+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.9389534+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.9402798+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":47.2118,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.9416013+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.9428077+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":55.7216,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.7216"}]}}
{"Timestamp":"2024-11-11T11:55:21.9449995+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a3c4bd3753189ac20ea8f4ac431e50f7","SpanId":"f16e43c9a9a62fb1","Properties":{"ElapsedMilliseconds":61.7809,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNO"}}
{"Timestamp":"2024-11-11T11:55:21.9540868+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"elapsed":"17","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9580746+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:21.9620886+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9679415+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:21.9706691+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9719066+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:21.9737485+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.5807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9776546+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9792927+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":51.6392,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.6392"}]}}
{"Timestamp":"2024-11-11T11:55:21.9815314+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3d1e71ecb201fa3043ed5210f807e25","SpanId":"b0fa633e5bf291dc","Properties":{"ElapsedMilliseconds":87.1925,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNP"}}
{"Timestamp":"2024-11-11T11:55:21.9857398+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:21.9866965+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:21.9892963+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:21.9923336+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:21.9935259+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:21.9954442+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":19.3759,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:22.0001464+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:22.0016199+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":33.9012,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.9012"}]}}
{"Timestamp":"2024-11-11T11:55:22.0035242+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"03989e38fbd22d734711e27a3849b5b6","SpanId":"3b8eb9ffbf79aad2","Properties":{"ElapsedMilliseconds":45.4524,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNQ"}}
{"Timestamp":"2024-11-11T11:55:22.0101433+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:22.0137799+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e203960-722b-445b-a3be-ce3bdaa3682b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:22.0149474+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":16.3881,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:22.0163130+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:22.0173104+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.3457,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.3457"}]}}
{"Timestamp":"2024-11-11T11:55:22.0187332+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6b94130fc55ca7570ecbcc6e201c4526","SpanId":"a96aeb67922aa08f","Properties":{"ElapsedMilliseconds":33.0015,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN821JFK6CNR"}}
{"Timestamp":"2024-11-11T11:55:24.0809430+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.0843800+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.0854425+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.0960285+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.1024529+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.1052676+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.1064264+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.2285,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.1076952+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.1089282+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.6059,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6059"}]}}
{"Timestamp":"2024-11-11T11:55:24.1106264+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5012dc08ab2e9292fcbc67deb079d4f","SpanId":"daaed1eb29e03ce9","Properties":{"ElapsedMilliseconds":29.7134,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNS"}}
{"Timestamp":"2024-11-11T11:55:24.1138085+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1178597+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1190467+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1236581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1258243+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"074a1300-1c6a-47ed-96b2-2fb610f3345a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1269215+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.1705,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1282919+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.1292899+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.6821,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.6821"}]}}
{"Timestamp":"2024-11-11T11:55:24.1306650+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fc918cdfbffb340dee49e3e88884cbb6","SpanId":"78ce7fe78c94ca8f","Properties":{"ElapsedMilliseconds":16.9305,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNT:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN821JFK6CNT"}}
{"Timestamp":"2024-11-11T11:55:24.2744765+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.2790587+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.2832289+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.2834772+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.2908297+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.2919009+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3275651+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"elapsed":"32","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3297880+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"elapsed":"41","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.3363942+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3389683+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.3421406+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3437059+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbacebd4-acb0-4ac9-9d80-cedf6c57cc72","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.3454570+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":51.2545,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3471014+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":58.9628,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.3492031+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3503632+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:24.3514671+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":60.6845,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.6845"}]}}
{"Timestamp":"2024-11-11T11:55:24.3525421+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":73.5501,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"73.5501"}]}}
{"Timestamp":"2024-11-11T11:55:24.3542665+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e63f4267b168ad1b7b9c2aba76c655d","SpanId":"ddc7ad70a2881a81","Properties":{"ElapsedMilliseconds":70.7801,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNV"}}
{"Timestamp":"2024-11-11T11:55:24.3567819+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"95202f3b1b36a11c4f70b4e6ea072121","SpanId":"7959393d23848088","Properties":{"ElapsedMilliseconds":82.3137,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821JFK6CNU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN821JFK6CNU"}}
{"Timestamp":"2024-11-11T11:55:47.8970859+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T11:55:48.2329674+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:55:48.3369234+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:55:48.3438048+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:55:48.3450122+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T11:55:49.0462246+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48c25d1cfde9ce7d6ea6c47a55857352","SpanId":"d6058ea7892b447e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIO:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821KE1OIIO"}}
{"Timestamp":"2024-11-11T11:55:49.4894171+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"48c25d1cfde9ce7d6ea6c47a55857352","SpanId":"d6058ea7892b447e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":212.886,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"212.8860"}]}}
{"Timestamp":"2024-11-11T11:55:49.5137625+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6294d0ddf31ddaf36f9c2d90a6e6d2a","SpanId":"afce8e7458fb09b6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIN:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821KE1OIIN"}}
{"Timestamp":"2024-11-11T11:55:49.5305423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"df25d8be80d91bbf1cd0cd5fa28911b8","SpanId":"d9e1c00613c15748","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIP:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821KE1OIIP"}}
{"Timestamp":"2024-11-11T11:55:49.5456884+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6294d0ddf31ddaf36f9c2d90a6e6d2a","SpanId":"afce8e7458fb09b6","Properties":{"ElapsedMilliseconds":30.3011,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIN:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN821KE1OIIN"}}
{"Timestamp":"2024-11-11T11:55:49.5569943+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48c25d1cfde9ce7d6ea6c47a55857352","SpanId":"d6058ea7892b447e","Properties":{"ElapsedMilliseconds":520.9785,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIO:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN821KE1OIIO"}}
{"Timestamp":"2024-11-11T11:55:49.6371756+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"df25d8be80d91bbf1cd0cd5fa28911b8","SpanId":"d9e1c00613c15748","Properties":{"ElapsedMilliseconds":106.6331,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIP:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN821KE1OIIP"}}
{"Timestamp":"2024-11-11T11:55:49.6958250+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4bbfc4eda6f4818df3eccb9e4b34f1c6","SpanId":"802923abda779336","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIP:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821KE1OIIP"}}
{"Timestamp":"2024-11-11T11:55:49.9243585+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4bbfc4eda6f4818df3eccb9e4b34f1c6","SpanId":"802923abda779336","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":221.1842,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"221.1842"}]}}
{"Timestamp":"2024-11-11T11:55:49.9726413+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4bbfc4eda6f4818df3eccb9e4b34f1c6","SpanId":"802923abda779336","Properties":{"ElapsedMilliseconds":278.1948,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN821KE1OIIP:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN821KE1OIIP"}}
{"Timestamp":"2024-11-11T13:39:18.7848662+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T13:39:19.1381718+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:19.1980890+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:19.1994863+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:19.2005285+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:35.9557901+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T13:39:36.4056359+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:36.5461323+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:36.5535169+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:36.5544717+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:39:36.6823855+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bb906655fd6f27b408c6e5c607d8fd29","SpanId":"17fa2140965b6a12","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9E:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN823EE34U9E"}}
{"Timestamp":"2024-11-11T13:39:39.3457447+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a8724deaef1aaefcce1ba12c36df4d8c","SpanId":"de198278522b494e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.3613000+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bb906655fd6f27b408c6e5c607d8fd29","SpanId":"17fa2140965b6a12","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":2273.9104,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2273.9104"}]}}
{"Timestamp":"2024-11-11T13:39:39.3634889+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a8724deaef1aaefcce1ba12c36df4d8c","SpanId":"de198278522b494e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":3.2386,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.2386"}]}}
{"Timestamp":"2024-11-11T13:39:39.3771185+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a8724deaef1aaefcce1ba12c36df4d8c","SpanId":"de198278522b494e","Properties":{"ElapsedMilliseconds":31.5449,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.3778591+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bb906655fd6f27b408c6e5c607d8fd29","SpanId":"17fa2140965b6a12","Properties":{"ElapsedMilliseconds":2720.2816,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9E:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN823EE34U9E"}}
{"Timestamp":"2024-11-11T13:39:39.4037773+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a91bec2dc0f24c11cad6bef2c8ece5c","SpanId":"9ba844ac3ae87b1c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.4203860+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aafa29bea5fec3d68a099d65f0c9e131","SpanId":"375e57bd86feccbd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9E:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN823EE34U9E"}}
{"Timestamp":"2024-11-11T13:39:39.4379694+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a91bec2dc0f24c11cad6bef2c8ece5c","SpanId":"9ba844ac3ae87b1c","Properties":{"ElapsedMilliseconds":34.3207,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.6114604+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aafa29bea5fec3d68a099d65f0c9e131","SpanId":"375e57bd86feccbd","Properties":{"ElapsedMilliseconds":191.1566,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9E:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN823EE34U9E"}}
{"Timestamp":"2024-11-11T13:39:39.6743076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd0d766e1a1eb4ab3a073b46374ee71d","SpanId":"f707563ade33dbb3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9E:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN823EE34U9E"}}
{"Timestamp":"2024-11-11T13:39:39.8095136+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4613737b9ed8f167482e2ae19c9b236e","SpanId":"f5d3bba66124d5f9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.8123830+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4613737b9ed8f167482e2ae19c9b236e","SpanId":"f5d3bba66124d5f9","Properties":{"ElapsedMilliseconds":2.9373,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.8897090+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e3730c7e0a82591ad759674d2e36b3f5","SpanId":"6a78c9de8467fc7f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000004","RequestPath":"/_vs/browserLink","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:39.8900018+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd0d766e1a1eb4ab3a073b46374ee71d","SpanId":"f707563ade33dbb3","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":212.803,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"212.8030"}]}}
{"Timestamp":"2024-11-11T13:39:39.9003317+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd0d766e1a1eb4ab3a073b46374ee71d","SpanId":"f707563ade33dbb3","Properties":{"ElapsedMilliseconds":226.1116,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9E:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN823EE34U9E"}}
{"Timestamp":"2024-11-11T13:39:39.9383968+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e3730c7e0a82591ad759674d2e36b3f5","SpanId":"6a78c9de8467fc7f","Properties":{"ElapsedMilliseconds":48.7253,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000004","RequestPath":"/_vs/browserLink","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:40.4313124+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71281e62bd75f7894d17291d41419bb1","SpanId":"011056a81357d93e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000005","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:40.4456850+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"71281e62bd75f7894d17291d41419bb1","SpanId":"011056a81357d93e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":11.5203,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.5203"}]}}
{"Timestamp":"2024-11-11T13:39:40.4500143+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71281e62bd75f7894d17291d41419bb1","SpanId":"011056a81357d93e","Properties":{"ElapsedMilliseconds":18.5574,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9D:00000005","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN823EE34U9D"}}
{"Timestamp":"2024-11-11T13:39:54.3035999+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:54.3108343+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:54.3817863+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:54.4101873+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"845e9c9e-662f-4fe8-8b1b-614bc2c24a5d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:56.1059831+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"elapsed":"54","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"845e9c9e-662f-4fe8-8b1b-614bc2c24a5d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:56.5366440+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"elapsed":"30","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"845e9c9e-662f-4fe8-8b1b-614bc2c24a5d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:56.5586003+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"845e9c9e-662f-4fe8-8b1b-614bc2c24a5d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:56.5690287+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2153.5946,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:56.5711296+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:39:56.5746188+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2266.8315,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2266.8315"}]}}
{"Timestamp":"2024-11-11T13:39:56.5905465+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1ba420f95745a9a3065b20690bae13b6","SpanId":"b93d1a22585c2312","Properties":{"ElapsedMilliseconds":2287.0284,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9H:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823EE34U9H"}}
{"Timestamp":"2024-11-11T13:40:10.6182887+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":478,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.6247383+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.6342627+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f47bddd-88bd-41a3-8243-68a3580b06fc","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.7570140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"elapsed":"34","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f47bddd-88bd-41a3-8243-68a3580b06fc","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.8187592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f47bddd-88bd-41a3-8243-68a3580b06fc","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.8307712+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f47bddd-88bd-41a3-8243-68a3580b06fc","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.8327915+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":196.5926,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.8340535+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:40:10.8349970+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":211.6971,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"211.6971"}]}}
{"Timestamp":"2024-11-11T13:40:10.8367429+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"472d95f346ef79e184e21545eca7a1bc","SpanId":"7e7b160439565075","Properties":{"ElapsedMilliseconds":218.487,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823EE34U9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823EE34U9I"}}
{"Timestamp":"2024-11-11T13:41:14.4319212+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T13:41:14.6768098+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:41:14.7240622+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:41:14.7252813+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:41:14.7261510+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T13:41:15.7500764+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ddaf33251405dbe1032dd2230989cf6a","SpanId":"3566210f52163232","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN823FBG93JE"}}
{"Timestamp":"2024-11-11T13:41:16.0701931+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ddaf33251405dbe1032dd2230989cf6a","SpanId":"3566210f52163232","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":97.7042,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"97.7042"}]}}
{"Timestamp":"2024-11-11T13:41:16.0788269+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af829ca816940fe601defbab5cb80705","SpanId":"e2f6578163960eed","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN823FBG93JD"}}
{"Timestamp":"2024-11-11T13:41:16.1079999+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98ffa5bb1aa9b2186c12d9096b401673","SpanId":"112fe5846afedf57","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN823FBG93JF"}}
{"Timestamp":"2024-11-11T13:41:16.1268426+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af829ca816940fe601defbab5cb80705","SpanId":"e2f6578163960eed","Properties":{"ElapsedMilliseconds":47.2738,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN823FBG93JD"}}
{"Timestamp":"2024-11-11T13:41:16.1320553+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ddaf33251405dbe1032dd2230989cf6a","SpanId":"3566210f52163232","Properties":{"ElapsedMilliseconds":392.0639,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN823FBG93JE"}}
{"Timestamp":"2024-11-11T13:41:16.1783470+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98ffa5bb1aa9b2186c12d9096b401673","SpanId":"112fe5846afedf57","Properties":{"ElapsedMilliseconds":70.4479,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN823FBG93JF"}}
{"Timestamp":"2024-11-11T13:41:16.2375320+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"998e58c5fa19d5387f87efa285ccd822","SpanId":"9eecdf0efc69466b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN823FBG93JF"}}
{"Timestamp":"2024-11-11T13:41:16.4727269+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"998e58c5fa19d5387f87efa285ccd822","SpanId":"9eecdf0efc69466b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":231.0937,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"231.0937"}]}}
{"Timestamp":"2024-11-11T13:41:16.4753977+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"998e58c5fa19d5387f87efa285ccd822","SpanId":"9eecdf0efc69466b","Properties":{"ElapsedMilliseconds":238.3191,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN823FBG93JF"}}
{"Timestamp":"2024-11-11T13:41:39.1327248+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:39.1426519+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:39.2395322+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:39.2653755+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:40.8807078+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"elapsed":"54","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:41.2029241+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"elapsed":"19","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:41.2235822+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:41.2312127+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1960.2694,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:41.2333385+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:41.2366929+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2096.2882,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2096.2882"}]}}
{"Timestamp":"2024-11-11T13:41:41.2484587+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"14db4d41d7a4713deb09c6a4950d7e46","SpanId":"e99f8626bfe98417","Properties":{"ElapsedMilliseconds":2115.8429,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93JG"}}
{"Timestamp":"2024-11-11T13:41:45.2463300+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.2558144+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.2651428+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.4128806+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.4293898+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.4383433+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.4398298+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.5533928+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"elapsed":"20","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.5715236+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.5857809+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":318.1198,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.5873585+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.5888737+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":334.7474,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"334.7474"}]}}
{"Timestamp":"2024-11-11T13:41:45.5920037+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c60fa0762d9b71eaf6b3ff19c03141f5","SpanId":"7abdfa09ae008f57","Properties":{"ElapsedMilliseconds":345.7314,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JH"}}
{"Timestamp":"2024-11-11T13:41:45.6401769+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"elapsed":"44","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.6570528+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.6641055+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.6693727+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.6732182+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":231.2084,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.6749850+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.6767696+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":241.2607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"241.2607"}]}}
{"Timestamp":"2024-11-11T13:41:45.6792156+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2bcda774d6fb842c0e8d2754ca250430","SpanId":"3f7b00fb49cfd840","Properties":{"ElapsedMilliseconds":249.8485,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JI"}}
{"Timestamp":"2024-11-11T13:41:45.6928029+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.7113522+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.7113522+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.7157699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.7157699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.7757742+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.7841270+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.7916930+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"elapsed":"35","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.7954217+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.8010672+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":83.344,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.8010672+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":81.3616,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.8035570+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.8053173+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:45.8067650+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":108.2851,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"108.2851"}]}}
{"Timestamp":"2024-11-11T13:41:45.8080090+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":142.1633,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"142.1633"}]}}
{"Timestamp":"2024-11-11T13:41:45.8099845+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9acdc885118e0312824a61e108fc9e5","SpanId":"9e7b2405107e8146","Properties":{"ElapsedMilliseconds":117.2228,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JK"}}
{"Timestamp":"2024-11-11T13:41:45.8117155+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b168dcc79233e7aaeb98906ae1bd336d","SpanId":"3b71b744e66c6746","Properties":{"ElapsedMilliseconds":154.9426,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JJ"}}
{"Timestamp":"2024-11-11T13:41:49.6746644+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.6779127+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.6789394+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.6897741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.6976416+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.7006562+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.7020375+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.3223,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.7033648+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.7044388+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.644,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.6440"}]}}
{"Timestamp":"2024-11-11T13:41:49.7063337+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81a55c6b925bb78a748b5ce7e921cf64","SpanId":"348e907024601e66","Properties":{"ElapsedMilliseconds":31.7952,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JL"}}
{"Timestamp":"2024-11-11T13:41:49.7089711+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7147601+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7161648+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7322347+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7353293+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7370820+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":18.4398,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7386690+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.7399960+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":25.9814,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.9814"}]}}
{"Timestamp":"2024-11-11T13:41:49.7422117+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"06463fec4b8d8535bd23f33123a392ca","SpanId":"926633238254deec","Properties":{"ElapsedMilliseconds":33.2347,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JM"}}
{"Timestamp":"2024-11-11T13:41:49.8517338+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.8560705+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.8587420+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.8624853+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.8648979+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.8659172+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9033564+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.9045016+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9084062+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.9108048+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9118926+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.9147454+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9160810+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":47.7671,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.9171139+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":45.1159,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9181773+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.9191811+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9200327+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":61.5448,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.5448"}]}}
{"Timestamp":"2024-11-11T13:41:49.9208384+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":58.5265,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"58.5265"}]}}
{"Timestamp":"2024-11-11T13:41:49.9223388+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3fa9eaa4bf8621efc870c9dc551b7ada","SpanId":"4709dfad63537b3b","Properties":{"ElapsedMilliseconds":70.8318,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JN"}}
{"Timestamp":"2024-11-11T13:41:49.9245697+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9243987+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"34c20d0603a442e0c49f6d570f22e7b4","SpanId":"ce1096769fbf1d43","Properties":{"ElapsedMilliseconds":68.3557,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JO"}}
{"Timestamp":"2024-11-11T13:41:49.9303753+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9368967+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9433848+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9449383+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9468215+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9616531+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9654976+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9660516+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9670949+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":17.137,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9697659+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9707196+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9719958+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.9898,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9730658+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":36.7715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.7715"}]}}
{"Timestamp":"2024-11-11T13:41:49.9745965+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:49.9761359+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8e5bafcfcc9780f467e610cdc12b3a37","SpanId":"5a4aaefd0ffb5c99","Properties":{"ElapsedMilliseconds":51.536,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93JP"}}
{"Timestamp":"2024-11-11T13:41:49.9782290+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":35.4433,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.4433"}]}}
{"Timestamp":"2024-11-11T13:41:49.9845474+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"234bb5c7a9e3a11f72e4d06d30dfddb5","SpanId":"04e2f3ca51fae538","Properties":{"ElapsedMilliseconds":54.1911,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JQ"}}
{"Timestamp":"2024-11-11T13:41:50.9016735+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9042958+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9054347+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9215790+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9278284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9319042+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9340096+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.3266,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9375736+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9388056+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.6768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.6768"}]}}
{"Timestamp":"2024-11-11T13:41:50.9411864+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d548cd2aac6b361fdbb88baaf499917","SpanId":"af068c3bc107af60","Properties":{"ElapsedMilliseconds":39.4852,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JR"}}
{"Timestamp":"2024-11-11T13:41:50.9442337+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9519202+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9532677+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9648784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9687480+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9703454+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.8923,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9719011+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9733305+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.8021,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.8021"}]}}
{"Timestamp":"2024-11-11T13:41:50.9752512+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"994b3d294df25c834e401593f57ad929","SpanId":"b5bb75da8b56684e","Properties":{"ElapsedMilliseconds":31.0454,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93JS"}}
{"Timestamp":"2024-11-11T13:41:50.9874667+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:50.9906317+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:50.9919285+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0066187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0150696+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0197517+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0218594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.6461,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0256603+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0275068+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.9783,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9783"}]}}
{"Timestamp":"2024-11-11T13:41:51.0346231+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87c4f4d7b7f4c1e2a3b8cb6355a71b43","SpanId":"7b94e5efa56b44e4","Properties":{"ElapsedMilliseconds":47.1601,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JT"}}
{"Timestamp":"2024-11-11T13:41:51.0392471+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.0422973+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.0461856+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.1228301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.1573251+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.1607169+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.1620199+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":113.5741,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.1634004+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.1644202+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":122.4096,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"122.4096"}]}}
{"Timestamp":"2024-11-11T13:41:51.1659080+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f42cf4a09d78b356d73355675eebac79","SpanId":"d98b691549c0c08e","Properties":{"ElapsedMilliseconds":126.6961,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JU:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93JU"}}
{"Timestamp":"2024-11-11T13:41:51.6351350+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6373791+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6381828+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6452137+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6516897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6549145+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6571717+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3433,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6594857+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6606858+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.3916,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.3916"}]}}
{"Timestamp":"2024-11-11T13:41:51.6628855+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7cf966f4dfe2d5d5a38bc64276d60fce","SpanId":"edc24d63af844584","Properties":{"ElapsedMilliseconds":27.7746,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93JV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93JV"}}
{"Timestamp":"2024-11-11T13:41:51.6668825+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6737656+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6749177+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6828086+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6862454+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6877809+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.9374,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6892366+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6904223+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.9881,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.9881"}]}}
{"Timestamp":"2024-11-11T13:41:51.6922739+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e471755cc711c79a9935c18917c198a1","SpanId":"70df6345180e5208","Properties":{"ElapsedMilliseconds":25.4211,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K0:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K0"}}
{"Timestamp":"2024-11-11T13:41:51.6972905+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7000767+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7011378+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7084869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7170430+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7240524+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7253866+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.3575,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7266160+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7277127+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.7638,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.7638"}]}}
{"Timestamp":"2024-11-11T13:41:51.7307203+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec4544a2501f5c038b272196799b418f","SpanId":"4ad426a7eca0dd2d","Properties":{"ElapsedMilliseconds":33.467,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K1"}}
{"Timestamp":"2024-11-11T13:41:51.7337708+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7380202+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7390580+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7474254+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7531301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7558930+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7572383+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":16.0035,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7586379+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:41:51.7597337+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.058,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.0580"}]}}
{"Timestamp":"2024-11-11T13:41:51.7615912+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e4961669b69ddeb86c89ab67b5a0414","SpanId":"cdfd7f6a8a717058","Properties":{"ElapsedMilliseconds":27.851,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93K2"}}
{"Timestamp":"2024-11-11T13:42:03.2992652+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3026450+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3039558+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3142605+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3199929+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3228964+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3242725+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.0618,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3256562+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3267512+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.3477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3477"}]}}
{"Timestamp":"2024-11-11T13:42:03.3287354+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe363e8ea003cfdcb8dca54cf9892559","SpanId":"e2d547e46546aca9","Properties":{"ElapsedMilliseconds":29.5781,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K3"}}
{"Timestamp":"2024-11-11T13:42:03.3505445+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":95,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/3240","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.3656208+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.3694475+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7928f62a-a616-40c3-8480-e5ebfeec5e76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.3937129+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"elapsed":"2","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7928f62a-a616-40c3-8480-e5ebfeec5e76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.4157120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"elapsed":"9","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7928f62a-a616-40c3-8480-e5ebfeec5e76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.4270299+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7928f62a-a616-40c3-8480-e5ebfeec5e76","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.4279687+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":56.2353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.4292395+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:03.4308959+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/3240","StatusCode":200,"Elapsed":65.424,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"65.4240"}]}}
{"Timestamp":"2024-11-11T13:42:03.4328356+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1fbf1a7605483996d59840df3939535","SpanId":"7a76e608e393f246","Properties":{"ElapsedMilliseconds":82.3174,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/3240","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K4:00000001","RequestPath":"/api/Schedules/3240","ConnectionId":"0HN823FBG93K4"}}
{"Timestamp":"2024-11-11T13:42:04.2038713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2444391+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2455899+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2606246+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2747718+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2786030+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2806204+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.9968,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2821649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2834585+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":39.1398,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.1398"}]}}
{"Timestamp":"2024-11-11T13:42:04.2870377+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36677e5eb09bb191b8b3c31c62645964","SpanId":"2a8f8955ce554e48","Properties":{"ElapsedMilliseconds":83.0221,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K5"}}
{"Timestamp":"2024-11-11T13:42:04.2988800+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3039913+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3056659+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3181019+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3226651+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3246680+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.9263,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3265674+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:04.3282269+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.7128,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7128"}]}}
{"Timestamp":"2024-11-11T13:42:04.3302024+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42fc03b91fbd743586005b06a464b79b","SpanId":"a785ed66b19bb5c4","Properties":{"ElapsedMilliseconds":31.3782,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93K6"}}
{"Timestamp":"2024-11-11T13:42:15.2502811+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2536099+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2549402+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2764250+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2884327+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2912663+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2926731+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.644,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2939785+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.2951602+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":41.6648,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.6648"}]}}
{"Timestamp":"2024-11-11T13:42:15.2974042+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f560eccaca7fd802a2c7df41e7193ca8","SpanId":"3cb3636f4b011b77","Properties":{"ElapsedMilliseconds":47.1519,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K7"}}
{"Timestamp":"2024-11-11T13:42:15.3041952+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3082715+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3098470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3199422+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3227165+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3242682+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.7994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3256749+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.3269310+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.9299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.9299"}]}}
{"Timestamp":"2024-11-11T13:42:15.3287333+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1350ef396f449b3d6feecaaeb89ac9eb","SpanId":"882b484f3195011e","Properties":{"ElapsedMilliseconds":24.5559,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93K8"}}
{"Timestamp":"2024-11-11T13:42:15.4108462+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4158574+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4172134+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4245024+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4307368+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4322271+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4587875+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"elapsed":"28","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4612637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4679936+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4688589+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4719517+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4743525+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4755498+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":49.2898,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4768729+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.5204,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4782382+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4795146+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4812764+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":65.554,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"65.5540"}]}}
{"Timestamp":"2024-11-11T13:42:15.4825321+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":51.8558,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.8558"}]}}
{"Timestamp":"2024-11-11T13:42:15.4846922+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dddc08b881fd6601b7d61e0f11484e15","SpanId":"715e036940e754a6","Properties":{"ElapsedMilliseconds":73.8582,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93K9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93K9"}}
{"Timestamp":"2024-11-11T13:42:15.4881461+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2244e7ca5866c5b23a98585ba7a7a760","SpanId":"01942edca6812b32","Properties":{"ElapsedMilliseconds":63.6662,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KA"}}
{"Timestamp":"2024-11-11T13:42:15.4911288+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.4928209+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5004918+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.5046008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5056468+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.5072867+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5233228+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5256359+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"elapsed":"14","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.5276544+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5321718+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.5345075+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":20.2892,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5365785+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":27.0234,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.5380867+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5396745+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:15.5412360+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.96,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9600"}]}}
{"Timestamp":"2024-11-11T13:42:15.5430599+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":42.9257,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.9257"}]}}
{"Timestamp":"2024-11-11T13:42:15.5456990+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38cfcea692a11f2b30ee9c77859ddef8","SpanId":"c9f0ce933a26b5fc","Properties":{"ElapsedMilliseconds":52.9115,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KC"}}
{"Timestamp":"2024-11-11T13:42:15.5479885+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"56ac1a6362650790d0cc79ffbd83523c","SpanId":"31965e76b9f6b40a","Properties":{"ElapsedMilliseconds":56.8889,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KB"}}
{"Timestamp":"2024-11-11T13:42:17.7347476+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7372866+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7381879+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7455018+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7509016+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7534913+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7545190+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.7025,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7555409+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7564244+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.2156,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.2156"}]}}
{"Timestamp":"2024-11-11T13:42:17.7578827+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80b998cf4ed385c4a05fa5d67638cff4","SpanId":"38fc3003f85e3233","Properties":{"ElapsedMilliseconds":23.1765,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KD"}}
{"Timestamp":"2024-11-11T13:42:17.7596243+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1214","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.7639803+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.7667314+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.7736700+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.7809194+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.8209689+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.8410762+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.8420784+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":73.3619,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.8433640+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:17.8444364+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1214","StatusCode":200,"Elapsed":80.7296,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"80.7296"}]}}
{"Timestamp":"2024-11-11T13:42:17.8466113+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2953041ed3ea4dda0df79af9aea0f56","SpanId":"f58f026ee400538e","Properties":{"ElapsedMilliseconds":87.0084,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1214","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KE:00000001","RequestPath":"/api/Schedules/1214","ConnectionId":"0HN823FBG93KE"}}
{"Timestamp":"2024-11-11T13:42:19.2238312+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2270187+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2283045+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2413821+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2484377+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2511320+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2523634+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.1423,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2533552+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2542179+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.3341,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.3341"}]}}
{"Timestamp":"2024-11-11T13:42:19.2556580+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92fc95c78e46a7bb41cb3607f64791d2","SpanId":"64a3499f551b9c77","Properties":{"ElapsedMilliseconds":31.86,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KF"}}
{"Timestamp":"2024-11-11T13:42:19.2575186+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2612025+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2621900+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2688793+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2718670+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2733849+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.0309,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2746149+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:19.2756558+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.8452,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.8452"}]}}
{"Timestamp":"2024-11-11T13:42:19.2773195+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f4658e4393e4d2a4464b5c070c3df6c","SpanId":"6facd1f0f2740ef1","Properties":{"ElapsedMilliseconds":19.822,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KG"}}
{"Timestamp":"2024-11-11T13:42:20.3688585+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3716318+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3725673+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3862318+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3925646+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3961264+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3984075+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.8048,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.3999031+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.4011446+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.6958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.6958"}]}}
{"Timestamp":"2024-11-11T13:42:20.4030517+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e594f8abd8fb89e1e45b52617340ade","SpanId":"56842a04e4d6a42b","Properties":{"ElapsedMilliseconds":34.183,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KH"}}
{"Timestamp":"2024-11-11T13:42:20.4046896+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1170","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4090719+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4100696+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4159592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4216383+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4328865+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4353936+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"3d997326-3668-4e42-bf36-0029c91067d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4360816+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":23.7486,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4370778+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:20.4380193+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1170","StatusCode":200,"Elapsed":29.0177,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.0177"}]}}
{"Timestamp":"2024-11-11T13:42:20.4394306+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2904a8941e82aee72aff592857cb22ba","SpanId":"ff519965149ba79a","Properties":{"ElapsedMilliseconds":34.7585,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1170","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KI:00000001","RequestPath":"/api/Schedules/1170","ConnectionId":"0HN823FBG93KI"}}
{"Timestamp":"2024-11-11T13:42:22.2612086+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2659732+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2671987+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2769973+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2862453+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2888500+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2900249+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.6432,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2912278+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2923381+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.4453,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.4453"}]}}
{"Timestamp":"2024-11-11T13:42:22.2940860+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"593e81fa68c267cf1a4c5f9acc04abeb","SpanId":"b29643a67fab2dbd","Properties":{"ElapsedMilliseconds":32.7648,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KJ"}}
{"Timestamp":"2024-11-11T13:42:22.2978381+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3068291+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3085021+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3263740+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"elapsed":"12","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3298757+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3317032+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.3266,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3329180+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:22.3344940+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.5145,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5145"}]}}
{"Timestamp":"2024-11-11T13:42:22.3362687+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"543681ff5cba31eebd23fec5cb046a1b","SpanId":"c970f5c3d59d6016","Properties":{"ElapsedMilliseconds":38.4676,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KK"}}
{"Timestamp":"2024-11-11T13:42:24.1384116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1409990+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1419730+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1501538+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1564454+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1591756+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1603982+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.5054,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1616209+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1626685+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.7298,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.7298"}]}}
{"Timestamp":"2024-11-11T13:42:24.1645764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a1753662ed1d29bd506f3766797d98b","SpanId":"e1878c2376ac6533","Properties":{"ElapsedMilliseconds":26.2524,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KL"}}
{"Timestamp":"2024-11-11T13:42:24.1670282+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1710087+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1721877+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1780342+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1807489+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1822043+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.096,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1835648+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.1851127+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.3965,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.3965"}]}}
{"Timestamp":"2024-11-11T13:42:24.1881259+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da87702074e9faf3af9bd7679c5affcf","SpanId":"b822d2f7f368ee2d","Properties":{"ElapsedMilliseconds":21.1648,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KM"}}
{"Timestamp":"2024-11-11T13:42:24.3346330+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3377431+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3388587+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3408649+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3484298+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3495561+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3566691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3776644+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3795101+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3849901+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3855186+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3863173+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":42.9702,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3897104+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3907692+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3921523+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.286,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3937292+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":56.0533,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.0533"}]}}
{"Timestamp":"2024-11-11T13:42:24.3950674+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.3971128+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b36c0c47ed2461bba07a273865abe8c4","SpanId":"2864b80ef859afeb","Properties":{"ElapsedMilliseconds":62.4995,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KN"}}
{"Timestamp":"2024-11-11T13:42:24.3982695+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":49.8999,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.8999"}]}}
{"Timestamp":"2024-11-11T13:42:24.4038861+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4b65e6d1ba2d12aa97d87480d189074","SpanId":"276dddaab5dbec43","Properties":{"ElapsedMilliseconds":63.0111,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KO"}}
{"Timestamp":"2024-11-11T13:42:24.4050201+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4093833+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4110196+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4138332+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4149738+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4164222+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4258336+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4288006+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4306799+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.0382,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4320884+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4338458+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.1818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1818"}]}}
{"Timestamp":"2024-11-11T13:42:24.4307667+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4362049+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d04a461c55fd86a9d4570d12f18654d7","SpanId":"29b86b2901f61528","Properties":{"ElapsedMilliseconds":31.6229,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KP"}}
{"Timestamp":"2024-11-11T13:42:24.4417301+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4480707+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":27.0687,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4504567+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:24.4518322+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":38.3353,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.3353"}]}}
{"Timestamp":"2024-11-11T13:42:24.4535504+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fad08bef02e32ffe570f2645b2176a7","SpanId":"059ae64d06553872","Properties":{"ElapsedMilliseconds":45.1593,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93KQ"}}
{"Timestamp":"2024-11-11T13:42:27.6859423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.6896800+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.6916134+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7028121+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7091493+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7119879+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7133222+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.6361,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7145944+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7156436+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.1317,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1317"}]}}
{"Timestamp":"2024-11-11T13:42:27.7173456+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"443fdb983c01dc39f4a379ab3bf38e2e","SpanId":"35fa091faf62c122","Properties":{"ElapsedMilliseconds":31.4143,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KR"}}
{"Timestamp":"2024-11-11T13:42:27.7196955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7242040+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7253193+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7315095+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7340426+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7354260+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.1019,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7368058+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:27.7382924+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.4807,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4807"}]}}
{"Timestamp":"2024-11-11T13:42:27.7400188+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"14d8f520c9de16b603c774fed532bbac","SpanId":"117a8fb0605c35fd","Properties":{"ElapsedMilliseconds":20.342,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KS"}}
{"Timestamp":"2024-11-11T13:42:28.4095430+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4143425+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4193991+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4423215+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4511039+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4543601+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4558751+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2667,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4576652+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4591348+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":44.8844,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.8844"}]}}
{"Timestamp":"2024-11-11T13:42:28.4616520+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"634d12a1702322944c7b089758ddf898","SpanId":"8d01ab4f73cc6a94","Properties":{"ElapsedMilliseconds":52.0932,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KT"}}
{"Timestamp":"2024-11-11T13:42:28.4649194+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4711578+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4724765+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4807345+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4837554+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4853983+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.6585,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4869671+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.4883279+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.4438,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4438"}]}}
{"Timestamp":"2024-11-11T13:42:28.4902234+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9958040c85f3a15bc39aca4c06124a33","SpanId":"8bc0a4381a61271b","Properties":{"ElapsedMilliseconds":25.3271,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93KU"}}
{"Timestamp":"2024-11-11T13:42:28.7728886+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.7767210+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.7791192+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.7824200+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.7897123+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.7906719+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8187868+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"elapsed":"26","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.8246240+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.8251642+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8310747+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.8344744+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":50.0697,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.8342934+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8358280+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.8390133+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8398990+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":63.2488,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.2488"}]}}
{"Timestamp":"2024-11-11T13:42:28.8412675+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":47.9426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8428950+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa64bfaa7b8582179d44afbbf52a82d8","SpanId":"d792944b12132bc2","Properties":{"ElapsedMilliseconds":70.0263,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93KV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93KV"}}
{"Timestamp":"2024-11-11T13:42:28.8441922+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8526261+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":62.9586,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.9586"}]}}
{"Timestamp":"2024-11-11T13:42:28.8532705+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8545699+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f3e5a51e75a8b6d95cb8e90901d2ece","SpanId":"7a79bbb526fdae72","Properties":{"ElapsedMilliseconds":72.3689,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L0"}}
{"Timestamp":"2024-11-11T13:42:28.8575907+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8654920+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8643161+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.8731848+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.8748303+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.8891646+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"elapsed":"18","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8919969+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8937467+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":24.3785,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8952009+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.8971961+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":39.9131,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.9131"}]}}
{"Timestamp":"2024-11-11T13:42:28.8989704+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e45f58825a9035aaaa51e9ff25f1bf58","SpanId":"af919aaf7fcf53c9","Properties":{"ElapsedMilliseconds":45.7204,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L1"}}
{"Timestamp":"2024-11-11T13:42:28.9005855+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"elapsed":"22","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.9078575+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.9099641+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":32.3907,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.9121556+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:28.9142642+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":41.4226,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.4226"}]}}
{"Timestamp":"2024-11-11T13:42:28.9163264+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a904650525bcdda35d1a65c5fc413767","SpanId":"f73f043d3e2bb7e4","Properties":{"ElapsedMilliseconds":52.0375,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L2"}}
{"Timestamp":"2024-11-11T13:42:32.1617834+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.1654685+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.1668046+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.1781136+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.1857050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.2054814+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.2075493+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.6055,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.2094068+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.2107783+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":45.3725,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.3725"}]}}
{"Timestamp":"2024-11-11T13:42:32.2138311+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ad45e4245c8dd52b92b3e189948b2c1e","SpanId":"c2cc3913d277608d","Properties":{"ElapsedMilliseconds":51.2366,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L3"}}
{"Timestamp":"2024-11-11T13:42:32.2170721+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2232133+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2246112+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2336959+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2366057+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2381920+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.2738,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2396918+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.2410359+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.0685,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.0685"}]}}
{"Timestamp":"2024-11-11T13:42:32.2429059+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7738c0c6b6b1ead8460fa2bec510d2b8","SpanId":"a310a59e676d83d5","Properties":{"ElapsedMilliseconds":25.8443,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L4"}}
{"Timestamp":"2024-11-11T13:42:32.8675048+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:32.8703142+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:32.8712825+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:33.1836215+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:33.2399275+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:33.2436936+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:33.2477968+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:33.2468778+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:33.2691090+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.3991313+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"elapsed":"1,113","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:34.4003315+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.4005780+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"elapsed":"1,525","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:34.4073654+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:34.4082577+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.4105296+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:34.4158935+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:34.4180703+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.4203850+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:34.4214665+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1171.1776,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:34.4226897+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1149.1366,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.4238646+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1550.6057,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:34.4249983+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:34.4261299+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.4272495+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:34.4282814+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1184.6448,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1184.6448"}]}}
{"Timestamp":"2024-11-11T13:42:34.4298097+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1183.5262,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1183.5262"}]}}
{"Timestamp":"2024-11-11T13:42:34.4310374+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1560.7774,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1560.7774"}]}}
{"Timestamp":"2024-11-11T13:42:34.4329023+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7c71f3f3a0206ffaffc8c2971f66535e","SpanId":"e35fc3c346fac973","Properties":{"ElapsedMilliseconds":1249.2709,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L6"}}
{"Timestamp":"2024-11-11T13:42:34.4350694+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d4c36fdd4d1974803ee26d83ace92e8","SpanId":"340b90033d99cc0a","Properties":{"ElapsedMilliseconds":1195.1533,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L7"}}
{"Timestamp":"2024-11-11T13:42:34.4409421+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4447601+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.4382202+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5fb577e84dc6972bba5194a17725873d","SpanId":"92bc39cc8ce9326d","Properties":{"ElapsedMilliseconds":1570.7284,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93L5"}}
{"Timestamp":"2024-11-11T13:42:34.4493386+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4563941+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4586137+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.4643037+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4655098+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4668705+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.4682479+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4781584+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4786049+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4812145+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4840397+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4855936+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.0209,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4874619+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.2325,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4891017+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4908533+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.4929670+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":36.768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.7680"}]}}
{"Timestamp":"2024-11-11T13:42:34.4965323+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2e8b23c8bc057421ddaf9e5af9abe58","SpanId":"9fe976c9ab25694b","Properties":{"ElapsedMilliseconds":56.9423,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93L8"}}
{"Timestamp":"2024-11-11T13:42:34.4945580+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":30.5614,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.5614"}]}}
{"Timestamp":"2024-11-11T13:42:34.5067246+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"13be25789a340ed6bc7afe110c9734fc","SpanId":"b7436ecd3b31ad5f","Properties":{"ElapsedMilliseconds":57.4388,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LA"}}
{"Timestamp":"2024-11-11T13:42:34.5070199+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"elapsed":"33","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.5142305+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.5158679+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":42.9776,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.5175719+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:34.5190197+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":60.6089,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.6089"}]}}
{"Timestamp":"2024-11-11T13:42:34.5209119+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"76b40d83b05fa39ecc77638684b0313a","SpanId":"c28ed2ef50eef883","Properties":{"ElapsedMilliseconds":76.2017,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93L9:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93L9"}}
{"Timestamp":"2024-11-11T13:42:36.6872425+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:36.6936934+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:36.6958222+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:36.8938072+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:36.9010294+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:36.9021248+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:36.9456778+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.0008340+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.0021115+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.4642146+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"elapsed":"442","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.4670096+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"elapsed":"764","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:37.4724100+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"elapsed":"523","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:37.4741268+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.4860528+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.4876413+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:37.4882212+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":483.6635,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.4885088+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:37.4911640+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:37.4923089+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.4952031+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:37.4969679+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":797.4946,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:37.4983483+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":497.5846,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"497.5846"}]}}
{"Timestamp":"2024-11-11T13:42:37.4996822+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":595.1149,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:37.5009853+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:37.5032193+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cfb9526080d6d8f34b1dc6e463e20e06","SpanId":"0a371c685678b2ae","Properties":{"ElapsedMilliseconds":557.5587,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LD"}}
{"Timestamp":"2024-11-11T13:42:37.5060402+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":812.4199,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"812.4199"}]}}
{"Timestamp":"2024-11-11T13:42:37.5045802+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:37.5073382+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5112641+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65d15cb112064f8593171aa713e53f4c","SpanId":"80a7e44d35598a4d","Properties":{"ElapsedMilliseconds":824.0398,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LB"}}
{"Timestamp":"2024-11-11T13:42:37.5159061+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5166155+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5123311+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":611.39,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"611.3900"}]}}
{"Timestamp":"2024-11-11T13:42:37.5205378+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5276719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5250505+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de51231a737f9d397c62f756b720b056","SpanId":"75c4d4b72ec66ee3","Properties":{"ElapsedMilliseconds":631.2869,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LC"}}
{"Timestamp":"2024-11-11T13:42:37.5234634+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5332480+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5364121+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5379410+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5397905+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5476827+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5506983+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":22.9198,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5530073+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5544574+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":38.8416,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.8416"}]}}
{"Timestamp":"2024-11-11T13:42:37.5563924+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"776391e478df5c8805e083ff3db61186","SpanId":"e7f34132ad04a264","Properties":{"ElapsedMilliseconds":49.0657,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LE"}}
{"Timestamp":"2024-11-11T13:42:37.5628703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"elapsed":"18","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5664337+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"elapsed":"25","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5670404+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5696634+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5708782+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":27.6441,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5721425+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":31.8814,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5734067+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5747824+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:37.5760144+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":44.1583,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.1583"}]}}
{"Timestamp":"2024-11-11T13:42:37.5771861+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":53.9691,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.9691"}]}}
{"Timestamp":"2024-11-11T13:42:37.5788349+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"186be4108c9cb872171ef658cab6cb5a","SpanId":"f5d0a39d520c38df","Properties":{"ElapsedMilliseconds":51.185,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LG"}}
{"Timestamp":"2024-11-11T13:42:37.5828551+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"521567ebc05c8707dbd55603fa8fd66d","SpanId":"a4d5dffd2b2d14dd","Properties":{"ElapsedMilliseconds":66.2639,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LF"}}
{"Timestamp":"2024-11-11T13:42:42.1058060+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1091158+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1102909+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1229676+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1271901+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1305828+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1316763+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9765,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1327231+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1335983+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.5508,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.5508"}]}}
{"Timestamp":"2024-11-11T13:42:42.1349926+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"002fda2e87c4a909a6b5b72ac2cbcb16","SpanId":"3b80f3c25525a676","Properties":{"ElapsedMilliseconds":29.2151,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LH"}}
{"Timestamp":"2024-11-11T13:42:42.1373365+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1405828+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1415163+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1459346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1482825+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1494564+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.309,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1506108+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.1515639+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.1566,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.1566"}]}}
{"Timestamp":"2024-11-11T13:42:42.1529228+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf51f32fe841013e72342dd82473e9f3","SpanId":"de310b8eb6b6400a","Properties":{"ElapsedMilliseconds":15.6555,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LI"}}
{"Timestamp":"2024-11-11T13:42:42.2917382+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3030268+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3048198+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3086126+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3099995+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3112184+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3598118+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"elapsed":"41","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3664719+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"elapsed":"22","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3675237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3721170+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3747513+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3762151+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3773752+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":62.9515,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3786842+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":42.7312,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3802667+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3815639+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:42:42.3826290+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":77.8561,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"77.8561"}]}}
{"Timestamp":"2024-11-11T13:42:42.3834822+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":74.9301,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"74.9301"}]}}
{"Timestamp":"2024-11-11T13:42:42.3849255+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c4fee43904e8b3976ead32a488a6e5d","SpanId":"6693fdad737bc571","Properties":{"ElapsedMilliseconds":93.1898,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LJ"}}
{"Timestamp":"2024-11-11T13:42:42.3871437+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c57b52d043e921c2144460967fa95641","SpanId":"7a4de100622fdf7c","Properties":{"ElapsedMilliseconds":84.1113,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LK"}}
{"Timestamp":"2024-11-11T13:54:29.2756912+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.2801949+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.2817061+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.3118463+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"elapsed":"13","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.3254223+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.3289483+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.3319015+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":47.186,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.3338098+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:29.3354769+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":55.4094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.4094"}]}}
{"Timestamp":"2024-11-11T13:54:29.3375670+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd1c6d91f1193533b20f2e0c0346747c","SpanId":"05277e562fe40a0e","Properties":{"ElapsedMilliseconds":61.9539,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LL"}}
{"Timestamp":"2024-11-11T13:54:32.3417661+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3448133+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3458488+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3544735+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3599385+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3629001+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3646083+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3661830+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.3671896+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.4921,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.4921"}]}}
{"Timestamp":"2024-11-11T13:54:32.3690931+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec27ebf34f960e73436208c8c350003c","SpanId":"e366f4bf35bee5c5","Properties":{"ElapsedMilliseconds":27.4283,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LM"}}
{"Timestamp":"2024-11-11T13:54:32.4733635+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.4772103+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.4786284+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.4855113+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.4928110+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.5061549+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.5083572+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.0117,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.5098748+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.5109879+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.8392,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.8392"}]}}
{"Timestamp":"2024-11-11T13:54:32.5127327+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5240b9fc2d4eed8597e758f80fbdd2dd","SpanId":"626104074a53add6","Properties":{"ElapsedMilliseconds":39.4387,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LN"}}
{"Timestamp":"2024-11-11T13:54:32.5222388+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5234649+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5291493+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5343739+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5354289+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5366522+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5441883+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5477769+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5498488+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.9192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5518628+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5532756+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":25.0951,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.0951"}]}}
{"Timestamp":"2024-11-11T13:54:32.5551343+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7c2535c18642bcfccd8172d66b99658","SpanId":"34c26098cae986ae","Properties":{"ElapsedMilliseconds":32.9239,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93LO"}}
{"Timestamp":"2024-11-11T13:54:32.5560240+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5622480+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5644129+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":23.2866,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5660738+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:54:32.5673635+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":33.471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.4710"}]}}
{"Timestamp":"2024-11-11T13:54:32.5691315+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c4c365da32c05d7587b9351a37b46ef","SpanId":"446f1d0ebd660314","Properties":{"ElapsedMilliseconds":45.6829,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LP"}}
{"Timestamp":"2024-11-11T13:55:18.1362883+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1433487+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1443902+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1737754+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"elapsed":"18","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1788931+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1828416+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1842215+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.767,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1854314+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1864882+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.3233,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.3233"}]}}
{"Timestamp":"2024-11-11T13:55:18.1891072+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5a00f9405ae0253769a3d4f99bd171c3","SpanId":"0d6314f757d17e79","Properties":{"ElapsedMilliseconds":52.83,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LQ"}}
{"Timestamp":"2024-11-11T13:55:18.1915757+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.1969775+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.1988853+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.2091217+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.2124764+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.2143194+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.1533,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.2161939+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:18.2174986+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.3477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.3477"}]}}
{"Timestamp":"2024-11-11T13:55:18.2193072+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a267844cb4f96e69c6c239183a974f0","SpanId":"49c9a28a6a7aaca1","Properties":{"ElapsedMilliseconds":27.7904,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93LR"}}
{"Timestamp":"2024-11-11T13:55:43.3586133+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3613123+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3622883+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3773245+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3838148+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3870626+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3893499+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.3548,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3910556+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3921001+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":30.8655,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.8655"}]}}
{"Timestamp":"2024-11-11T13:55:43.3937909+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02568a631b4eff1d524d1434d1d4ac65","SpanId":"54ada05a2e2f1d7b","Properties":{"ElapsedMilliseconds":35.3082,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LS"}}
{"Timestamp":"2024-11-11T13:55:43.3991298+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4016612+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4024275+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4081433+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4133842+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4165137+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4176457+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":13.5908,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4189423+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:43.4197956+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":18.2826,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2826"}]}}
{"Timestamp":"2024-11-11T13:55:43.4211729+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c2d77b295557f5c7b39467b9c944b09","SpanId":"7af0fe07298469c6","Properties":{"ElapsedMilliseconds":22.0649,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93LT"}}
{"Timestamp":"2024-11-11T13:55:55.9556144+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9578120+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9586246+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9661320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9707958+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9728990+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9738799+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.6596,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9749063+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:55:55.9757665+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":17.9939,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.9939"}]}}
{"Timestamp":"2024-11-11T13:55:55.9774152+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"000f47d788fe61c44b59337c5af186e6","SpanId":"e12ba54f1ad23bd1","Properties":{"ElapsedMilliseconds":21.8095,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93LU"}}
{"Timestamp":"2024-11-11T13:57:54.2086120+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2112573+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2121337+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2200220+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2259108+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2288184+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2302717+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":15.6953,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2316887+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:54.2327971+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":21.5894,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5894"}]}}
{"Timestamp":"2024-11-11T13:57:54.2346179+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2734a9239111dacdd3f1fbcd7ff16932","SpanId":"e2d9ef23f8b1cecb","Properties":{"ElapsedMilliseconds":26.0528,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93LV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93LV"}}
{"Timestamp":"2024-11-11T13:57:56.7174549+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7201821+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7212010+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7260657+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7312972+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7346718+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7370548+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.7882,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7390944+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:57:56.7408480+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.7176,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.7176"}]}}
{"Timestamp":"2024-11-11T13:57:56.7444373+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a2772de2a521cd8bbeb8f7376c12ff1","SpanId":"f58bdf3ce86dbc99","Properties":{"ElapsedMilliseconds":27.0495,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M0"}}
{"Timestamp":"2024-11-11T13:58:01.8955695+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.8994849+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9004619+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9058048+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9115050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9155438+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9168231+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.3151,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9180348+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9194657+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.0283,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.0283"}]}}
{"Timestamp":"2024-11-11T13:58:01.9237016+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ceb6fa66624cf403a1316f47bc1f8155","SpanId":"0647d7b66fe04846","Properties":{"ElapsedMilliseconds":28.159,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M1"}}
{"Timestamp":"2024-11-11T13:58:01.9289152+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9396692+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9408784+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9485273+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9512100+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9527678+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.9591,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9540840+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:01.9554265+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.014,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.0140"}]}}
{"Timestamp":"2024-11-11T13:58:01.9571737+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd6a2bee7028f37a9280be7ac01734a0","SpanId":"7da6db41b205408f","Properties":{"ElapsedMilliseconds":28.3423,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93M2"}}
{"Timestamp":"2024-11-11T13:58:08.7351074+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7384765+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7396585+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7461967+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7507252+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7523504+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.6499,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7540066+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:08.7551836+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.8991,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8991"}]}}
{"Timestamp":"2024-11-11T13:58:08.7568892+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fedfc32e23b84c3e6c7d84e7a7d78b49","SpanId":"3b3a30703a09157b","Properties":{"ElapsedMilliseconds":21.7949,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M3"}}
{"Timestamp":"2024-11-11T13:58:38.7228072+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7269452+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7279259+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7337676+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7385960+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7408848+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7418765+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.6256,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7431265+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:58:38.7443133+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.4201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4201"}]}}
{"Timestamp":"2024-11-11T13:58:38.7457477+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65e29eb917787b0bb7e965071041f9e1","SpanId":"72356607a04fc9b2","Properties":{"ElapsedMilliseconds":25.2736,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M4"}}
{"Timestamp":"2024-11-11T13:59:04.9686404+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:04.9765030+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 6:58:54 AM', Current time (UTC): '11/11/2024 6:59:04 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0123208+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 6:58:54 AM', Current time (UTC): '11/11/2024 6:59:04 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0150788+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0164590+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0222437+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0252347+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0265151+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.3834,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0276741+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:05.0287015+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":56.747,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.7470"}]}}
{"Timestamp":"2024-11-11T13:59:05.0306729+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e8afc2c5afc84fea156a7da7a1c65c50","SpanId":"2f7b7f9fb34d575d","Properties":{"ElapsedMilliseconds":62.0557,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93M5"}}
{"Timestamp":"2024-11-11T13:59:32.8785936+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.8861731+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.8871771+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.8977977+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.9098972+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.9187944+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.9200181+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.7207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.9212084+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.9224269+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":36.3029,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.3029"}]}}
{"Timestamp":"2024-11-11T13:59:32.9241825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef5e7e9a4d0f7f0b475691119f15dc30","SpanId":"959e26ecfbfeb676","Properties":{"ElapsedMilliseconds":45.6068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M6"}}
{"Timestamp":"2024-11-11T13:59:32.9290382+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9333315+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9342779+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9423057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9494333+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9520042+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9532588+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":17.0941,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9549103+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T13:59:32.9559612+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.8011,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8011"}]}}
{"Timestamp":"2024-11-11T13:59:32.9577109+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4b202d8ccc48eda3abc3a8df9e0bfe2","SpanId":"0dc4bc4b9ae9d749","Properties":{"ElapsedMilliseconds":28.7366,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M7:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93M7"}}
{"Timestamp":"2024-11-11T14:00:20.3347665+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.3414607+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.3421993+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.3520239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.3636319+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"elapsed":"7","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.4016638+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.4036287+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":59.8145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.4053054+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:00:20.4067163+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":65.1384,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"65.1384"}]}}
{"Timestamp":"2024-11-11T14:00:20.4086360+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b0f6ab91b47a969be69b7af0cb6be4c0","SpanId":"458dd04df74ffc3e","Properties":{"ElapsedMilliseconds":73.8915,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93M8"}}
{"Timestamp":"2024-11-11T14:02:43.0963977+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.0997897+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1005858+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1124539+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1192405+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1220078+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1232346+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":20.985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1244663+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:02:43.1260283+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":26.2967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.2967"}]}}
{"Timestamp":"2024-11-11T14:02:43.1280217+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f20a6b4c35f28c52366ad361f1cff26","SpanId":"d7156ebb3458f400","Properties":{"ElapsedMilliseconds":31.7232,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93M9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93M9"}}
{"Timestamp":"2024-11-11T14:03:15.2745624+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:15.2807393+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:15.2819539+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:16.9545881+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:16.9584695+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:16.9603409+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:16.9657143+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:16.9695206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:16.9862894+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:16.9876300+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1702.9818,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:16.9884296+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:16.9888753+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:16.9924018+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:16.9932628+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1713.4713,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1713.4713"}]}}
{"Timestamp":"2024-11-11T14:03:16.9997807+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:17.0014720+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2735647bf8db893e8a573914da3e518c","SpanId":"9100c6ab086ea512","Properties":{"ElapsedMilliseconds":1726.9452,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MA"}}
{"Timestamp":"2024-11-11T14:03:17.0029006+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.6189,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:17.0035430+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0064883+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:17.0085840+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0092558+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":48.9638,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"48.9638"}]}}
{"Timestamp":"2024-11-11T14:03:17.0102713+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0116677+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"adbf8a94cf09beddbd21d0f3677acf1f","SpanId":"f0248e34b7f84f3a","Properties":{"ElapsedMilliseconds":57.098,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MB"}}
{"Timestamp":"2024-11-11T14:03:17.0140838+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0184432+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0201302+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0219408+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0228645+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0240012+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.3097,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0270445+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0282485+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.836,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.8360"}]}}
{"Timestamp":"2024-11-11T14:03:17.0292769+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0306370+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66fd98b9d94c9c46593b64e579fe1b25","SpanId":"c2a07676f82174ed","Properties":{"ElapsedMilliseconds":27.149,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MC"}}
{"Timestamp":"2024-11-11T14:03:17.0361725+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0413894+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.6998,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0428377+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:17.0439959+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":24.0371,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0371"}]}}
{"Timestamp":"2024-11-11T14:03:17.0455775+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f9d78e2fd5ded022751bf988163e93e","SpanId":"377780204de7a4dd","Properties":{"ElapsedMilliseconds":31.5155,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MD"}}
{"Timestamp":"2024-11-11T14:03:23.9780529+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9820740+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9833736+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9876155+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9908592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9929049+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9955691+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.5226,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9975342+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:23.9987170+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.6801,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.6801"}]}}
{"Timestamp":"2024-11-11T14:03:24.0012874+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b4ef461485a2070d774d746cf2673c1","SpanId":"415819d175425c28","Properties":{"ElapsedMilliseconds":23.2453,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93ME:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ME"}}
{"Timestamp":"2024-11-11T14:03:24.0037079+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0079132+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0088513+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0118843+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0158211+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0174217+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":6.9248,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0186345+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:24.0196119+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":11.8527,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.8527"}]}}
{"Timestamp":"2024-11-11T14:03:24.0210205+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9228ba00c8b823c92be8e4d0f8e42649","SpanId":"10752155cd27c66f","Properties":{"ElapsedMilliseconds":17.4007,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MF"}}
{"Timestamp":"2024-11-11T14:03:49.2707719+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2767527+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2777313+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2823300+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2858371+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2918399+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2930443+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.6683,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2943004+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.2953803+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":18.6788,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6788"}]}}
{"Timestamp":"2024-11-11T14:03:49.2975846+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba7af66409e4f730d3b8662a4fa0c30a","SpanId":"2db98f47d7dcba57","Properties":{"ElapsedMilliseconds":26.8272,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MG"}}
{"Timestamp":"2024-11-11T14:03:49.3000119+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3029980+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3039273+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3065941+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3087312+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3098926+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.3474,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3110928+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:49.3120604+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.2212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.2212"}]}}
{"Timestamp":"2024-11-11T14:03:49.3136245+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9ca8ec1cfdf55441c902e4eb85101ad4","SpanId":"fe77db7c80d60428","Properties":{"ElapsedMilliseconds":13.6926,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MH"}}
{"Timestamp":"2024-11-11T14:03:50.7275296+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7314763+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7323442+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7365370+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7399364+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7425825+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7436698+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.6442,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7447208+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:03:50.7456348+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":14.2297,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.2297"}]}}
{"Timestamp":"2024-11-11T14:03:50.7479535+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73cacaa4c838e5e3aabaa24164b54576","SpanId":"e0c8c5b528a49883","Properties":{"ElapsedMilliseconds":20.4305,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MI"}}
{"Timestamp":"2024-11-11T14:20:40.3823835+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.3897030+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.3906147+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.4352140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.4421130+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.4449685+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.4462617+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":49.9538,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.4497546+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:40.4509757+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":61.3556,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.3556"}]}}
{"Timestamp":"2024-11-11T14:20:40.4528523+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b10f04a54fecce982281db18fd1c5ade","SpanId":"16b51728bbdd1677","Properties":{"ElapsedMilliseconds":70.5239,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MJ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93MJ"}}
{"Timestamp":"2024-11-11T14:20:42.8022338+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8055464+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8066021+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8226014+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8288182+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8324648+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8339846+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.9928,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8352343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:42.8364063+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.9031,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.9031"}]}}
{"Timestamp":"2024-11-11T14:20:42.8387446+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d462d0f36ca644a1bb29bb22200b273","SpanId":"fb6fb65b27758dec","Properties":{"ElapsedMilliseconds":36.5845,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MK"}}
{"Timestamp":"2024-11-11T14:20:48.3381311+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3409908+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3419173+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3561539+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3622441+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3657457+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3675419+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.5615,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3735667+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3756421+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.6768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.6768"}]}}
{"Timestamp":"2024-11-11T14:20:48.3780558+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.3790738+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d59aced737b1f8f6f91fd7961c4da679","SpanId":"06dfd3cce0f1ff38","Properties":{"ElapsedMilliseconds":40.9943,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93ML:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ML"}}
{"Timestamp":"2024-11-11T14:20:48.3841362+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.3892396+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.3946719+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.3971405+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.3985992+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.2937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.3999205+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:48.4010579+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.3192,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.3192"}]}}
{"Timestamp":"2024-11-11T14:20:48.4031815+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b44c252503b97fff1662f96c4922d1f1","SpanId":"65bdc847420a98b7","Properties":{"ElapsedMilliseconds":25.3245,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MM"}}
{"Timestamp":"2024-11-11T14:20:54.3615981+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3653151+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3666244+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3764439+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3808606+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3827502+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.4129,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3841886+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:20:54.3856686+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.5553,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5553"}]}}
{"Timestamp":"2024-11-11T14:20:54.3875178+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3feea4592bec4893849f400a8ea1e32","SpanId":"de80820bfc34c1f9","Properties":{"ElapsedMilliseconds":25.9311,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MN"}}
{"Timestamp":"2024-11-11T14:21:24.7209785+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7267760+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7276790+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7409043+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7465876+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7497445+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7509474+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.7171,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7521779+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7532597+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.6322,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.6322"}]}}
{"Timestamp":"2024-11-11T14:21:24.7549139+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c48265482ad2ef178d4ddb0cbec6cce3","SpanId":"811ef83f5f004325","Properties":{"ElapsedMilliseconds":33.9579,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MO"}}
{"Timestamp":"2024-11-11T14:21:24.7589727+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7622029+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7634539+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7688046+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7708951+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7720060+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.2992,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7731902+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:24.7741892+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.1968,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.1968"}]}}
{"Timestamp":"2024-11-11T14:21:24.7755830+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf5c6acba46020005b377c849aff7d3f","SpanId":"9ec9a459e7723ef2","Properties":{"ElapsedMilliseconds":16.6423,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MP"}}
{"Timestamp":"2024-11-11T14:21:25.1367541+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:25.1398927+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:25.1410036+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:28.1882699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:28.1990624+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:28.2182818+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:28.2211074+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":3077.7929,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:28.2228827+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:28.2246094+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":3084.7715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3084.7715"}]}}
{"Timestamp":"2024-11-11T14:21:28.2263115+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69dc5c1cb1f8d95512584794bdbe004b","SpanId":"36c16996f7d4b16c","Properties":{"ElapsedMilliseconds":3089.5627,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MQ"}}
{"Timestamp":"2024-11-11T14:21:30.5066849+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5098114+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5108351+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5244177+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5348072+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5625649+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5695605+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5715367+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5725104+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":59.0502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5737338+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5763296+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5802465+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":70.4431,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.4431"}]}}
{"Timestamp":"2024-11-11T14:21:30.5826437+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eca4101d5d4144778253dfcf37379f54","SpanId":"90465ef976bd95be","Properties":{"ElapsedMilliseconds":75.9517,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MR"}}
{"Timestamp":"2024-11-11T14:21:30.5925189+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5950260+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5965296+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":17.5671,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5983847+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:30.5999554+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":28.6188,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.6188"}]}}
{"Timestamp":"2024-11-11T14:21:30.6021406+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54ac53a2cef5475bd3d65d3f366a58bb","SpanId":"160cadd68d45ae23","Properties":{"ElapsedMilliseconds":39.5744,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MS"}}
{"Timestamp":"2024-11-11T14:21:36.4821672+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.4858608+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.4870931+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.4972655+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.5007508+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.5021313+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.7844,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.5035886+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:21:36.5047622+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.1061,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.1061"}]}}
{"Timestamp":"2024-11-11T14:21:36.5064521+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82c4d94e36784a650898a783af0d2728","SpanId":"3c063168f023a888","Properties":{"ElapsedMilliseconds":24.3154,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93MT"}}
{"Timestamp":"2024-11-11T14:22:31.5763945+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.5787402+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.5804147+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.5928879+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.5985683+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.6014638+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.6028310+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.3433,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.6045963+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.6065402+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":27.8782,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.8782"}]}}
{"Timestamp":"2024-11-11T14:22:31.6087180+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c483c9fc3a7708bb9de3d0c9c4167a1","SpanId":"88e87bd5b91e0004","Properties":{"ElapsedMilliseconds":32.3411,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93MU"}}
{"Timestamp":"2024-11-11T14:22:31.6144393+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6177125+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6186699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6230957+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6251313+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6262527+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.971,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6273703+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.6283271+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.7687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.7687"}]}}
{"Timestamp":"2024-11-11T14:22:31.6298172+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2657210510e300446574f6941c98935a","SpanId":"52999a9c9b1c0d39","Properties":{"ElapsedMilliseconds":15.4483,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93MV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93MV"}}
{"Timestamp":"2024-11-11T14:22:31.7597850+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.7632757+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.7647482+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.7793902+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.7812107+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8093202+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"elapsed":"23","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.8107129+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8135197+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.8145168+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8165647+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":49.5409,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.8236969+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.8248881+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":61.6668,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.6668"}]}}
{"Timestamp":"2024-11-11T14:22:31.8263399+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f920772cceb5c2d467b9e9175266f977","SpanId":"71bb0dced8a6b5a1","Properties":{"ElapsedMilliseconds":66.5692,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N0"}}
{"Timestamp":"2024-11-11T14:22:31.8440721+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"elapsed":"17","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8535639+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8567486+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8588787+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.1269,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8606843+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:31.8617907+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":51.1295,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.1295"}]}}
{"Timestamp":"2024-11-11T14:22:31.8682320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4af8868622b4d90d78aca54f3695a2f","SpanId":"7f4bda7d78907b8e","Properties":{"ElapsedMilliseconds":87.0282,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N1"}}
{"Timestamp":"2024-11-11T14:22:46.9183752+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9205345+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9213801+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9264064+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9350564+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9442413+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9468688+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":23.8382,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9490198+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:46.9502289+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":29.7355,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.7355"}]}}
{"Timestamp":"2024-11-11T14:22:46.9521880+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49c330401b5ad205f0eda712a96e81a6","SpanId":"672680ff0d54e533","Properties":{"ElapsedMilliseconds":33.8267,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93N2"}}
{"Timestamp":"2024-11-11T14:22:48.5355498+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5389287+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5406081+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5439421+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5451507+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5465349+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5770403+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"elapsed":"19","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5796668+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5830423+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5852511+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5865208+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5885216+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5894849+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.5114,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5905620+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.9741,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5916075+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5926118+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.5934588+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":52.9139,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.9139"}]}}
{"Timestamp":"2024-11-11T14:22:48.5942852+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.4006,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.4006"}]}}
{"Timestamp":"2024-11-11T14:22:48.5956749+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"114a099dc88a0b0084881a814addf675","SpanId":"ddf861e8dbeaa500","Properties":{"ElapsedMilliseconds":60.1572,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N3"}}
{"Timestamp":"2024-11-11T14:22:48.5985059+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.5986323+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7decdb5bd1161ee37cecca699e16286e","SpanId":"fa9180ee8a167d4e","Properties":{"ElapsedMilliseconds":59.7569,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N4"}}
{"Timestamp":"2024-11-11T14:22:48.6038379+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6073979+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6141341+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6152360+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6164398+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6217820+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6243940+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6248147+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"55e179ff-d606-40d6-b9d4-b59ecb6e270a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6279382+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6295744+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.5302,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6312817+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.233,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6326212+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6337578+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:22:48.6348030+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.6294,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.6294"}]}}
{"Timestamp":"2024-11-11T14:22:48.6357775+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.8915,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.8915"}]}}
{"Timestamp":"2024-11-11T14:22:48.6371873+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10ba7dbe7b708b5218e6ba038bfecd9d","SpanId":"a013167f91c531a3","Properties":{"ElapsedMilliseconds":38.7137,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN823FBG93N5"}}
{"Timestamp":"2024-11-11T14:22:48.6394200+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c13d07e7e056e20405cff3d939ea93ee","SpanId":"918110af6e78b61f","Properties":{"ElapsedMilliseconds":35.5788,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N6"}}
{"Timestamp":"2024-11-11T14:23:13.4142115+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4197180+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4209388+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4295426+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4360490+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4402886+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4419975+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.5879,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4436350+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4450542+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.409,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.4090"}]}}
{"Timestamp":"2024-11-11T14:23:13.4474523+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10b7d080bf34279db5b32aa7aeb1c5c6","SpanId":"5fbcfd7de5356110","Properties":{"ElapsedMilliseconds":33.2473,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N7"}}
{"Timestamp":"2024-11-11T14:23:13.4512098+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4557419+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4570626+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4637665+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4678030+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e561960-654e-441a-aa12-c3cfb80c42d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4693333+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.9263,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4708800+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:13.4727255+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.2227,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.2227"}]}}
{"Timestamp":"2024-11-11T14:23:13.4743093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"748295d22c33977e148ec3f1ea2df9e3","SpanId":"df31898cce935043","Properties":{"ElapsedMilliseconds":23.1647,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN823FBG93N8"}}
{"Timestamp":"2024-11-11T14:23:54.3028390+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3138766+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3153932+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3347986+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3418169+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3478100+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3590422+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":38.5044,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3696191+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3750983+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":61.2786,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.2786"}]}}
{"Timestamp":"2024-11-11T14:23:54.3840871+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7cf91ba235afa32bfede1bed9c2d63b7","SpanId":"8aa4ed1f6bd08b0d","Properties":{"ElapsedMilliseconds":81.2987,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93N9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93N9"}}
{"Timestamp":"2024-11-11T14:23:54.3916738+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4043899+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4057470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4143341+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4212288+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4241842+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"40e6226f-0dd2-4ae2-9845-4e893f1953dc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4254023+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":17.0461,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4267846+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:23:54.4279111+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":23.7658,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7658"}]}}
{"Timestamp":"2024-11-11T14:23:54.4298059+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63989193451a0e94b70f97d7514e88c8","SpanId":"a97f5a92f89de31f","Properties":{"ElapsedMilliseconds":38.1461,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN823FBG93NA"}}
{"Timestamp":"2024-11-11T14:24:12.7148335+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7175341+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7185495+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7268980+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7333943+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7363392+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7377107+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.0118,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7391658+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:24:12.7403158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":22.8481,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8481"}]}}
{"Timestamp":"2024-11-11T14:24:12.7427166+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8f25554a92b51dd89a4a3127d4f4fb43","SpanId":"17dda245b8e4e36a","Properties":{"ElapsedMilliseconds":27.8947,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NB"}}
{"Timestamp":"2024-11-11T14:30:22.6235962+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6279018+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6291816+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6434827+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6524816+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6561597+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6573908+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":25.2855,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6588747+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:22.6598453+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":32.0882,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.0882"}]}}
{"Timestamp":"2024-11-11T14:30:22.6616090+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7c00fa2526487eaa559cbf9f2172629","SpanId":"882b994a56bb156c","Properties":{"ElapsedMilliseconds":38.0657,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NC"}}
{"Timestamp":"2024-11-11T14:30:49.8768239+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.8831984+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.8860380+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.8956796+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.9024773+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.9093724+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.9105921+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.9094,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.9119944+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:30:49.9130947+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.5692,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.5692"}]}}
{"Timestamp":"2024-11-11T14:30:49.9161065+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"555e4b06db3da51d1c14e7b8a7036810","SpanId":"abc78a1e3a5aa17c","Properties":{"ElapsedMilliseconds":39.3102,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93ND:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93ND"}}
{"Timestamp":"2024-11-11T14:31:16.6821982+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.6851284+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.6863560+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.6927224+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.6991983+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.7014622+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.7024641+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.1078,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.7037924+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:16.7047484+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.7003,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.7003"}]}}
{"Timestamp":"2024-11-11T14:31:16.7063113+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54d021d83ca309b6eb03ef76f60a828e","SpanId":"6239e6a89a5d713a","Properties":{"ElapsedMilliseconds":24.1716,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NE"}}
{"Timestamp":"2024-11-11T14:31:20.0964710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.0995532+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1011140+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1074265+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1131478+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1175569+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1189930+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7159,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1208570+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:20.1220835+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.5809,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.5809"}]}}
{"Timestamp":"2024-11-11T14:31:20.1237919+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72549f39c5c4b7748e6f1909420f28d6","SpanId":"f7213a336dea45e7","Properties":{"ElapsedMilliseconds":27.3452,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4060576+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4342184+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4352564+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4418025+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4471937+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4502127+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4514119+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.9907,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4527385+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:21.4538474+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.698,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6980"}]}}
{"Timestamp":"2024-11-11T14:31:21.4555307+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"635be599381725402dede9ee489ad70d","SpanId":"152eedd8d71c7e3f","Properties":{"ElapsedMilliseconds":49.5024,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NF:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6031164+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6068927+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6088138+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6180793+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6244878+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6276923+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6289559+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.4498,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6339246+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:22.6349616+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":28.1374,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.1374"}]}}
{"Timestamp":"2024-11-11T14:31:22.6364740+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49f52b09a1fbeadedc72dc818713c738","SpanId":"9eed986a6b0aa5c3","Properties":{"ElapsedMilliseconds":33.3782,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NF:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NF"}}
{"Timestamp":"2024-11-11T14:31:47.6453436+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.6528784+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.6542344+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.6596212+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.6690613+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.7186111+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.7209915+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":64.4134,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.7232007+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:47.7247973+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":71.9759,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"71.9759"}]}}
{"Timestamp":"2024-11-11T14:31:47.7269523+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ec7793f6b58cc83f983e11d194c431a","SpanId":"a5fb43e3c553fd86","Properties":{"ElapsedMilliseconds":81.6264,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.7757575+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.7790266+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.7924670+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.8019029+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.8076310+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.8102843+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.8116533+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":12.9526,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.8130087+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:48.8142455+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":35.2777,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.2777"}]}}
{"Timestamp":"2024-11-11T14:31:48.8164056+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f728db6e88f5f84dce0d07d179942cb","SpanId":"bf5dd954fed1e452","Properties":{"ElapsedMilliseconds":40.6768,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000002","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7011628+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7037120+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7048090+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7100649+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7180563+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7218666+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7235495+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":16.5398,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7270899+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:49.7282608+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":24.6059,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.6059"}]}}
{"Timestamp":"2024-11-11T14:31:49.7321376+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bce7f511ddff2f5fe900f5b450312cd8","SpanId":"d0a9c8e36ceecddf","Properties":{"ElapsedMilliseconds":30.9709,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000003","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.1757337+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.1781475+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.1789130+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.1875201+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"elapsed":"5","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.1956671+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.2014660+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.2042378+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":22.6954,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.2082977+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.2098766+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":31.7786,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.7786"}]}}
{"Timestamp":"2024-11-11T14:31:50.2121168+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d69dab3fda3ad23888c262f05181fae0","SpanId":"b5290801f0cddf37","Properties":{"ElapsedMilliseconds":36.3969,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000004","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.4965132+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5006367+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5018000+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5081553+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5163661+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5194588+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5208329+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":16.0897,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5223681+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.5235037+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":22.9157,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.9157"}]}}
{"Timestamp":"2024-11-11T14:31:50.5254476+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff80da84517baa0107f765a80a8c4c3d","SpanId":"b431f1e3450a98f5","Properties":{"ElapsedMilliseconds":28.9354,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000005","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9014640+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9045068+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9058117+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9283967+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9360170+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9388468+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9401250+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":16.0382,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9413885+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:50.9424381+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":37.9708,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.9708"}]}}
{"Timestamp":"2024-11-11T14:31:50.9440845+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f31c323e42f32f2900566277042a1cf","SpanId":"88b1e704d66a0ea8","Properties":{"ElapsedMilliseconds":42.6429,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000006","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3574386+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3605101+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3621253+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3695886+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3761508+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3793480+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4ec70e15-620a-413d-8b1b-31c54151846e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3816302+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":16.2086,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3846785+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:51.3857334+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":25.2696,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.2696"}]}}
{"Timestamp":"2024-11-11T14:31:51.3876552+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1ef629afcf6f8ef33e0b4e3007f47b5c","SpanId":"9e1c5ea7ae98eb4e","Properties":{"ElapsedMilliseconds":30.2161,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NG:00000007","RequestPath":"/api/User/Login","ConnectionId":"0HN823FBG93NG"}}
{"Timestamp":"2024-11-11T14:31:57.4230516+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4259552+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4277218+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4351606+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4406964+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4441338+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4453594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4947,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4467300+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:57.4487922+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":22.8614,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8614"}]}}
{"Timestamp":"2024-11-11T14:31:57.4510303+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eef0c2988bdfdc3585b8627252bb73a2","SpanId":"9c525fd09ea8bde1","Properties":{"ElapsedMilliseconds":28.07,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:59.9852818+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:59.9899640+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:31:59.9918642+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.0004645+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.0061923+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.0091286+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.0105495+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.2049,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.0121920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.0159122+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":26.0213,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0213"}]}}
{"Timestamp":"2024-11-11T14:32:00.0219163+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5fcb48f3c9b3fbb105eefba531129074","SpanId":"c618b9e6e95d0fae","Properties":{"ElapsedMilliseconds":37.2398,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6766052+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6798226+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6819705+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6880146+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6926821+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6953298+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.6995429+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4034,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.7012939+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:00.7025665+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":22.8119,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8119"}]}}
{"Timestamp":"2024-11-11T14:32:00.7039955+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9ec100c2289a08fd1369d7af443775d5","SpanId":"bf48fdef3fde82c3","Properties":{"ElapsedMilliseconds":27.4072,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3278782+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3448297+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3461005+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3554928+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3617512+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3702451+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3767387+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.8787,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3857107+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:01.3870367+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":42.27,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.2700"}]}}
{"Timestamp":"2024-11-11T14:32:01.3888971+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2cafccf81f74e4e5c5576adf5f4d25fb","SpanId":"558f984eaecd2244","Properties":{"ElapsedMilliseconds":61.038,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2002879+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2026424+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2037291+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2201538+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2334662+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2371281+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2386310+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.6376,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2403206+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.2413812+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":38.918,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.9180"}]}}
{"Timestamp":"2024-11-11T14:32:06.2430825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10a629d042645d59148a904e5fccd639","SpanId":"c6ca82f655e86b5d","Properties":{"ElapsedMilliseconds":42.8154,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7543722+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7574095+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7584920+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7666149+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7706575+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7729829+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7740176+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.1069,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7752626+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:06.7761494+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":18.8011,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8011"}]}}
{"Timestamp":"2024-11-11T14:32:06.7776827+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"067bdfad47165401940bd7f8315399f1","SpanId":"fb7ab99753de2a5e","Properties":{"ElapsedMilliseconds":23.3041,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1164321+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1194346+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1205219+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1348810+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1394998+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1420200+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1431941+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.4514,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1444330+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.1453423+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.9606,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.9606"}]}}
{"Timestamp":"2024-11-11T14:32:07.1469837+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb7b3021e8a4f127d2e059d8feea9296","SpanId":"a88cb947240b95d0","Properties":{"ElapsedMilliseconds":30.5711,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NH:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NH"}}
{"Timestamp":"2024-11-11T14:32:07.4995232+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5018765+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5029691+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5281825+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5357055+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5384447+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5396514+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.9203,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5410176+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.5420841+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":40.2608,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.2608"}]}}
{"Timestamp":"2024-11-11T14:32:07.5438153+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"058d9fff12a62c7d87c017cdaad18694","SpanId":"b6ec3213b139aa72","Properties":{"ElapsedMilliseconds":44.3047,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8307941+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8337892+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8352023+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8438066+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8508792+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8536843+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8550990+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.8747,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8568535+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:07.8580699+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.3274,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3274"}]}}
{"Timestamp":"2024-11-11T14:32:07.8597500+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80d580fb8077689afe8e3c0cf58e382b","SpanId":"b6f635f2c9ca9cc4","Properties":{"ElapsedMilliseconds":28.9821,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7437704+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7466882+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7486731+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7569006+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7631013+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7664896+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7678508+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.9623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7695041+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:08.7708568+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.2148,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2148"}]}}
{"Timestamp":"2024-11-11T14:32:08.7727895+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"204547f0b42a599a7ffdc92c7a1d111f","SpanId":"8eee174d09429809","Properties":{"ElapsedMilliseconds":29.0424,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000003","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4046796+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4152205+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4178563+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4275404+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4373337+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4405526+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4420260+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.8726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4434512+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:09.4448447+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":29.8071,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.8071"}]}}
{"Timestamp":"2024-11-11T14:32:09.4469949+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c35eb8ba463402da34589805f970cfde","SpanId":"14ec6c3b807c123d","Properties":{"ElapsedMilliseconds":42.1619,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000004","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1034047+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1124046+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1152738+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1240612+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1365833+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1412198+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1428535+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.1446,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1443134+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:10.1454347+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":33.1011,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.1011"}]}}
{"Timestamp":"2024-11-11T14:32:10.1484600+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4baa0ddf1b28d1dbfd9400e15048514","SpanId":"03aa422d66ff7312","Properties":{"ElapsedMilliseconds":46.6754,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000005","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.4810288+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.4850280+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.4905854+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.5066200+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.5272522+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.5344270+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.5360070+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.5516,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.5384843+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:15.5395099+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":54.6101,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"54.6101"}]}}
{"Timestamp":"2024-11-11T14:32:15.5411932+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b3f3704bf81e274446d2e489d235c49","SpanId":"696ab09a6b3fcdbb","Properties":{"ElapsedMilliseconds":60.1841,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000006","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2490422+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2517523+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2651679+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2738350+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2775746+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2796451+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2809891+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.7569,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2828472+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.2840758+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":32.3744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.3744"}]}}
{"Timestamp":"2024-11-11T14:32:16.2855096+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6834c6c2e0e85e0f3c787ea439361b39","SpanId":"21e0b74168520c39","Properties":{"ElapsedMilliseconds":36.4837,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000007","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5569039+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5607555+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5626824+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5711576+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5771235+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5800851+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5818008+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4483,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5835969+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.5848938+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.2075,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.2075"}]}}
{"Timestamp":"2024-11-11T14:32:16.5865162+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7ad25dc387e9f0844b85f312a2741ac1","SpanId":"c64cd2d7ec28aacf","Properties":{"ElapsedMilliseconds":29.6348,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000008","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8328872+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8358805+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8371986+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8457093+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8530448+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8562282+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8583564+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.2324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8600918+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:16.8609131+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.0764,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.0764"}]}}
{"Timestamp":"2024-11-11T14:32:16.8622182+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4c4da2279f06b231ad92765e66b58fa","SpanId":"54fbd2bddf4659c7","Properties":{"ElapsedMilliseconds":29.3551,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NI:00000009","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NI"}}
{"Timestamp":"2024-11-11T14:32:17.1828947+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.1856909+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.1872379+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.1947317+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.2026248+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.2057068+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.2072298+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.4952,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.2088343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:17.2101863+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":24.5942,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.5942"}]}}
{"Timestamp":"2024-11-11T14:32:17.2119457+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d6d9afa88f7205e39ae866b06b9e240","SpanId":"ffea506051941907","Properties":{"ElapsedMilliseconds":29.0984,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NJ"}}
{"Timestamp":"2024-11-11T14:32:40.0687742+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.0714853+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.0732440+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.0833636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.1013855+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"elapsed":"13","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.1050437+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.1064072+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.3262,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.1079807+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:40.1090763+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":37.6551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.6551"}]}}
{"Timestamp":"2024-11-11T14:32:40.1109034+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f01c4e7f12f62ba5e9f71cb3e9b4104","SpanId":"2e12aa58a3efec18","Properties":{"ElapsedMilliseconds":42.1508,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.7759524+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.7865336+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.7886194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.7965494+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.8009617+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.8029701+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.8744,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.8055297+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:32:41.8069478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":20.4744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4744"}]}}
{"Timestamp":"2024-11-11T14:32:41.8089216+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"14955f3ecc6c49f5a75aba93c41ce6e4","SpanId":"be29a91dfecf584a","Properties":{"ElapsedMilliseconds":32.9913,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NK:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NK"}}
{"Timestamp":"2024-11-11T14:33:01.9371986+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9403059+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9435862+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9517877+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9580706+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9614093+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9627010+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.1064,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9645136+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:01.9656858+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.4223,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.4223"}]}}
{"Timestamp":"2024-11-11T14:33:01.9671878+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba5d3155b5f0cd43c0267c0e57a9672b","SpanId":"a814f73427c85619","Properties":{"ElapsedMilliseconds":30.0891,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NL"}}
{"Timestamp":"2024-11-11T14:33:07.5580950+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5600190+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5612919+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5728191+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5879460+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5934425+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5954344+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":31.5092,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5985925+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:07.5996424+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":39.6901,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.6901"}]}}
{"Timestamp":"2024-11-11T14:33:07.6013394+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82080a8705f03af3cd27544f120c6a42","SpanId":"c2abe0fae18287f4","Properties":{"ElapsedMilliseconds":43.2622,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9347158+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9375502+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9544513+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9613047+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9698397+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9723307+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0e629627-f1de-4239-b658-425e07ecd06c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9732813+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.9503,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9747022+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:33:16.9757342+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":38.232,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.2320"}]}}
{"Timestamp":"2024-11-11T14:33:16.9773664+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e30fdbe2d621a7f95983c1cecd748fbe","SpanId":"94f3b9ac721abcc9","Properties":{"ElapsedMilliseconds":42.6817,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN823FBG93NM:00000002","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN823FBG93NM"}}
{"Timestamp":"2024-11-11T14:41:41.5293566+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T14:41:41.8290527+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:41:41.8938488+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:41:41.8952071+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:41:41.8960525+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:41:43.3704674+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6326f0f7023bcf48570d4654e2a28104","SpanId":"34c8ee97b7783db3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SF:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824H4D93SF"}}
{"Timestamp":"2024-11-11T14:41:44.6440998+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6326f0f7023bcf48570d4654e2a28104","SpanId":"34c8ee97b7783db3","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":72.3603,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"72.3603"}]}}
{"Timestamp":"2024-11-11T14:41:44.6524001+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa06dacffc4d8a7cda0239961d852a39","SpanId":"5413052000124fe7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SG:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824H4D93SG"}}
{"Timestamp":"2024-11-11T14:41:44.6607866+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6326f0f7023bcf48570d4654e2a28104","SpanId":"34c8ee97b7783db3","Properties":{"ElapsedMilliseconds":1301.3461,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SF:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824H4D93SF"}}
{"Timestamp":"2024-11-11T14:41:44.6774668+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"421cf44d0e8ac2e38f453c71a25a9c70","SpanId":"676c344491d25826","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SF:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824H4D93SF"}}
{"Timestamp":"2024-11-11T14:41:44.6803320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa06dacffc4d8a7cda0239961d852a39","SpanId":"5413052000124fe7","Properties":{"ElapsedMilliseconds":28.0708,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SG:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824H4D93SG"}}
{"Timestamp":"2024-11-11T14:41:44.7227776+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"421cf44d0e8ac2e38f453c71a25a9c70","SpanId":"676c344491d25826","Properties":{"ElapsedMilliseconds":45.3351,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SF:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824H4D93SF"}}
{"Timestamp":"2024-11-11T14:41:44.7714150+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d4ea6ea319931541ceb21379953f1be","SpanId":"399586d1bdfaa0e1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SF:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824H4D93SF"}}
{"Timestamp":"2024-11-11T14:41:44.9775051+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d4ea6ea319931541ceb21379953f1be","SpanId":"399586d1bdfaa0e1","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":195.0826,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"195.0826"}]}}
{"Timestamp":"2024-11-11T14:41:44.9809762+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d4ea6ea319931541ceb21379953f1be","SpanId":"399586d1bdfaa0e1","Properties":{"ElapsedMilliseconds":209.1287,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SF:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824H4D93SF"}}
{"Timestamp":"2024-11-11T14:41:55.0976435+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":48,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:55.1270564+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:55.2260359+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:55.2551519+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:57.0825516+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"elapsed":"36","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:57.4233234+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"elapsed":"29","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:57.4616604+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:57.4731065+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2213.0353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:57.4751563+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:41:57.4779932+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2353.8446,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2353.8446"}]}}
{"Timestamp":"2024-11-11T14:41:57.4920727+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"003f409106235ebfd91ac2a67a023cc8","SpanId":"89357bff290005ae","Properties":{"ElapsedMilliseconds":2394.4971,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SI"}}
{"Timestamp":"2024-11-11T14:42:16.5687105+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:16.5909841+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:16.5955786+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:18.9312082+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:19.0072202+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:19.0171999+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:19.0185057+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":2420.0556,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:19.0197799+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:19.0206121+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":2431.153,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2431.1530"}]}}
{"Timestamp":"2024-11-11T14:42:19.0223221+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"240a89850f4192fb36a1e4c3855918a8","SpanId":"7c5671394e412118","Properties":{"ElapsedMilliseconds":2453.6476,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SJ"}}
{"Timestamp":"2024-11-11T14:42:24.1195641+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:24.1255061+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:24.1266949+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:25.4710523+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:25.4796909+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:25.4828201+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:25.4838876+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1355.0638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:25.4851311+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:25.4859993+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1363.2462,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1363.2462"}]}}
{"Timestamp":"2024-11-11T14:42:25.4874697+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b48aa13e5b2c4aa4b863e59186e7f81","SpanId":"32715dc5c66b91a7","Properties":{"ElapsedMilliseconds":1367.9422,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SK"}}
{"Timestamp":"2024-11-11T14:42:35.5523775+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:35.5591151+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:35.5712709+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:36.7286216+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:36.7350059+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:36.7387188+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:36.7401042+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1165.7447,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:36.7413619+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:36.7424588+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":1183.4743,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1183.4743"}]}}
{"Timestamp":"2024-11-11T14:42:36.7442904+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cea8cc97e32d5a659d877d56450297c0","SpanId":"248a936d5c18401b","Properties":{"ElapsedMilliseconds":1191.9495,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SL"}}
{"Timestamp":"2024-11-11T14:42:46.2740121+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":477,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:46.2792522+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:46.2814165+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:49.6949339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:49.7016991+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:49.7041723+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:49.7052993+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":3421.3746,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:49.7065460+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:42:49.7074125+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":3428.3391,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3428.3391"}]}}
{"Timestamp":"2024-11-11T14:42:49.7089209+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2af807186ea41de7e6c9c57ffcc379f","SpanId":"8a621b461b850513","Properties":{"ElapsedMilliseconds":3434.9417,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SM"}}
{"Timestamp":"2024-11-11T14:43:50.8578073+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.8658379+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.8668808+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.8912261+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.8994035+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.9028147+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.9041036+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":35.3904,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.9052233+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:50.9064252+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":40.7475,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.7475"}]}}
{"Timestamp":"2024-11-11T14:43:50.9082931+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d3ce8c7ea3f406412afed638c70456e7","SpanId":"d2b2089bed4260a8","Properties":{"ElapsedMilliseconds":50.5474,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93SN"}}
{"Timestamp":"2024-11-11T14:43:53.3152784+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:53.3189582+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:53.3203693+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:54.7769483+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:54.7825718+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:54.7839996+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.7461202+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"elapsed":"3,968","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:58.7569609+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:58.7664501+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:58.7687136+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":5445.8989,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:58.7693263+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.7711808+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:58.7767144+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":5457.8931,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5457.8931"}]}}
{"Timestamp":"2024-11-11T14:43:58.7772011+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.7788824+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"03d5cfcbf5b58b5761d2df088655ba31","SpanId":"78f1bdcc69c2060d","Properties":{"ElapsedMilliseconds":5463.5693,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SO"}}
{"Timestamp":"2024-11-11T14:43:58.7865288+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.7828168+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.7930863+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":4006.7689,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.7942289+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.7952930+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":4012.8499,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4012.8499"}]}}
{"Timestamp":"2024-11-11T14:43:58.7979503+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"797659e0f5a4281ea93c7a0a067c0dd4","SpanId":"8c66902abacf07b4","Properties":{"ElapsedMilliseconds":4021.0259,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SP"}}
{"Timestamp":"2024-11-11T14:43:58.8039191+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8237165+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8237214+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8278130+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8278129+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"041eb13a-b92a-43d5-8af0-914f4dc19f34","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8595758+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8625373+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8626740+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"041eb13a-b92a-43d5-8af0-914f4dc19f34","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8686299+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":39.1817,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8690817+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"041eb13a-b92a-43d5-8af0-914f4dc19f34","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8699129+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8721793+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":80.0923,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"80.0923"}]}}
{"Timestamp":"2024-11-11T14:43:58.8738194+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbfe1e3d3420662d9d7449a16821cd3d","SpanId":"9dc41ecc9d945960","Properties":{"ElapsedMilliseconds":89.3114,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SQ"}}
{"Timestamp":"2024-11-11T14:43:58.8752333+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":43.3459,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8787752+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:43:58.8801698+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":70.6367,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.6367"}]}}
{"Timestamp":"2024-11-11T14:43:58.8826000+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1e98b8bc35480047e215f1425358af5","SpanId":"63e58073cb959137","Properties":{"ElapsedMilliseconds":78.7198,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93SR"}}
{"Timestamp":"2024-11-11T14:44:16.1527199+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:16.1557468+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:16.1569029+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8602636+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8669368+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8702143+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8718430+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1712.834,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8737312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8749963+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1719.385,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1719.3850"}]}}
{"Timestamp":"2024-11-11T14:44:17.8825557+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da39eabdf218b8480f96a85d2048b8cb","SpanId":"f358441f753e9935","Properties":{"ElapsedMilliseconds":1729.8391,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SS"}}
{"Timestamp":"2024-11-11T14:44:17.8880806+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.8937876+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.8950993+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.9042670+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.9072367+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.9088050+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.7855,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.9102954+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:17.9115370+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.4067,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4067"}]}}
{"Timestamp":"2024-11-11T14:44:17.9136148+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4d3038044d65d019681a5c4c56a0dec","SpanId":"f7b6f32627a3eace","Properties":{"ElapsedMilliseconds":25.5672,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93ST:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93ST"}}
{"Timestamp":"2024-11-11T14:44:19.9605341+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:19.9664096+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:19.9746240+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.5877365+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.5938101+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.5968945+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.5984057+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1613.4636,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.5996528+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.6007014+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":1634.4228,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1634.4228"}]}}
{"Timestamp":"2024-11-11T14:44:21.6026578+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da9330bb39f1b150b3eaab4d2beb2979","SpanId":"fc3c66fc657a6f11","Properties":{"ElapsedMilliseconds":1642.0107,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93SU"}}
{"Timestamp":"2024-11-11T14:44:21.6134401+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6337050+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6350244+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6436436+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6466395+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6490466+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.8067,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6508740+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:21.6528635+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.5624,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.5624"}]}}
{"Timestamp":"2024-11-11T14:44:21.6548112+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"526a52dd1ff5eb78808c01e99c79ae01","SpanId":"3ac1778f55552481","Properties":{"ElapsedMilliseconds":41.4163,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93SV:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93SV"}}
{"Timestamp":"2024-11-11T14:44:24.2457228+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:24.2490424+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:24.2502833+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:25.7861779+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:25.7929821+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:25.8067026+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:25.8081608+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1555.6301,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:25.8094394+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:44:25.8106439+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":1561.7098,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1561.7098"}]}}
{"Timestamp":"2024-11-11T14:44:25.8129873+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38e624b9745517bab3b6e8d525f76a32","SpanId":"84a1c2cac62a22fa","Properties":{"ElapsedMilliseconds":1567.2763,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T0"}}
{"Timestamp":"2024-11-11T14:47:20.9301645+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9380789+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9394632+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9503526+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"elapsed":"4","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9579911+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9609851+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9627167+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":20.7999,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9641339+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:20.9652808+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":27.6025,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.6025"}]}}
{"Timestamp":"2024-11-11T14:47:20.9675580+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"59139810ce03e0bc1317382099da25fa","SpanId":"68f8d3a46d0b90cf","Properties":{"ElapsedMilliseconds":37.5028,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T1"}}
{"Timestamp":"2024-11-11T14:47:57.8885864+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:47:57.8950015+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:47:57.9046216+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:47:57.9074638+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:47:57.9084339+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:47:57.9100947+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8224635+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:48:01.8255643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8380523+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:48:01.8380505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8435096+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:48:01.8445372+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8455746+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":3924.5921,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:48:01.8468846+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":3915.4784,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8485526+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:48:01.8496876+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8508763+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":3946.3738,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3946.3738"}]}}
{"Timestamp":"2024-11-11T14:48:01.8518375+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":3944.6781,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3944.6781"}]}}
{"Timestamp":"2024-11-11T14:48:01.8535734+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e4776f158a306588bd2f27ec2e5aa854","SpanId":"d1385c5d80bcb307","Properties":{"ElapsedMilliseconds":3965.8083,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T2"}}
{"Timestamp":"2024-11-11T14:48:01.8552043+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0bff9f12cad0af8102141545f4a9c859","SpanId":"b6abcd91dc898671","Properties":{"ElapsedMilliseconds":3960.2553,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T3"}}
{"Timestamp":"2024-11-11T14:48:01.8669169+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.8736659+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.8775028+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.8785642+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.8796224+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.8813119+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"041eb13a-b92a-43d5-8af0-914f4dc19f34","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.8897315+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.8929451+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f47a5b63-2f2a-480c-84a4-d6efb50d2584","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.8937040+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"041eb13a-b92a-43d5-8af0-914f4dc19f34","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.8946466+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.7122,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.8979202+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"041eb13a-b92a-43d5-8af0-914f4dc19f34","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.8995993+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.9012685+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.2308,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.9023545+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":26.2439,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.2439"}]}}
{"Timestamp":"2024-11-11T14:48:01.9037812+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:01.9055589+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f25c68456c73fb25b0410ef8d2e6272","SpanId":"c8403dddab4c16e2","Properties":{"ElapsedMilliseconds":39.0269,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824H4D93T4"}}
{"Timestamp":"2024-11-11T14:48:01.9076552+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":29.4027,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.4027"}]}}
{"Timestamp":"2024-11-11T14:48:01.9151707+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3e59d34d84e5a002feffaac53e461c3b","SpanId":"c3e995b75f8cf4b4","Properties":{"ElapsedMilliseconds":41.5294,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824H4D93T5"}}
{"Timestamp":"2024-11-11T14:48:14.6452482+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:48:14.6495149+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:48:14.6506885+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:48:32.3390820+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:51:55.2883928+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"elapsed":"7","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:51:55.2976041+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:51:55.3014785+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":220648.1426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:51:55.3031460+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:51:55.3048757+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":220655.4965,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"220655.4965"}]}}
{"Timestamp":"2024-11-11T14:51:55.3068625+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65ab8ed236893b08ddc34c44be6f7ee1","SpanId":"107ed1a5410fa960","Properties":{"ElapsedMilliseconds":220661.6513,"StatusCode":499,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T6"}}
{"Timestamp":"2024-11-11T14:52:18.9100526+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9163260+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9174878+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9279050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9351593+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9386443+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ad0da718-d13d-4872-8e08-59432be1e242","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9399434+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":20.899,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9411630+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:52:18.9423617+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":26.1583,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1583"}]}}
{"Timestamp":"2024-11-11T14:52:18.9438435+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d34a8e4add34424290217417733b6b0d","SpanId":"7751061d2078ba5c","Properties":{"ElapsedMilliseconds":33.8377,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824H4D93T7"}}
{"Timestamp":"2024-11-11T14:53:23.6950500+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:53:23.7023800+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:53:23.7119795+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:53:23.7130118+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:53:23.7098457+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:53:23.7246431+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:53:29.5297715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"elapsed":"2,004","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:54:01.1462275+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:54:26.3749439+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"elapsed":"93","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:54:26.3749443+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"elapsed":"93","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:54:26.4751688+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:54:26.4795914+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":58951.2191,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:54:26.5329055+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:54:26.5342572+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":62824.5188,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62824.5188"}]}}
{"Timestamp":"2024-11-11T14:54:26.5362880+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"95b6f37e76bc99681cdaf2d4c74c0f69","SpanId":"500c68536f6fbabe","Properties":{"ElapsedMilliseconds":62841.2574,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T8"}}
{"Timestamp":"2024-11-11T14:54:27.5647693+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0d5f7a7a-474a-4862-a6ba-41c747acd017","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:54:27.5687994+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":63850.6433,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:54:27.5699691+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:54:27.5713909+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":63859.6113,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63859.6113"}]}}
{"Timestamp":"2024-11-11T14:54:27.5733935+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc6bde6d9def5211c2c771ada0924302","SpanId":"3a21a744d7254f2a","Properties":{"ElapsedMilliseconds":63870.9811,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824H4D93T9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824H4D93T9"}}
{"Timestamp":"2024-11-11T14:55:58.0347588+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T14:55:58.5099652+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:55:58.5967212+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:55:58.6006142+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:55:58.6013564+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:55:59.7239007+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"96f38e7c89afc4ac0ef74d0c6a3e73fb","SpanId":"eb3e902528b1e2bb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5E:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824P3MUH5E"}}
{"Timestamp":"2024-11-11T14:56:00.5313820+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"96f38e7c89afc4ac0ef74d0c6a3e73fb","SpanId":"eb3e902528b1e2bb","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":154.2709,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"154.2709"}]}}
{"Timestamp":"2024-11-11T14:56:00.5461705+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28c76e6ee95b74276d2da9ff71425f41","SpanId":"2c8233f34bedcc4c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5D:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824P3MUH5D"}}
{"Timestamp":"2024-11-11T14:56:00.5871514+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f86b121e4131e442c1f0d6de4724cfd6","SpanId":"ed46afd60eda1e9e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5F:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824P3MUH5F"}}
{"Timestamp":"2024-11-11T14:56:00.6013443+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"96f38e7c89afc4ac0ef74d0c6a3e73fb","SpanId":"eb3e902528b1e2bb","Properties":{"ElapsedMilliseconds":921.3833,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5E:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824P3MUH5E"}}
{"Timestamp":"2024-11-11T14:56:00.6081499+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28c76e6ee95b74276d2da9ff71425f41","SpanId":"2c8233f34bedcc4c","Properties":{"ElapsedMilliseconds":62.3414,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5D:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824P3MUH5D"}}
{"Timestamp":"2024-11-11T14:56:00.7415757+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f86b121e4131e442c1f0d6de4724cfd6","SpanId":"ed46afd60eda1e9e","Properties":{"ElapsedMilliseconds":154.461,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5F:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824P3MUH5F"}}
{"Timestamp":"2024-11-11T14:56:00.8164011+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"127ea5f80c3f707cfd38ff3a05d64d3f","SpanId":"b8b90a96d356fc75","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5F:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824P3MUH5F"}}
{"Timestamp":"2024-11-11T14:56:01.0021434+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"127ea5f80c3f707cfd38ff3a05d64d3f","SpanId":"b8b90a96d356fc75","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":178.7034,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"178.7034"}]}}
{"Timestamp":"2024-11-11T14:56:01.0080410+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"127ea5f80c3f707cfd38ff3a05d64d3f","SpanId":"b8b90a96d356fc75","Properties":{"ElapsedMilliseconds":191.6759,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5F:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824P3MUH5F"}}
{"Timestamp":"2024-11-11T14:56:02.8067594+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:02.8125224+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:02.8844704+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:02.9053642+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6d08fef5-e454-4966-9a14-df63f92691bc","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:04.7752947+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"elapsed":"55","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d08fef5-e454-4966-9a14-df63f92691bc","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:05.1299286+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"elapsed":"29","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d08fef5-e454-4966-9a14-df63f92691bc","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:05.1607957+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6d08fef5-e454-4966-9a14-df63f92691bc","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:05.1718871+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2262.0013,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:05.1737876+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:05.1766102+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2366.4487,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2366.4487"}]}}
{"Timestamp":"2024-11-11T14:56:05.2105239+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dfcb00e3b82a32a3748d0686a4e64f6d","SpanId":"40974fc75e9f16d6","Properties":{"ElapsedMilliseconds":2403.806,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824P3MUH5G"}}
{"Timestamp":"2024-11-11T14:56:39.7671985+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:39.7759036+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:39.7981430+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:42.6562899+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:42.6664132+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:42.6722938+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.1194791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:45.1233360+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.1945790+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.1945789+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:45.2120092+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:45.2120092+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.2137987+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":5413.1325,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:45.2151242+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":2540.1258,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.2166941+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:45.2184110+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.2193898+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":5445.6116,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5445.6116"}]}}
{"Timestamp":"2024-11-11T14:56:45.2205802+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":2557.4432,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2557.4432"}]}}
{"Timestamp":"2024-11-11T14:56:45.2228565+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a55d0d4a6a70b47369a283df31ced54","SpanId":"8ab36b683acf0cc1","Properties":{"ElapsedMilliseconds":5455.6921,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5H"}}
{"Timestamp":"2024-11-11T14:56:45.2241940+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cbb10bd95f127b1011122c238c74f7d5","SpanId":"02cdbdf358a969f9","Properties":{"ElapsedMilliseconds":2567.9451,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5I"}}
{"Timestamp":"2024-11-11T14:56:45.2349019+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.2421643+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3044813+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3044813+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3077615+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"16f4ed52-0e68-4dc5-90c1-979cfd4e92fc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3078720+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4cb921d4-228f-423a-8eb8-af2914ef1e00","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3465807+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"16f4ed52-0e68-4dc5-90c1-979cfd4e92fc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3476574+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4cb921d4-228f-423a-8eb8-af2914ef1e00","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3504676+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"16f4ed52-0e68-4dc5-90c1-979cfd4e92fc","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3543898+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4cb921d4-228f-423a-8eb8-af2914ef1e00","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3601956+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":50.6257,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3601956+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":48.8037,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3616594+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3629564+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:56:45.3644753+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":125.5935,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"125.5935"}]}}
{"Timestamp":"2024-11-11T14:56:45.3669557+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":75.8816,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"75.8816"}]}}
{"Timestamp":"2024-11-11T14:56:45.3692919+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6cd615ab468aee8fbcbcf63d644d6404","SpanId":"67f79ca9bd2a3482","Properties":{"ElapsedMilliseconds":134.5327,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824P3MUH5J"}}
{"Timestamp":"2024-11-11T14:56:45.3711591+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5a28391c0440b6b4cc5e87118dd65523","SpanId":"7d4911752a6fdfb5","Properties":{"ElapsedMilliseconds":129.0748,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-29&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5K:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824P3MUH5K"}}
{"Timestamp":"2024-11-11T14:57:30.3840584+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce5ac6121467dbcae1d729a09e2c0d1e","SpanId":"c952a0020c4a02e2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824P3MUH5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5L"}}
{"Timestamp":"2024-11-11T14:57:30.3875991+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce5ac6121467dbcae1d729a09e2c0d1e","SpanId":"c952a0020c4a02e2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824P3MUH5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5L"}}
{"Timestamp":"2024-11-11T14:57:30.3886883+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce5ac6121467dbcae1d729a09e2c0d1e","SpanId":"c952a0020c4a02e2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5L"}}
{"Timestamp":"2024-11-11T14:57:32.5547897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce5ac6121467dbcae1d729a09e2c0d1e","SpanId":"c952a0020c4a02e2","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9414e19e-05f5-40af-9261-6b720f81d36b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824P3MUH5L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824P3MUH5L"}}
{"Timestamp":"2024-11-11T14:59:37.6101040+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T14:59:37.9185733+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:59:38.1511014+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:59:38.1861339+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:59:38.2067902+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T14:59:38.8104357+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1b89425dd63e7043bf5ec795750778e","SpanId":"c08afd110bd5129c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE56:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824R52NE56"}}
{"Timestamp":"2024-11-11T14:59:39.2061710+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b1b89425dd63e7043bf5ec795750778e","SpanId":"c08afd110bd5129c","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":116.9592,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"116.9592"}]}}
{"Timestamp":"2024-11-11T14:59:39.2191444+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1b89425dd63e7043bf5ec795750778e","SpanId":"c08afd110bd5129c","Properties":{"ElapsedMilliseconds":416.4581,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE56:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824R52NE56"}}
{"Timestamp":"2024-11-11T14:59:39.2205824+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8f7f2bc518d202a863145c9585655537","SpanId":"8ea76a9fcddc085e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE55:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824R52NE55"}}
{"Timestamp":"2024-11-11T14:59:39.2897309+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af13d36f53d4e8132146de1680a8bcaa","SpanId":"bc61a37e5058441c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE57:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824R52NE57"}}
{"Timestamp":"2024-11-11T14:59:39.3483559+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8f7f2bc518d202a863145c9585655537","SpanId":"8ea76a9fcddc085e","Properties":{"ElapsedMilliseconds":127.7518,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE55:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824R52NE55"}}
{"Timestamp":"2024-11-11T14:59:39.4130544+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af13d36f53d4e8132146de1680a8bcaa","SpanId":"bc61a37e5058441c","Properties":{"ElapsedMilliseconds":123.3595,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE57:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824R52NE57"}}
{"Timestamp":"2024-11-11T14:59:39.4667833+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7e5fce0f6098f3b58d815daf6687ed2","SpanId":"acd77eaddabc1be9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE57:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824R52NE57"}}
{"Timestamp":"2024-11-11T14:59:39.7121474+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7e5fce0f6098f3b58d815daf6687ed2","SpanId":"acd77eaddabc1be9","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":241.3775,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"241.3775"}]}}
{"Timestamp":"2024-11-11T14:59:39.7233480+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7e5fce0f6098f3b58d815daf6687ed2","SpanId":"acd77eaddabc1be9","Properties":{"ElapsedMilliseconds":256.5823,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE57:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824R52NE57"}}
{"Timestamp":"2024-11-11T15:01:14.2547179+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:14.2656476+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:14.3414156+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:14.3668126+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab638145-ea6d-4b7d-9cdd-a4538e15363a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:15.7835875+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"elapsed":"35","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab638145-ea6d-4b7d-9cdd-a4538e15363a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:16.0627532+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab638145-ea6d-4b7d-9cdd-a4538e15363a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:16.0869901+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab638145-ea6d-4b7d-9cdd-a4538e15363a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:16.0989474+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1726.0896,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:16.1009491+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:16.1031536+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1840.8435,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1840.8435"}]}}
{"Timestamp":"2024-11-11T15:01:16.1546895+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7759905ddc7d16f53c607a37c8dda23f","SpanId":"ca2934c23b0040fc","Properties":{"ElapsedMilliseconds":1899.819,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE58:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824R52NE58"}}
{"Timestamp":"2024-11-11T15:01:55.4066513+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:01:55.4120423+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:01:55.4190137+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:01:55.4201481+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:01:55.4247153+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:01:55.4247622+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:01:55.5518137+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:01:55.5564439+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:02:51.4164891+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:02:51.4163318+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:02:53.9874910+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:02:53.9875334+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:02:53.9902348+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":58560.4655,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:02:53.9923242+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":58565.1568,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:02:53.9934633+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:02:53.9946599+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:02:53.9958384+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":58577.6597,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"58577.6597"}]}}
{"Timestamp":"2024-11-11T15:02:53.9998801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e090dee0f05e7af65a76e800099771a","SpanId":"eaf879d892c21e87","Properties":{"ElapsedMilliseconds":58587.8825,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5A"}}
{"Timestamp":"2024-11-11T15:02:53.9968522+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":58579.6808,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"58579.6808"}]}}
{"Timestamp":"2024-11-11T15:02:54.0044899+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"829c4fa43977e555a1d34aeb184ff9ea","SpanId":"b5e87174b54ef364","Properties":{"ElapsedMilliseconds":58598.0851,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE59:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE59"}}
{"Timestamp":"2024-11-11T15:02:54.0096960+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.0122255+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.0407807+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.0407807+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.0449894+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bb7eb4fe-1952-43d4-9857-2d1680427756","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.0453550+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2e41b59a-a1d1-4ee0-a8b7-a1a87b6a3531","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.1341031+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2e41b59a-a1d1-4ee0-a8b7-a1a87b6a3531","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.1371256+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2e41b59a-a1d1-4ee0-a8b7-a1a87b6a3531","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.1378855+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bb7eb4fe-1952-43d4-9857-2d1680427756","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.1423658+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bb7eb4fe-1952-43d4-9857-2d1680427756","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.1456833+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":97.5298,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.1456834+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":95.0968,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.1480325+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.1507989+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:02:54.1522480+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":139.3104,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.3104"}]}}
{"Timestamp":"2024-11-11T15:02:54.1536789+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":135.9326,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"135.9326"}]}}
{"Timestamp":"2024-11-11T15:02:54.1558474+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e35cc473c6f3ba7a5bc78d34a5c4cb07","SpanId":"106e45d17943c8c7","Properties":{"ElapsedMilliseconds":146.2047,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824R52NE5B"}}
{"Timestamp":"2024-11-11T15:02:54.1578189+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11ca6eb64483c65447f26eaea85968e4","SpanId":"bdbf36bcaaa11eb0","Properties":{"ElapsedMilliseconds":145.643,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5C:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824R52NE5C"}}
{"Timestamp":"2024-11-11T15:03:05.4365264+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:05.4399420+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:05.4412426+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:05.4522421+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:11.0482789+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"elapsed":"4","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:11.0547665+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b31c4ff4-07fc-4039-a564-c7ab205cb712","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:11.0563770+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":5612.8844,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:11.0574642+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:03:11.0583524+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":5618.575,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5618.5750"}]}}
{"Timestamp":"2024-11-11T15:03:11.0599520+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6a71aafd73d67f4f80d1691aa0be3a81","SpanId":"3572a9866ddc119d","Properties":{"ElapsedMilliseconds":5623.4338,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824R52NE5D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824R52NE5D"}}
{"Timestamp":"2024-11-11T15:05:07.1981210+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T15:05:07.8351580+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:05:08.0433053+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:05:08.3692714+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e35156b5fa6659ad10a62a8699bfe7a0","SpanId":"b0af9d2d4beecf2d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19U:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824U7CI19U"}}
{"Timestamp":"2024-11-11T15:05:08.3737999+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:05:08.3881427+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:05:08.7352172+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e35156b5fa6659ad10a62a8699bfe7a0","SpanId":"b0af9d2d4beecf2d","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":197.6669,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"197.6669"}]}}
{"Timestamp":"2024-11-11T15:05:08.7891374+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"afc232317d550ce45ee92d3d9efb9aa4","SpanId":"63b5b8a54f1df2de","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19T:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824U7CI19T"}}
{"Timestamp":"2024-11-11T15:05:08.7899224+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"489b3274b12f812561cae5af8f3f9c9f","SpanId":"b21f30e1ed318587","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19V:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824U7CI19V"}}
{"Timestamp":"2024-11-11T15:05:08.8332971+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e35156b5fa6659ad10a62a8699bfe7a0","SpanId":"b0af9d2d4beecf2d","Properties":{"ElapsedMilliseconds":476.6839,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19U:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN824U7CI19U"}}
{"Timestamp":"2024-11-11T15:05:08.8380928+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"afc232317d550ce45ee92d3d9efb9aa4","SpanId":"63b5b8a54f1df2de","Properties":{"ElapsedMilliseconds":49.2192,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19T:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN824U7CI19T"}}
{"Timestamp":"2024-11-11T15:05:09.0046558+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"489b3274b12f812561cae5af8f3f9c9f","SpanId":"b21f30e1ed318587","Properties":{"ElapsedMilliseconds":214.8831,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19V:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN824U7CI19V"}}
{"Timestamp":"2024-11-11T15:05:09.0725878+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a94bb914e54bbd604352efa6b7c93587","SpanId":"78055e4a65e9df27","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19V:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824U7CI19V"}}
{"Timestamp":"2024-11-11T15:05:09.2929482+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a94bb914e54bbd604352efa6b7c93587","SpanId":"78055e4a65e9df27","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":216.2216,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"216.2216"}]}}
{"Timestamp":"2024-11-11T15:05:09.4928691+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a94bb914e54bbd604352efa6b7c93587","SpanId":"78055e4a65e9df27","Properties":{"ElapsedMilliseconds":420.3051,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI19V:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN824U7CI19V"}}
{"Timestamp":"2024-11-11T15:05:22.0993757+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:22.1099957+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:22.1972379+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:22.2405273+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:23.9024948+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"elapsed":"37","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:24.2313704+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"elapsed":"28","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:24.2585809+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:24.2687271+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2021.7451,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:24.2709089+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:24.2750175+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2169.1054,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2169.1054"}]}}
{"Timestamp":"2024-11-11T15:05:24.2883480+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"066f9080a3b5845dd3294ba383010f82","SpanId":"d2e7237330945a46","Properties":{"ElapsedMilliseconds":2189.1045,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1A0"}}
{"Timestamp":"2024-11-11T15:05:54.2163175+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.2237972+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.2338167+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.3602259+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.3687889+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.3701493+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.4205836+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.5125026+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.5357274+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"elapsed":"17","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.5438515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.5536171+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.5536171+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.5552740+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":317.5645,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.5563382+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":183.6985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.5576100+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.5586682+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.5595783+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":337.6037,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"337.6037"}]}}
{"Timestamp":"2024-11-11T15:05:54.5606628+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":194.9122,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"194.9122"}]}}
{"Timestamp":"2024-11-11T15:05:54.5636392+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f86c21ee7d66ff54766204300f2e1eae","SpanId":"23a43d03a1c1c3ff","Properties":{"ElapsedMilliseconds":349.15,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A1"}}
{"Timestamp":"2024-11-11T15:05:54.5756693+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.5674567+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f9524b10cc6b64f722972bd62bcddaab","SpanId":"1ccad83514dc9701","Properties":{"ElapsedMilliseconds":207.2499,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A2"}}
{"Timestamp":"2024-11-11T15:05:54.5761916+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6103065+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6103065+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6164544+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6178857+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6600962+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6657869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6675349+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6706852+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6884952+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":69.3304,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6884952+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":64.8972,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6904884+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6948495+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":114.9733,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"114.9733"}]}}
{"Timestamp":"2024-11-11T15:05:54.6934203+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:54.6967459+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f154addb4f7fb129ce1bb887f2ef4f4","SpanId":"d279eea6698b5ed9","Properties":{"ElapsedMilliseconds":121.1985,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A3"}}
{"Timestamp":"2024-11-11T15:05:54.6991779+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":109.7523,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"109.7523"}]}}
{"Timestamp":"2024-11-11T15:05:54.7046999+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7145e48225e3bce19ddb2448c10a5295","SpanId":"6b71646b23f166e4","Properties":{"ElapsedMilliseconds":128.5221,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1A4"}}
{"Timestamp":"2024-11-11T15:05:56.8211365+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8244209+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8253948+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8371303+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8456762+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8492391+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8503416+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.3074,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8513865+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8522692+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.9751,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.9751"}]}}
{"Timestamp":"2024-11-11T15:05:56.8537801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6d557bb0980144160c7b67c8ffc4be1","SpanId":"fbdcb4473db29282","Properties":{"ElapsedMilliseconds":32.7872,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A5"}}
{"Timestamp":"2024-11-11T15:05:56.8558702+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8594442+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8604356+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8685491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8714778+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8732457+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.1892,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8749176+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:56.8761750+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.1186,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1186"}]}}
{"Timestamp":"2024-11-11T15:05:56.8780769+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef965931802b7d04737b35f7eca011e1","SpanId":"652a8c21b194a6e1","Properties":{"ElapsedMilliseconds":22.2293,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A6"}}
{"Timestamp":"2024-11-11T15:05:57.6857213+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.6963192+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7034893+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7132770+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7199318+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7227755+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7241500+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.3254,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7253874+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7264194+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.2563,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.2563"}]}}
{"Timestamp":"2024-11-11T15:05:57.7282460+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1497368b55afa6781ab57d14c50d4e7e","SpanId":"85a3a29cc6ba5107","Properties":{"ElapsedMilliseconds":42.7118,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A7"}}
{"Timestamp":"2024-11-11T15:05:57.7311993+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7347474+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7359545+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7433411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7462959+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7482476+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.2763,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7501376+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.7515017+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.1376,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1376"}]}}
{"Timestamp":"2024-11-11T15:05:57.7534774+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02c559c476caddaa5499560a6a7fb308","SpanId":"728c1ba79148bcd8","Properties":{"ElapsedMilliseconds":22.3515,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1A8"}}
{"Timestamp":"2024-11-11T15:05:57.8746248+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.8785128+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.8822175+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.8861998+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.8871787+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.8883015+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9246241+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"elapsed":"30","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.9480307+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"elapsed":"20","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9567728+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.9589171+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9627492+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.9653687+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9664470+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":75.7555,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.9679208+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":71.9661,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9693613+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.9706592+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9719679+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":89.8993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"89.8993"}]}}
{"Timestamp":"2024-11-11T15:05:57.9731800+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":87.0926,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"87.0926"}]}}
{"Timestamp":"2024-11-11T15:05:57.9755440+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1fb92203d64c4d8b7676740e128aca4","SpanId":"a203c964bbdf23ea","Properties":{"ElapsedMilliseconds":100.97,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1A9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1A9"}}
{"Timestamp":"2024-11-11T15:05:57.9775326+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa48903fed4b1b82dfb0a33b4441b704","SpanId":"80d23229affef008","Properties":{"ElapsedMilliseconds":99.0027,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AA"}}
{"Timestamp":"2024-11-11T15:05:57.9915325+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:57.9921195+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:57.9961439+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:57.9989979+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:58.0009271+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:58.0025891+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:58.0147458+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:58.0156312+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:58.0187540+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:58.0219155+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:58.0235436+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.6033,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:58.0255027+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":17.9145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:58.0270790+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:58.0287861+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:58.0306827+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":35.1193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.1193"}]}}
{"Timestamp":"2024-11-11T15:05:58.0330827+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":34.8295,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.8295"}]}}
{"Timestamp":"2024-11-11T15:05:58.0351809+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"306516ba4a62c56b8e6baec98ff95bf1","SpanId":"3caf282901159ebf","Properties":{"ElapsedMilliseconds":43.8207,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AC"}}
{"Timestamp":"2024-11-11T15:05:58.0376510+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88324d1962af631286b907230e45ddd5","SpanId":"e3141792da519f14","Properties":{"ElapsedMilliseconds":45.6478,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AB"}}
{"Timestamp":"2024-11-11T15:05:59.9179560+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9206259+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9216465+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9306592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9365893+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9392943+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9406419+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.0332,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9417961+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9428507+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.3687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.3687"}]}}
{"Timestamp":"2024-11-11T15:05:59.9448168+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf543823c6e296a30257c1ef1c0a7680","SpanId":"7fd6ee6b275971a8","Properties":{"ElapsedMilliseconds":26.7999,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AD"}}
{"Timestamp":"2024-11-11T15:05:59.9475651+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9514360+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9526369+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9587254+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9615829+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9631158+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.5385,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9646649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:05:59.9661460+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.1329,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.1329"}]}}
{"Timestamp":"2024-11-11T15:05:59.9679141+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"366cf3e23ddb335c2a4a7f770c68a42f","SpanId":"6fe5e24e263bf6c8","Properties":{"ElapsedMilliseconds":20.3898,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AE"}}
{"Timestamp":"2024-11-11T15:06:00.1072084+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1141783+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1159220+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1125839+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1250236+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1261652+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1533312+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"elapsed":"26","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1559468+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1611900+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1647688+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1672496+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1684789+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":48.231,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1705973+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1720930+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1735212+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":44.0843,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1745068+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":60.4826,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.4826"}]}}
{"Timestamp":"2024-11-11T15:06:00.1757999+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1776260+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"148ca34b6e9de8977ba160b01c98dcba","SpanId":"eb00f3454013a000","Properties":{"ElapsedMilliseconds":70.4575,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AF"}}
{"Timestamp":"2024-11-11T15:06:00.1848959+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.1786199+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":53.7112,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.7112"}]}}
{"Timestamp":"2024-11-11T15:06:00.1893888+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"92f67d7c98a288b4ef47a20a5a75b369","SpanId":"2601ffcf35abfabe","Properties":{"ElapsedMilliseconds":76.8434,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AG"}}
{"Timestamp":"2024-11-11T15:06:00.1906986+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.1932046+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.1936605+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.1965328+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.2033340+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.2100114+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.2128406+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.2150594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":16.3958,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.2165220+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.2179339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.2180453+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":29.2587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.2587"}]}}
{"Timestamp":"2024-11-11T15:06:00.2220160+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.2244047+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cab4c36a0f98114a875bd63ba1b6b834","SpanId":"4cfb581719c62e77","Properties":{"ElapsedMilliseconds":39.5338,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AH"}}
{"Timestamp":"2024-11-11T15:06:00.2263921+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":20.7753,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.2332877+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:00.2353451+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":39.2015,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.2015"}]}}
{"Timestamp":"2024-11-11T15:06:00.2371596+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca86f17127e5309b46d105401f05863c","SpanId":"87f21cae7e309d55","Properties":{"ElapsedMilliseconds":44.0311,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AI"}}
{"Timestamp":"2024-11-11T15:06:02.2925383+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.2956236+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.2966589+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3060133+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3120942+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3149871+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3162960+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3478,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3174328+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3185070+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.2332,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2332"}]}}
{"Timestamp":"2024-11-11T15:06:02.3205353+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7693c8bc07e4476cac11ee321dae57fb","SpanId":"b5fb088e359e9ef8","Properties":{"ElapsedMilliseconds":28.0113,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AJ"}}
{"Timestamp":"2024-11-11T15:06:02.3230297+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3266719+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3278429+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3342311+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3370993+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3387056+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.9482,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3404077+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.3417584+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.4549,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.4549"}]}}
{"Timestamp":"2024-11-11T15:06:02.3436878+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d373a3c9026049722f80f6a576fd2592","SpanId":"eed2ff7d24ed80e0","Properties":{"ElapsedMilliseconds":20.7086,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AK"}}
{"Timestamp":"2024-11-11T15:06:02.4850971+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.4885292+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.4902277+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.4905121+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.4954062+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5012896+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5240313+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"elapsed":"21","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.5354149+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"elapsed":"24","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5354894+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.5426828+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.5432594+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5439690+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":45.0764,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.5472792+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5483090+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.5496012+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":46.2016,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5506173+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":62.2423,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.2423"}]}}
{"Timestamp":"2024-11-11T15:06:02.5520743+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5545061+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7516c23b9ea46a7c7405f1fc99c51a8","SpanId":"43ec6c622fe13179","Properties":{"ElapsedMilliseconds":69.4328,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AL"}}
{"Timestamp":"2024-11-11T15:06:02.5554311+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":60.1337,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.1337"}]}}
{"Timestamp":"2024-11-11T15:06:02.5585724+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.5602050+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c170a1d6b07dd893de6df6be92c12e2","SpanId":"b1264f9e96b75b42","Properties":{"ElapsedMilliseconds":69.9486,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AM"}}
{"Timestamp":"2024-11-11T15:06:02.5631878+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.5689216+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.5690648+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.5732581+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.5757751+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.5918639+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"elapsed":"16","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.5950965+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.5952551+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.5966066+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":22.6653,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.6005369+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.6025051+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.6044724+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":26.3883,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.6059072+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":43.2267,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.2267"}]}}
{"Timestamp":"2024-11-11T15:06:02.6083266+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:02.6123656+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":40.0726,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.0726"}]}}
{"Timestamp":"2024-11-11T15:06:02.6103494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"43273f738551bb15c84e98744d9c9be6","SpanId":"bb5b14448309e870","Properties":{"ElapsedMilliseconds":51.8245,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AN"}}
{"Timestamp":"2024-11-11T15:06:02.6149768+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4de695fd47db8c2636e51cf82c937ab","SpanId":"d50507448df5bc23","Properties":{"ElapsedMilliseconds":46.1301,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-06&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AO"}}
{"Timestamp":"2024-11-11T15:06:05.0854756+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.0895454+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.0909212+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1068217+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1146057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1171185+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1181371+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.649,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1191230+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1199667+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.5509,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.5509"}]}}
{"Timestamp":"2024-11-11T15:06:05.1213421+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0f3c061dc58e1f1bf3d6a2fddda8e614","SpanId":"c7b6cc8b493ee056","Properties":{"ElapsedMilliseconds":35.9078,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AP"}}
{"Timestamp":"2024-11-11T15:06:05.1234006+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1279822+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1291388+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1344688+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1370424+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1385776+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.7706,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1400386+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.1420877+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.4599,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4599"}]}}
{"Timestamp":"2024-11-11T15:06:05.1441428+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d20bc9f3f6b8f3bd36515eaf74209782","SpanId":"57f46ebe1deb7e25","Properties":{"ElapsedMilliseconds":20.7519,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AQ"}}
{"Timestamp":"2024-11-11T15:06:05.2782384+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.2957212+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.2975512+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.2933648+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3432600+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3445470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3652040+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3746645+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3760398+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"elapsed":"18","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.3794549+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3876685+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":40.8972,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3890752+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.3891660+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3924397+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.3930981+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":49.9501,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.9501"}]}}
{"Timestamp":"2024-11-11T15:06:05.3946600+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":94.4841,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.3962794+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e8372ef77f344b5f534199084af76c53","SpanId":"8af91c48ac73d208","Properties":{"ElapsedMilliseconds":102.9545,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AS"}}
{"Timestamp":"2024-11-11T15:06:05.3991498+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.4000830+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4038446+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":108.2139,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"108.2139"}]}}
{"Timestamp":"2024-11-11T15:06:05.4063675+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4077659+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"255f7f9d13e5b09455d16b8d6f25caaf","SpanId":"c6b7b822016f3f73","Properties":{"ElapsedMilliseconds":129.5281,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AR"}}
{"Timestamp":"2024-11-11T15:06:05.4095153+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4106211+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4177750+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4191224+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4207279+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4253994+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4271599+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.9951,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4276729+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4286843+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4319478+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4330922+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.9948,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.9948"}]}}
{"Timestamp":"2024-11-11T15:06:05.4347903+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.5686,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4364431+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"db63f562585d3fec5648b33e790d89d8","SpanId":"f048994cd6c14329","Properties":{"ElapsedMilliseconds":36.4508,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1AT"}}
{"Timestamp":"2024-11-11T15:06:05.4384712+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:05.4451877+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.911,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.9110"}]}}
{"Timestamp":"2024-11-11T15:06:05.4477935+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d3bfb5843082d9b956d70904427f6f3","SpanId":"432f870dbb8052a6","Properties":{"ElapsedMilliseconds":37.2506,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-08&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1AU"}}
{"Timestamp":"2024-11-11T15:06:07.1491656+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1520434+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1531706+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1615501+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1682211+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1711755+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1727893+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.5539,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1740599+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1751320+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.2392,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.2392"}]}}
{"Timestamp":"2024-11-11T15:06:07.1769468+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"78006d1fdbd5cf140f7b6c18a1395397","SpanId":"85d76f0a52323959","Properties":{"ElapsedMilliseconds":27.7779,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1AV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1AV"}}
{"Timestamp":"2024-11-11T15:06:07.1795887+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.1871879+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.1884962+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.1956291+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.2004733+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.2021117+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.5514,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.2036542+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.2050481+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.3755,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.3755"}]}}
{"Timestamp":"2024-11-11T15:06:07.2068407+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bb66ccd2a2a3f3ecf042ed83689186d4","SpanId":"55cbb7f3bcde7797","Properties":{"ElapsedMilliseconds":27.2625,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B0"}}
{"Timestamp":"2024-11-11T15:06:07.3161319+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3197790+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3203416+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3254417+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3267901+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3280306+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3637134+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3656787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3728053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3747973+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3776473+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3801141+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3816330+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":50.7543,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3829435+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":48.2165,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3843031+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3856417+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.3872506+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":66.958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.9580"}]}}
{"Timestamp":"2024-11-11T15:06:07.3884936+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":63.1261,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.1261"}]}}
{"Timestamp":"2024-11-11T15:06:07.3905294+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4978521102760692a8d8803bf8899508","SpanId":"2a00c27b5b3755ff","Properties":{"ElapsedMilliseconds":74.4304,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B1"}}
{"Timestamp":"2024-11-11T15:06:07.3924776+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"498c58cfd9254d57904fe65e3bf62763","SpanId":"440a106a8ca48ecb","Properties":{"ElapsedMilliseconds":72.7683,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B2"}}
{"Timestamp":"2024-11-11T15:06:07.4017035+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4021424+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4059635+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4089545+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4101567+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4115705+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4248988+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4285833+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4301021+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.9923,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4319474+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4335934+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":28.4149,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.4149"}]}}
{"Timestamp":"2024-11-11T15:06:07.4356881+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"020d56041a9bcd62a86f8d63c56f8b8a","SpanId":"32a03ab01390a70a","Properties":{"ElapsedMilliseconds":34.015,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1B4"}}
{"Timestamp":"2024-11-11T15:06:07.4451369+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"elapsed":"27","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4487248+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4504375+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":34.245,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4520521+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:07.4536503+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":45.0664,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.0664"}]}}
{"Timestamp":"2024-11-11T15:06:07.4561769+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b9043bb7a42702406dfdc238fee251d","SpanId":"7b31217a237d6967","Properties":{"ElapsedMilliseconds":54.0432,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B3"}}
{"Timestamp":"2024-11-11T15:06:09.8144346+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8171538+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8181629+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8268543+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8387730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8427501+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8443792+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.1208,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8457686+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8469586+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.8837,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.8837"}]}}
{"Timestamp":"2024-11-11T15:06:09.8496224+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1972ca2b6d91fd83ba9f94669186d0ef","SpanId":"2048110879497df2","Properties":{"ElapsedMilliseconds":35.0305,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B5"}}
{"Timestamp":"2024-11-11T15:06:09.8554510+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-05&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8607251+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8629231+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8741453+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8771237+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8788207+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.084,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8802504+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:09.8816857+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.4458,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.4458"}]}}
{"Timestamp":"2024-11-11T15:06:09.8834720+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f428ff13f45447e85a6372c55fe37a9a","SpanId":"86c20378823ef38a","Properties":{"ElapsedMilliseconds":28.0402,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-05&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B6"}}
{"Timestamp":"2024-11-11T15:06:10.0198750+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.0232432+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.0246981+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.0250899+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.0300215+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.0359127+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.0735146+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.0759844+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.1069726+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"elapsed":"14","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.1073607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.1225541+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.1252354+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.1263084+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":92.8867,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.1277364+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":89.6178,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.1288825+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.1300955+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.1315890+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":108.4283,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"108.4283"}]}}
{"Timestamp":"2024-11-11T15:06:10.1326711+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":102.7273,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"102.7273"}]}}
{"Timestamp":"2024-11-11T15:06:10.1344522+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9060fb5d44f376c92306acfea797b1c3","SpanId":"0d5c7410262ef990","Properties":{"ElapsedMilliseconds":114.5972,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B7"}}
{"Timestamp":"2024-11-11T15:06:10.1364803+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65cd71cbaf44181247a863f950642a29","SpanId":"68c3af6d78bec01f","Properties":{"ElapsedMilliseconds":111.7574,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1B8"}}
{"Timestamp":"2024-11-11T15:06:10.1395917+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-05&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1384308+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-05&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1516925+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1541837+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1550660+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1562970+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1624967+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1661282+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1678348+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.0634,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1682602+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1693896+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1729969+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1745302+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.5817,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.5817"}]}}
{"Timestamp":"2024-11-11T15:06:10.1760902+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":17.6127,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1777783+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"552427ff31f60a73599e6463ad40550c","SpanId":"e03203ee9860db82","Properties":{"ElapsedMilliseconds":39.3819,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-05&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1B9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1B9"}}
{"Timestamp":"2024-11-11T15:06:10.1796304+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:10.1850818+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":33.6724,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.6724"}]}}
{"Timestamp":"2024-11-11T15:06:10.1870128+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"872971fbd73d52d6f647990ef5a2075d","SpanId":"8b324bb4976993c8","Properties":{"ElapsedMilliseconds":47.431,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-05&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BA:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BA"}}
{"Timestamp":"2024-11-11T15:06:13.2040097+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2068836+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2076778+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2154155+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2196411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2218442+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2228317+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.5182,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2238294+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2246967+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.906,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.9060"}]}}
{"Timestamp":"2024-11-11T15:06:13.2260612+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e428eb8dfb71d5f4ae894002683b3ce","SpanId":"2798f410b88a443a","Properties":{"ElapsedMilliseconds":22.1312,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BB"}}
{"Timestamp":"2024-11-11T15:06:13.2293474+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-04&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2334677+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2346990+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2386819+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2413405+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2428002+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.0181,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2444309+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.2456544+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.4929,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.4929"}]}}
{"Timestamp":"2024-11-11T15:06:13.2476087+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"77d9a3d9a613fdc44cd0447ebf8d003a","SpanId":"e30d5bdb157dcdca","Properties":{"ElapsedMilliseconds":18.2605,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-04&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BC"}}
{"Timestamp":"2024-11-11T15:06:13.4118208+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4148250+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4162318+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4167947+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4239873+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4248730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4249332+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4320882+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4552113+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4563747+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":36.1409,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4574532+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4585594+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.8328,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.8328"}]}}
{"Timestamp":"2024-11-11T15:06:13.4587899+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4601781+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b69fcaf2f5463b61d8738e0ab8e68b8a","SpanId":"2e07748a9557bb12","Properties":{"ElapsedMilliseconds":48.372,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BD"}}
{"Timestamp":"2024-11-11T15:06:13.4635417+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-04&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4672402+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4708886+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4734734+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4743857+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4756427+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.8288,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4787765+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4791821+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4798414+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":55.9205,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.9205"}]}}
{"Timestamp":"2024-11-11T15:06:13.4835815+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4851543+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6be00c89c92e2ae6a069e1e37662c3de","SpanId":"dd9286696554d5d8","Properties":{"ElapsedMilliseconds":68.3737,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BE"}}
{"Timestamp":"2024-11-11T15:06:13.4873539+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.8414,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4890003+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-04&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.4918941+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.4944975+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.4954464+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.8382,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.8382"}]}}
{"Timestamp":"2024-11-11T15:06:13.4976003+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.4992988+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"50cda6e4a04d22a2c342298f451a29da","SpanId":"85e287c10cda8e8c","Properties":{"ElapsedMilliseconds":35.7686,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-04&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BF:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BF"}}
{"Timestamp":"2024-11-11T15:06:13.5117199+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.5163299+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.5179881+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.943,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.5195770+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:13.5210097+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":26.7432,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7432"}]}}
{"Timestamp":"2024-11-11T15:06:13.5229945+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55868ecb3fb6d881b546b9bf12911d18","SpanId":"d027bbd02d0dd453","Properties":{"ElapsedMilliseconds":34,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-04&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BG"}}
{"Timestamp":"2024-11-11T15:06:15.6681881+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.6709520+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.6720630+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.6826253+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.6907389+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.6947543+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.7004280+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.2422,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.7020261+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.7032628+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.373,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.3730"}]}}
{"Timestamp":"2024-11-11T15:06:15.7052094+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d61b47aca4ba3a5ce6781f3a27b4eec3","SpanId":"754b514600dda71f","Properties":{"ElapsedMilliseconds":37.0597,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BH"}}
{"Timestamp":"2024-11-11T15:06:15.7078595+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7138387+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7151479+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7195017+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7223260+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7238577+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.4747,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7253628+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.7266588+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.1176,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.1176"}]}}
{"Timestamp":"2024-11-11T15:06:15.7284835+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"579ed0ec68f8f40c882580565ae04ec7","SpanId":"0c5d8ae8e332566c","Properties":{"ElapsedMilliseconds":20.636,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BI"}}
{"Timestamp":"2024-11-11T15:06:15.8604547+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.8637601+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.8651708+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.8672106+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.8747127+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.8757884+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.8785841+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.8822048+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.9074965+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"elapsed":"19","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.9076898+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.9126596+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.9167493+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.9179855+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":47.8501,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.9192288+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":41.1857,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.9204353+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.9216933+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.9228648+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":59.1719,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"59.1719"}]}}
{"Timestamp":"2024-11-11T15:06:15.9240074+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":49.352,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"49.3520"}]}}
{"Timestamp":"2024-11-11T15:06:15.9256284+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0a8254a7406561e2817d6bb906afa5b4","SpanId":"4f1e399a1d3a29c3","Properties":{"ElapsedMilliseconds":65.1971,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BJ"}}
{"Timestamp":"2024-11-11T15:06:15.9270610+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae1623598edaa59dc6928e4b3f3f3101","SpanId":"ba787198cd6806f7","Properties":{"ElapsedMilliseconds":59.8737,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BK"}}
{"Timestamp":"2024-11-11T15:06:15.9374498+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9389714+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9406424+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9431245+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9444102+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9458595+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9541187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9583235+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9600857+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.9596,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9618254+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9633151+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":22.9419,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.9419"}]}}
{"Timestamp":"2024-11-11T15:06:15.9653040+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4427166ef1f1025f0487cc6718ed832f","SpanId":"d7b11c805cb1ac34","Properties":{"ElapsedMilliseconds":27.9599,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BL"}}
{"Timestamp":"2024-11-11T15:06:15.9764865+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"elapsed":"20","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9806151+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9826753+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":27.7271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9842627+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:15.9856141+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":42.824,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.8240"}]}}
{"Timestamp":"2024-11-11T15:06:15.9874008+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"271e2ace523a6fd9a6b70ee18dad765c","SpanId":"312362fbc9da91c5","Properties":{"ElapsedMilliseconds":48.4607,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BM:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BM"}}
{"Timestamp":"2024-11-11T15:06:37.1736653+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.1824807+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.1835557+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.1945457+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.1995390+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.2022779+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.2032995+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.5076,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.2043750+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.2052638+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":22.8763,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8763"}]}}
{"Timestamp":"2024-11-11T15:06:37.2066608+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f873c46d586358e07769fa5d211cecd","SpanId":"601330703c03a76a","Properties":{"ElapsedMilliseconds":33.0212,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BN"}}
{"Timestamp":"2024-11-11T15:06:37.2090052+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2119643+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2128991+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2160730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2180794+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2192419+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.365,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2203222+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.2213110+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.5578,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.5578"}]}}
{"Timestamp":"2024-11-11T15:06:37.2227043+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1235930c2037d9245af3974c3b973bbc","SpanId":"e2110f9616b2383a","Properties":{"ElapsedMilliseconds":13.7054,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BO"}}
{"Timestamp":"2024-11-11T15:06:37.3328814+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.3378610+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.3379332+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.3417389+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.3436802+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.3452448+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.3786676+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.3839261+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.4042569+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"elapsed":"20","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.4043120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.4088963+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.4103854+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.4115215+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":61.4789,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.4128586+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":59.1272,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.4158772+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.4142828+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:06:37.4171666+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":75.4842,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"75.4842"}]}}
{"Timestamp":"2024-11-11T15:06:37.4182400+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":80.5929,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"80.5929"}]}}
{"Timestamp":"2024-11-11T15:06:37.4200241+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"554061800e87916a259641b5576fb125","SpanId":"e128097ad90f0349","Properties":{"ElapsedMilliseconds":82.1883,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BQ"}}
{"Timestamp":"2024-11-11T15:06:37.4225373+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0b383030c2301aab3736a46cc8a4d6a","SpanId":"1e4eb9b60b13baa1","Properties":{"ElapsedMilliseconds":89.667,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BP"}}
{"Timestamp":"2024-11-11T15:07:15.2041061+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2126849+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2146151+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2273076+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2401482+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2439830+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"62c274a6-cbe0-45f2-b1a9-914d1c76dfd8","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2460652+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":29.0388,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2484934+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:15.2495394+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":36.9353,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9353"}]}}
{"Timestamp":"2024-11-11T15:07:15.2517262+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2e4ab41c36e66774148dd0ac2a6d85e","SpanId":"6d0c1047efa65ebf","Properties":{"ElapsedMilliseconds":47.6419,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN824U7CI1BR"}}
{"Timestamp":"2024-11-11T15:07:17.1570999+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.1602984+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.1620978+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.1621372+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.1708251+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.1721979+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2027518+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"elapsed":"25","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2090955+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"elapsed":"20","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.2123684+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2208830+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.2228861+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2257680+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.2268229+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":52.584,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2282790+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":60.175,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.2298158+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2315251+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.2335846+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":62.7817,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"62.7817"}]}}
{"Timestamp":"2024-11-11T15:07:17.2348396+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":74.6655,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"74.6655"}]}}
{"Timestamp":"2024-11-11T15:07:17.2364610+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0e974660dc13e23b9caaa17a5b6874d9","SpanId":"6191b583227a81fb","Properties":{"ElapsedMilliseconds":74.3282,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BT"}}
{"Timestamp":"2024-11-11T15:07:17.2381560+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f5772e290822138dd7364714465654ae","SpanId":"6069648e9665dc42","Properties":{"ElapsedMilliseconds":81.0928,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1BS"}}
{"Timestamp":"2024-11-11T15:07:17.2449671+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2458060+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2508200+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2533432+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2543177+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2555636+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2602388+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2635868+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2655496+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.3332,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2668515+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2682200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":17.7284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7284"}]}}
{"Timestamp":"2024-11-11T15:07:17.2690095+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2700530+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26270134f68c9f5cacdbf2b0a874f12d","SpanId":"f59081c311e55e80","Properties":{"ElapsedMilliseconds":25.1154,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1BU"}}
{"Timestamp":"2024-11-11T15:07:17.2768311+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2852160+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":24.5997,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2883325+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:17.2899515+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.9385,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9385"}]}}
{"Timestamp":"2024-11-11T15:07:17.2923076+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb68281980f31847152cc49a51b58603","SpanId":"938de962a9d48354","Properties":{"ElapsedMilliseconds":46.5103,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1BV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1BV"}}
{"Timestamp":"2024-11-11T15:07:22.3195278+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3222873+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3234913+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3344000+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3401420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3435644+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3461690+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.4161,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3484586+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3496719+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.605,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.6050"}]}}
{"Timestamp":"2024-11-11T15:07:22.3515107+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"225c9df9c19afca435e4c0f5805e080e","SpanId":"c5215c6aff815f59","Properties":{"ElapsedMilliseconds":32.0453,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C0"}}
{"Timestamp":"2024-11-11T15:07:22.3539854+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3594307+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3605901+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3640320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3669250+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3686773+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.0653,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3702324+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:22.3716443+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.7317,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.7317"}]}}
{"Timestamp":"2024-11-11T15:07:22.3736071+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d20efd66e012374d8a50c3f8426e11e","SpanId":"bc26ae37516d5cf5","Properties":{"ElapsedMilliseconds":19.6901,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C1"}}
{"Timestamp":"2024-11-11T15:07:23.1356383+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1383811+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1394251+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1515482+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1598217+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1661767+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1676049+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.1097,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1692023+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1703532+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.0247,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.0247"}]}}
{"Timestamp":"2024-11-11T15:07:23.1722743+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8ccc9ff9fa1eb6b57bbfc4d9c5f9daa","SpanId":"c7d823b17305f059","Properties":{"ElapsedMilliseconds":36.7051,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C2"}}
{"Timestamp":"2024-11-11T15:07:23.1757701+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1822648+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1835361+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1877223+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1906329+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1922401+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.4305,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1936178+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.1949192+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.9142,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.9142"}]}}
{"Timestamp":"2024-11-11T15:07:23.1966873+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41d21e1a621c49138388413600291131","SpanId":"2b648c765f217cff","Properties":{"ElapsedMilliseconds":20.94,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C3:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C3"}}
{"Timestamp":"2024-11-11T15:07:23.3993997+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.4062725+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.4077367+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.4115701+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.4128728+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.4147170+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.4504376+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"elapsed":"26","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.4771365+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"elapsed":"15","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.4906936+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"elapsed":"16","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.4951060+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.5022393+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":84.9791,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.5035352+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.5046001+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":96.9339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"96.9339"}]}}
{"Timestamp":"2024-11-11T15:07:23.5065632+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"624678fb95cf160e2f90d0446ea2fecd","SpanId":"405d9181ad3b4e35","Properties":{"ElapsedMilliseconds":107.1703,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C4"}}
{"Timestamp":"2024-11-11T15:07:23.5123499+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.5134497+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5214103+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.5245830+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5254363+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":97.056,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.5267764+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5281672+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.5319091+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":120.3878,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"120.3878"}]}}
{"Timestamp":"2024-11-11T15:07:23.5342531+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"94f3fcd6e1c630df0ad6de8863e0cf29","SpanId":"6cbb905231a773fa","Properties":{"ElapsedMilliseconds":127.9986,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C5"}}
{"Timestamp":"2024-11-11T15:07:23.5359515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5408501+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5408456+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5446948+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5453196+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.3937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5466218+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5486469+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5526419+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":28.9008,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9008"}]}}
{"Timestamp":"2024-11-11T15:07:23.5547084+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b2f39d9dbe72972cd865d44ff7dc322","SpanId":"ca4c2042a87d3d67","Properties":{"ElapsedMilliseconds":41.2277,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C6"}}
{"Timestamp":"2024-11-11T15:07:23.5600905+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5641897+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f603149f-9a08-4aba-9d57-821fc8b036c4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5664100+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.369,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5682256+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:07:23.5695748+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.6829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.6829"}]}}
{"Timestamp":"2024-11-11T15:07:23.5714597+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1a42df6f2a2f6c62852749bc34a4d94","SpanId":"2381b9580e8216ef","Properties":{"ElapsedMilliseconds":30.931,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN824U7CI1C7"}}
{"Timestamp":"2024-11-11T15:08:29.8545959+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:08:29.8572754+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:08:29.8580738+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:08:42.7845680+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:09:25.4613068+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:09:37.4452167+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:09:39.4216754+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":69561.9792,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:09:39.4232580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:09:39.4246362+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":69567.4217,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"69567.4217"}]}}
{"Timestamp":"2024-11-11T15:09:39.4268598+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e648c9a2100ecdf20bc03b447352512","SpanId":"ad6b6e93773b2cfd","Properties":{"ElapsedMilliseconds":69572.4118,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1C8"}}
{"Timestamp":"2024-11-11T15:09:39.4453861+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4501053+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4518188+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4554571+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4574931+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"87fbb881-2c47-49cb-992a-8139c03956f0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4586222+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.4546,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4597963+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:39.4607944+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.7616,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.7616"}]}}
{"Timestamp":"2024-11-11T15:09:39.4622001+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6ec90e83a9b1b325a34ccc68869fb613","SpanId":"1c76bea5cf259ea5","Properties":{"ElapsedMilliseconds":16.8288,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1C9:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN824U7CI1C9"}}
{"Timestamp":"2024-11-11T15:09:43.4200670+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:43.4230421+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:43.4242238+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:48.7536044+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:59.6165344+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:59.6202570+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dc3861f9-d8ca-492e-8761-5d81a2ad2111","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:59.6215426+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16195.2964,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:59.6229850+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:09:59.6240820+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":16201.121,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16201.1210"}]}}
{"Timestamp":"2024-11-11T15:09:59.6300385+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53da82439fd28a0636510de031429938","SpanId":"97f309c500a96da7","Properties":{"ElapsedMilliseconds":16209.9965,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN824U7CI1CA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN824U7CI1CA"}}
{"Timestamp":"2024-11-11T15:25:37.8918767+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T15:25:38.2735849+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:25:38.3894129+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:25:38.4116709+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:25:38.4173824+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:25:39.1246885+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"522a4585c479268c9d46e813fb028436","SpanId":"042f4ea508aa6c1a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8259M2BV0L"}}
{"Timestamp":"2024-11-11T15:25:39.4742735+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"522a4585c479268c9d46e813fb028436","SpanId":"042f4ea508aa6c1a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":115.5892,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"115.5892"}]}}
{"Timestamp":"2024-11-11T15:25:39.4880865+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42cdfa0c59511f25d0efdabac87391a7","SpanId":"192851cbde770550","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0K:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8259M2BV0K"}}
{"Timestamp":"2024-11-11T15:25:39.5087538+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4cb22d980736376e8c011eb235d5f8be","SpanId":"9d1da4f8bd2963a0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0M:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8259M2BV0M"}}
{"Timestamp":"2024-11-11T15:25:39.5233377+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"522a4585c479268c9d46e813fb028436","SpanId":"042f4ea508aa6c1a","Properties":{"ElapsedMilliseconds":408.2527,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0L:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8259M2BV0L"}}
{"Timestamp":"2024-11-11T15:25:39.5297893+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42cdfa0c59511f25d0efdabac87391a7","SpanId":"192851cbde770550","Properties":{"ElapsedMilliseconds":41.7621,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0K:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8259M2BV0K"}}
{"Timestamp":"2024-11-11T15:25:39.6198883+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4cb22d980736376e8c011eb235d5f8be","SpanId":"9d1da4f8bd2963a0","Properties":{"ElapsedMilliseconds":111.179,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0M:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8259M2BV0M"}}
{"Timestamp":"2024-11-11T15:25:39.6887585+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e094c035218710072bd3b0f0b5f2f1f4","SpanId":"0af180c677b3f94a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0M:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8259M2BV0M"}}
{"Timestamp":"2024-11-11T15:25:39.9578249+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e094c035218710072bd3b0f0b5f2f1f4","SpanId":"0af180c677b3f94a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":261.6153,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"261.6153"}]}}
{"Timestamp":"2024-11-11T15:25:39.9635517+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e094c035218710072bd3b0f0b5f2f1f4","SpanId":"0af180c677b3f94a","Properties":{"ElapsedMilliseconds":274.8071,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0M:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8259M2BV0M"}}
{"Timestamp":"2024-11-11T15:26:23.7063057+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:23.7305586+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:23.8261076+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:23.8623556+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b46e9e-284c-4bc1-8193-886c9ca87f03","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:31.8105798+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"elapsed":"78","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72b46e9e-284c-4bc1-8193-886c9ca87f03","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:32.2080015+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"elapsed":"52","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72b46e9e-284c-4bc1-8193-886c9ca87f03","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:32.2464381+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"72b46e9e-284c-4bc1-8193-886c9ca87f03","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:32.2706613+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":8400.815,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:32.2732121+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:26:32.2805886+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":8559.4615,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8559.4615"}]}}
{"Timestamp":"2024-11-11T15:26:32.2930969+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8043fb6300039a3bf7cfcfb69f201196","SpanId":"e015c46ea201cc7e","Properties":{"ElapsedMilliseconds":8586.8829,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0N:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8259M2BV0N"}}
{"Timestamp":"2024-11-11T15:27:36.0117494+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:36.0367501+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:36.0444443+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:38.7269126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:41.4294687+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:41.4527463+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:41.4545415+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":5407.6027,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:41.4559221+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:27:41.4570856+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":5421.9759,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5421.9759"}]}}
{"Timestamp":"2024-11-11T15:27:41.4594688+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74f31887be6d9f4e3c90bdafbc179185","SpanId":"473bc271f8d70a7f","Properties":{"ElapsedMilliseconds":5447.7821,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0O"}}
{"Timestamp":"2024-11-11T15:28:02.0326054+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:28:02.0389789+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:28:02.0402320+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:28:12.0539067+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:22.0948253+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:22.1007125+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"27d62781-fc49-4ae8-b635-d11cd01e383b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:22.4030617+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27d62781-fc49-4ae8-b635-d11cd01e383b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:22.5204768+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"27d62781-fc49-4ae8-b635-d11cd01e383b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:22.5281564+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:28:22.5514917+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":448.6288,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:28.0829768+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:28.0999838+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12781.3589,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12781.3589"}]}}
{"Timestamp":"2024-11-11T15:28:31.2183063+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b47b7924ac4d20b62c7d57b4ece633d3","SpanId":"906644f5663a822a","Properties":{"ElapsedMilliseconds":19189.9053,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8259M2BV0Q"}}
{"Timestamp":"2024-11-11T15:28:45.3081224+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"elapsed":"30","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:29:13.1787204+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:29:17.2363139+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":75194.0585,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:29:17.2470811+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:29:17.2485754+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":75211.7046,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"75211.7046"}]}}
{"Timestamp":"2024-11-11T15:29:17.2507144+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c29b2842610f34e3a7c4b966ac86533","SpanId":"5ad7090dac2d9354","Properties":{"ElapsedMilliseconds":75218.1542,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0P"}}
{"Timestamp":"2024-11-11T15:30:31.5622116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.5725506+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 8:30:09 AM', Current time (UTC): '11/11/2024 8:30:31 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6105439+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 8:30:09 AM', Current time (UTC): '11/11/2024 8:30:31 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6119089+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6148530+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"317e39b7-cf25-4cb1-afcc-0e15fdb79339","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6412585+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"317e39b7-cf25-4cb1-afcc-0e15fdb79339","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6451534+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"317e39b7-cf25-4cb1-afcc-0e15fdb79339","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6469108+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":28.9537,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6488972+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:31.6521231+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":83.4637,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"83.4637"}]}}
{"Timestamp":"2024-11-11T15:30:31.6543020+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5c4695de7416133560abd3ab5b1e40d","SpanId":"cca3df82747f250e","Properties":{"ElapsedMilliseconds":92.7809,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8259M2BV0R"}}
{"Timestamp":"2024-11-11T15:30:37.5471119+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:30:37.5504752+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:30:37.5513520+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:31:04.6128988+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:31:18.4978533+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"elapsed":"23","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:31:23.5796103+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8e4f9faf-e743-49b9-859f-9fa1b018b26d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:31:23.5816430+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":46028.5767,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:31:23.5832627+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:31:23.5844246+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":46034.0525,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46034.0525"}]}}
{"Timestamp":"2024-11-11T15:31:23.5866995+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e1dca5a9da501b2e21702b4f0eca93d8","SpanId":"95d1a70723d4ef2c","Properties":{"ElapsedMilliseconds":46039.5919,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8259M2BV0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8259M2BV0S"}}
{"Timestamp":"2024-11-11T15:32:47.7936337+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T15:32:48.0267921+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:32:48.1310520+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:32:48.1340218+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:32:48.1365895+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:32:49.1272265+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ce2cd08a60f5938749c20654ce407ac","SpanId":"b9c2dfdb29eea06b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHT:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825DM6QOHT"}}
{"Timestamp":"2024-11-11T15:32:49.4894766+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ce2cd08a60f5938749c20654ce407ac","SpanId":"b9c2dfdb29eea06b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":124.8995,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"124.8995"}]}}
{"Timestamp":"2024-11-11T15:32:49.5291064+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ce2cd08a60f5938749c20654ce407ac","SpanId":"b9c2dfdb29eea06b","Properties":{"ElapsedMilliseconds":414.137,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHT:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825DM6QOHT"}}
{"Timestamp":"2024-11-11T15:32:49.5342950+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff616520d8368e28a480fdec8ce7ba66","SpanId":"1699e3881a245a9f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHS:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825DM6QOHS"}}
{"Timestamp":"2024-11-11T15:32:49.5570411+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6dfe1f8f49d37c0906ae0dcdeaf7e34a","SpanId":"85e3e96f4b7334aa","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHU:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825DM6QOHU"}}
{"Timestamp":"2024-11-11T15:32:49.5681675+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff616520d8368e28a480fdec8ce7ba66","SpanId":"1699e3881a245a9f","Properties":{"ElapsedMilliseconds":34.1902,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHS:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825DM6QOHS"}}
{"Timestamp":"2024-11-11T15:32:49.6528121+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6dfe1f8f49d37c0906ae0dcdeaf7e34a","SpanId":"85e3e96f4b7334aa","Properties":{"ElapsedMilliseconds":95.7741,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHU:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825DM6QOHU"}}
{"Timestamp":"2024-11-11T15:32:49.7192113+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"495d47550e71545728e07533a6bf46b1","SpanId":"6bc43f092b2ae7a7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHU:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825DM6QOHU"}}
{"Timestamp":"2024-11-11T15:32:49.9294371+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"495d47550e71545728e07533a6bf46b1","SpanId":"6bc43f092b2ae7a7","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":206.8702,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"206.8702"}]}}
{"Timestamp":"2024-11-11T15:32:49.9579191+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"495d47550e71545728e07533a6bf46b1","SpanId":"6bc43f092b2ae7a7","Properties":{"ElapsedMilliseconds":238.7476,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825DM6QOHU:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825DM6QOHU"}}
{"Timestamp":"2024-11-11T15:33:26.6601486+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T15:33:27.0697161+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:33:27.2759883+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:33:27.4089874+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:33:27.4097843+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:33:28.0017615+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80049fafab1d3a865dbc87b75e950c16","SpanId":"52f6aea7aa509d93","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825E1T5NSE"}}
{"Timestamp":"2024-11-11T15:33:28.3007117+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"80049fafab1d3a865dbc87b75e950c16","SpanId":"52f6aea7aa509d93","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":130.3073,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"130.3073"}]}}
{"Timestamp":"2024-11-11T15:33:28.3207839+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ab56628e7870d210a07f18a2fd3e7cf4","SpanId":"febffadfa39673db","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825E1T5NSD"}}
{"Timestamp":"2024-11-11T15:33:28.3239295+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9c568d7f25115f9f714db0ef8cd60c7b","SpanId":"8150d946a7d6c133","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825E1T5NSF"}}
{"Timestamp":"2024-11-11T15:33:28.3310756+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80049fafab1d3a865dbc87b75e950c16","SpanId":"52f6aea7aa509d93","Properties":{"ElapsedMilliseconds":338.9928,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825E1T5NSE"}}
{"Timestamp":"2024-11-11T15:33:28.3312280+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ab56628e7870d210a07f18a2fd3e7cf4","SpanId":"febffadfa39673db","Properties":{"ElapsedMilliseconds":10.1015,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825E1T5NSD"}}
{"Timestamp":"2024-11-11T15:33:28.4290486+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9c568d7f25115f9f714db0ef8cd60c7b","SpanId":"8150d946a7d6c133","Properties":{"ElapsedMilliseconds":105.1299,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825E1T5NSF"}}
{"Timestamp":"2024-11-11T15:33:28.4928971+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d22d61a9b566faca65956bde8d484f4","SpanId":"3619f59be19c34f1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825E1T5NSF"}}
{"Timestamp":"2024-11-11T15:33:28.7118054+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d22d61a9b566faca65956bde8d484f4","SpanId":"3619f59be19c34f1","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":204.6098,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"204.6098"}]}}
{"Timestamp":"2024-11-11T15:33:28.7178911+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d22d61a9b566faca65956bde8d484f4","SpanId":"3619f59be19c34f1","Properties":{"ElapsedMilliseconds":225.1631,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825E1T5NSF"}}
{"Timestamp":"2024-11-11T15:33:37.5972362+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:37.6037348+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:37.6881657+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:37.7155764+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8eff8137-cdbf-44eb-a233-c96c2149c3a2","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:43.2755701+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"elapsed":"38","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8eff8137-cdbf-44eb-a233-c96c2149c3a2","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:43.6782559+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"elapsed":"31","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8eff8137-cdbf-44eb-a233-c96c2149c3a2","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:43.7047224+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8eff8137-cdbf-44eb-a233-c96c2149c3a2","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:43.7141129+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":5991.8739,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:43.7204333+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:33:43.7243152+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":6122.6746,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6122.6746"}]}}
{"Timestamp":"2024-11-11T15:33:43.7422375+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb1bfc2d70a97dd7677ed047308d7ef9","SpanId":"46ad154871bc7f25","Properties":{"ElapsedMilliseconds":6145.1138,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825E1T5NSG"}}
{"Timestamp":"2024-11-11T15:34:14.9387698+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:34:14.9560369+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:34:14.9698653+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ca748053-f58f-4e43-b3df-b762705b5f24","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:31.8626897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ca748053-f58f-4e43-b3df-b762705b5f24","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:31.9370316+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ca748053-f58f-4e43-b3df-b762705b5f24","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:31.9496770+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ca748053-f58f-4e43-b3df-b762705b5f24","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:31.9547460+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":136982.1714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:31.9561996+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:31.9573999+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":137012.7684,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"137012.7684"}]}}
{"Timestamp":"2024-11-11T15:36:31.9596357+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"54420162f57bb7eb91ec01e78b9eddbd","SpanId":"75702114b73008cc","Properties":{"ElapsedMilliseconds":137020.9869,"StatusCode":499,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825E1T5NSH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825E1T5NSH"}}
{"Timestamp":"2024-11-11T15:36:38.7480300+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T15:36:39.2668385+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:36:39.3220276+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:36:39.3234543+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:36:39.3244213+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:36:39.9679059+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"61954723d6d10b2db007d69e1d58944c","SpanId":"aad708aa3cce9456","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825FR2L6N0"}}
{"Timestamp":"2024-11-11T15:36:40.4238447+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"61954723d6d10b2db007d69e1d58944c","SpanId":"aad708aa3cce9456","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":178.0403,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"178.0403"}]}}
{"Timestamp":"2024-11-11T15:36:40.5550523+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65d1828ae871dfa7eb9a8a36a35002c4","SpanId":"9fa4b0b80cb96590","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825FR2L6N1"}}
{"Timestamp":"2024-11-11T15:36:40.5600284+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48346f76ed8daca271850fa4d109891d","SpanId":"9f871b7d04503149","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825FR2L6N2"}}
{"Timestamp":"2024-11-11T15:36:40.6065355+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"61954723d6d10b2db007d69e1d58944c","SpanId":"aad708aa3cce9456","Properties":{"ElapsedMilliseconds":650.5537,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825FR2L6N0"}}
{"Timestamp":"2024-11-11T15:36:40.6069487+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65d1828ae871dfa7eb9a8a36a35002c4","SpanId":"9fa4b0b80cb96590","Properties":{"ElapsedMilliseconds":52.0644,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825FR2L6N1"}}
{"Timestamp":"2024-11-11T15:36:40.7485299+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48346f76ed8daca271850fa4d109891d","SpanId":"9f871b7d04503149","Properties":{"ElapsedMilliseconds":188.5392,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825FR2L6N2"}}
{"Timestamp":"2024-11-11T15:36:40.8206157+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ce6c7167e2ed704d6a3054c89f9ecfd","SpanId":"37a09061f939dc9a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825FR2L6N2"}}
{"Timestamp":"2024-11-11T15:36:41.0519643+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ce6c7167e2ed704d6a3054c89f9ecfd","SpanId":"37a09061f939dc9a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":223.8744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"223.8744"}]}}
{"Timestamp":"2024-11-11T15:36:41.0572105+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ce6c7167e2ed704d6a3054c89f9ecfd","SpanId":"37a09061f939dc9a","Properties":{"ElapsedMilliseconds":236.6079,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825FR2L6N2"}}
{"Timestamp":"2024-11-11T15:37:02.8756686+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:02.8826947+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:02.9388371+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:02.9737869+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:04.5120794+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"elapsed":"46","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:04.7527837+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:04.7752662+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:04.7827412+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1804.1927,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:04.7847641+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:37:04.7882225+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1909.3921,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1909.3921"}]}}
{"Timestamp":"2024-11-11T15:37:04.8067455+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e2b47cc182d741f1a165e90f33e629e2","SpanId":"6ca24fc7df4793b9","Properties":{"ElapsedMilliseconds":1931.1663,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N3:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N3"}}
{"Timestamp":"2024-11-11T15:38:07.3784668+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.3907582+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.3985016+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.5573337+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.5661296+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.5682167+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.6366323+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"elapsed":"16","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.7320512+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.7568189+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.7700791+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.7779646+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.7779646+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.7818495+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":209.9099,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.7833008+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.7828577+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":381.5403,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.7845022+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":221.2875,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"221.2875"}]}}
{"Timestamp":"2024-11-11T15:38:07.7859066+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.7880568+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b06404261a6491b348b79f5d0e1ca467","SpanId":"00cdbfb60ca21925","Properties":{"ElapsedMilliseconds":230.7521,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N5"}}
{"Timestamp":"2024-11-11T15:38:07.7888680+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":399.6945,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"399.6945"}]}}
{"Timestamp":"2024-11-11T15:38:07.7964899+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"226216f61108514ad54082383af0bdfe","SpanId":"e107c1ca1705340c","Properties":{"ElapsedMilliseconds":418.017,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N4"}}
{"Timestamp":"2024-11-11T15:38:07.8176245+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.8193059+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.8729547+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.8729547+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.8781330+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.8781341+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.9195959+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.9306587+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.9489177+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":65.7616,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.9505798+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.9518720+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":125.4492,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"125.4492"}]}}
{"Timestamp":"2024-11-11T15:38:07.9538958+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eaba1d7c89c6339c515f9f9c51d55529","SpanId":"d3d0ecab4c6ec5f8","Properties":{"ElapsedMilliseconds":134.6719,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6N7"}}
{"Timestamp":"2024-11-11T15:38:07.9593680+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"elapsed":"37","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.9635700+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.9659311+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":85.4145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.9678550+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:07.9692118+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":147.6394,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"147.6394"}]}}
{"Timestamp":"2024-11-11T15:38:07.9711098+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"67750349157c47aa6719129f81519381","SpanId":"6c0c77b51da6a9d1","Properties":{"ElapsedMilliseconds":153.7031,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6N6"}}
{"Timestamp":"2024-11-11T15:38:19.0747973+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.0776255+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.0787567+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.0899036+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.0980422+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.1024763+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.1036779+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.7577,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.1047617+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:38:19.1056284+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":28.1339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.1339"}]}}
{"Timestamp":"2024-11-11T15:38:19.1072066+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"67bee48dc93b2e3dc88dcd8ff35673c9","SpanId":"2c7adbf04748e666","Properties":{"ElapsedMilliseconds":32.4539,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6N8"}}
{"Timestamp":"2024-11-11T15:40:18.4735693+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4761808+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4772192+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4870529+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4933302+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4969265+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4986380+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":18.7922,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.4998453+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:40:18.5007564+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":24.7224,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7224"}]}}
{"Timestamp":"2024-11-11T15:40:18.5022669+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d750ebc00ba48ea8dfb7538b7a0f834","SpanId":"8eea5478a6813b21","Properties":{"ElapsedMilliseconds":28.7641,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6N9:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6N9"}}
{"Timestamp":"2024-11-11T15:41:24.6345253+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:41:24.6389170+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:41:24.6400709+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:41:50.4205128+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:42:04.2378683+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"elapsed":"22","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:42:19.2255070+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:42:19.2274576+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":54585.0364,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:42:19.2291401+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:42:19.2304061+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":54591.6008,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"54591.6008"}]}}
{"Timestamp":"2024-11-11T15:42:19.2333990+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa9254c639f0d71cac981f82c4300a16","SpanId":"ffcf3541bc09a1f4","Properties":{"ElapsedMilliseconds":54602.7309,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NA"}}
{"Timestamp":"2024-11-11T15:42:29.1553661+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:29.1636889+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:29.1772872+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:29.2074173+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:29.2284382+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:33.0070064+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:33.0164872+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:33.0184835+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:33.0193569+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:35.9933460+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:35.9947790+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":2985.0788,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:35.9978223+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:35.9991006+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:36.0006250+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":6776.1635,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:36.0017930+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":6774.7138,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6774.7138"}]}}
{"Timestamp":"2024-11-11T15:42:36.0032079+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:42:36.0052028+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf8bbd23989fe4379f7dcd372b54613c","SpanId":"ca2599bd64de8868","Properties":{"ElapsedMilliseconds":6797.7691,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NC"}}
{"Timestamp":"2024-11-11T15:42:36.0063118+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":6842.8125,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6842.8125"}]}}
{"Timestamp":"2024-11-11T15:42:36.0141602+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1a572961b29ac8929d705f46a993072","SpanId":"4325fec411dae994","Properties":{"ElapsedMilliseconds":6859.1225,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NB"}}
{"Timestamp":"2024-11-11T15:44:00.3962711+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4119678+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 8:43:05 AM', Current time (UTC): '11/11/2024 8:44:00 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4525793+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 8:43:05 AM', Current time (UTC): '11/11/2024 8:44:00 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4538453+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4551574+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4660604+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4698041+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4715271+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.2223,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4730577+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:44:00.4746859+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":66.7437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.7437"}]}}
{"Timestamp":"2024-11-11T15:44:00.4767723+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c9f8106ddfd63aaaed4396605394fb1","SpanId":"49d7ca8a4cbce362","Properties":{"ElapsedMilliseconds":80.5152,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6ND:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6ND"}}
{"Timestamp":"2024-11-11T15:45:01.0928974+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:01.0961228+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:01.0980549+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:04.2854538+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:12.3235392+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"elapsed":"6","parameters":"@p7='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [ExpiredAt] = @p0, [IsRevoked] = @p1, [IsUsed] = @p2, [IssuedAt] = @p3, [JwtId] = @p4, [Token] = @p5, [userId] = @p6\r\nOUTPUT 1\r\nWHERE [Id] = @p7;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:12.3290864+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:12.3305156+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11229.9967,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:12.3319642+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:45:12.3330183+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":11237.0047,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11237.0047"}]}}
{"Timestamp":"2024-11-11T15:45:12.3347809+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fea93bdb4fb20cfae30c59d03aeb1db1","SpanId":"50c70e948cf60dcb","Properties":{"ElapsedMilliseconds":11241.9282,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NE"}}
{"Timestamp":"2024-11-11T15:46:55.5378012+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5409623+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5418552+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5748075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5804119+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5830853+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5841723+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":39.8933,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5853413+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:46:55.5862116+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":45.3818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.3818"}]}}
{"Timestamp":"2024-11-11T15:46:55.5876799+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9bee27af5ed2c46526012f38debb8bdb","SpanId":"4aeacb25203c4b74","Properties":{"ElapsedMilliseconds":49.948,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NF"}}
{"Timestamp":"2024-11-11T15:48:32.6532845+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NG"}}
{"Timestamp":"2024-11-11T15:48:32.6902696+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NG"}}
{"Timestamp":"2024-11-11T15:48:32.6910993+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NG"}}
{"Timestamp":"2024-11-11T15:49:23.3893120+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":50696.4111,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NG"}}
{"Timestamp":"2024-11-11T15:49:23.3914935+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NG"}}
{"Timestamp":"2024-11-11T15:49:23.3933681+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Exception":"Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)\r\n   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)\r\n   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)\r\n   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)\r\n   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":500,"Elapsed":50703.2265,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50703.2265"}]}}
{"Timestamp":"2024-11-11T15:49:23.4277404+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65bbf5f069a7259bd6657c3b325e44d6","SpanId":"b6cb030db0f350cb","Properties":{"ElapsedMilliseconds":50774.5219,"StatusCode":499,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NG"}}
{"Timestamp":"2024-11-11T15:49:39.6251989+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6281856+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6293008+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6396538+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6456595+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6528642+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b58e7dc4-650b-45b5-9fab-e6d3c2e1618d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6541205+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":21.3582,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6555952+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:49:39.6569369+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":28.8869,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.8869"}]}}
{"Timestamp":"2024-11-11T15:49:39.6588207+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7fd7cebe0dd59fa27d9b808022d576e","SpanId":"32bc20a1de08cf95","Properties":{"ElapsedMilliseconds":33.6827,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NH:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825FR2L6NH"}}
{"Timestamp":"2024-11-11T15:51:03.3237570+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.3450393+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.3462033+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.4355976+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"elapsed":"56","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.4492870+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.4613518+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.4625876+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":113.1335,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.4644492+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:03.4671834+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":122.2488,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"122.2488"}]}}
{"Timestamp":"2024-11-11T15:51:03.4689865+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81b254c754540ce315e37c3d6e48d92c","SpanId":"080c0cf3a6676a3c","Properties":{"ElapsedMilliseconds":145.3132,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NI"}}
{"Timestamp":"2024-11-11T15:51:10.2230025+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.2356812+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.2369309+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.2728086+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"elapsed":"28","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.2753666+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.2851420+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.2866487+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.2894407+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.2906224+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.2958520+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":54.2224,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.3031974+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.3046360+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":69.062,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"69.0620"}]}}
{"Timestamp":"2024-11-11T15:51:10.3049599+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.3066900+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a6fd202d0f537c903e5b3ab65b66095","SpanId":"19d5a9d976d21786","Properties":{"ElapsedMilliseconds":83.7799,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NJ"}}
{"Timestamp":"2024-11-11T15:51:10.3113665+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"04e67be6-9151-4f8c-bc15-4c03567993ec","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.3169214+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.3499,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.3188036+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:10.3206868+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":34.4377,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.4377"}]}}
{"Timestamp":"2024-11-11T15:51:10.3228606+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bc998915057a40a647ccb0ff4befd586","SpanId":"198bdb5fdacbcd9c","Properties":{"ElapsedMilliseconds":47.4547,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825FR2L6NK"}}
{"Timestamp":"2024-11-11T15:51:29.6393881+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6472875+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6537715+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6698193+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6774146+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"96f415d2-546c-4f23-bc4a-98c41301ce4e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6796002+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":20.4554,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6814710+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:29.6833197+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":36.6238,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.6238"}]}}
{"Timestamp":"2024-11-11T15:51:29.6852383+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47d804135f2048f4fdc8d8e4ac203711","SpanId":"9239c6377ff0564b","Properties":{"ElapsedMilliseconds":45.9443,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825FR2L6NL"}}
{"Timestamp":"2024-11-11T15:51:54.4113831+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4202333+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4216776+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4437172+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4510382+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4544644+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ab535749-df7c-4f71-9297-f6520aea48c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4558652+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.2551,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4572900+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:51:54.4585851+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":38.477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.4770"}]}}
{"Timestamp":"2024-11-11T15:51:54.4606137+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7101fc5a68b519789f4d90368335fe18","SpanId":"79409ebae81d0e6a","Properties":{"ElapsedMilliseconds":50.3569,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825FR2L6NM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825FR2L6NM"}}
{"Timestamp":"2024-11-11T15:57:13.6532473+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T15:57:13.8804754+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:57:13.9406803+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:57:13.9419797+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:57:13.9428924+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T15:57:15.1086188+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d8f8b96103664ba09e8de9c652a8c69","SpanId":"4087c5db91c2062e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825RB4CNIM"}}
{"Timestamp":"2024-11-11T15:57:15.4255156+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d8f8b96103664ba09e8de9c652a8c69","SpanId":"4087c5db91c2062e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":99.276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"99.2760"}]}}
{"Timestamp":"2024-11-11T15:57:15.4448280+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd82e8bdb8538b50b0f520cc1290ab55","SpanId":"0635eeec3b12dca1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825RB4CNIL"}}
{"Timestamp":"2024-11-11T15:57:15.4466252+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d8f8b96103664ba09e8de9c652a8c69","SpanId":"4087c5db91c2062e","Properties":{"ElapsedMilliseconds":350.5606,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825RB4CNIM"}}
{"Timestamp":"2024-11-11T15:57:15.4620920+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22488cbe34451744635a2a837ccd73fc","SpanId":"167bb0a0fdcb7638","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825RB4CNIN"}}
{"Timestamp":"2024-11-11T15:57:15.4675861+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd82e8bdb8538b50b0f520cc1290ab55","SpanId":"0635eeec3b12dca1","Properties":{"ElapsedMilliseconds":22.8762,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825RB4CNIL"}}
{"Timestamp":"2024-11-11T15:57:15.5295764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22488cbe34451744635a2a837ccd73fc","SpanId":"167bb0a0fdcb7638","Properties":{"ElapsedMilliseconds":67.5158,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825RB4CNIN"}}
{"Timestamp":"2024-11-11T15:57:15.5800619+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e27cc3fe6995712cf8c384c604469a0a","SpanId":"98a4ed8a27c181b0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825RB4CNIN"}}
{"Timestamp":"2024-11-11T15:57:15.7633387+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e27cc3fe6995712cf8c384c604469a0a","SpanId":"98a4ed8a27c181b0","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":176.3235,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"176.3235"}]}}
{"Timestamp":"2024-11-11T15:57:15.7711433+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e27cc3fe6995712cf8c384c604469a0a","SpanId":"98a4ed8a27c181b0","Properties":{"ElapsedMilliseconds":191.113,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825RB4CNIN"}}
{"Timestamp":"2024-11-11T15:57:35.1084306+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:35.1190838+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:35.2175200+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:35.2441035+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2034255d-39ec-4e59-b3b6-fb3f9e9df952","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:37.1472294+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"elapsed":"51","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2034255d-39ec-4e59-b3b6-fb3f9e9df952","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:37.4504338+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"elapsed":"25","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2034255d-39ec-4e59-b3b6-fb3f9e9df952","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:37.5321906+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2034255d-39ec-4e59-b3b6-fb3f9e9df952","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:37.5887576+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2337.0462,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:37.5910664+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:37.5945265+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2479.2425,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2479.2425"}]}}
{"Timestamp":"2024-11-11T15:57:37.6096115+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f35b0bce6b6736522c2f8bbce6a2e8c8","SpanId":"b1f64f7e8a3cd3d7","Properties":{"ElapsedMilliseconds":2501.2396,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825RB4CNIO"}}
{"Timestamp":"2024-11-11T15:57:54.7100500+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.7188122+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.7248525+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.8613844+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"elapsed":"27","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.9566139+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.9716964+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.9734876+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":245.9117,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.9747229+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:57:54.9763952+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":258.9226,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"258.9226"}]}}
{"Timestamp":"2024-11-11T15:57:54.9788684+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1f22502a03f162261960ca0ddeb9375","SpanId":"14018d7183529604","Properties":{"ElapsedMilliseconds":268.8971,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIP"}}
{"Timestamp":"2024-11-11T15:58:00.6855952+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.6913560+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.6926532+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.7232149+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.7741023+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.7805232+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bd8117fa-ad2a-484d-88e3-712d56d247f3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.8121050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.8231347+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.8279253+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"28180a7c-db98-43e1-8b13-61690d479c4b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.8296594+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":134.2292,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.8320781+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.8339962+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":144.6418,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"144.6418"}]}}
{"Timestamp":"2024-11-11T15:58:00.8363734+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a816716c873254132b45d23fa3de01f","SpanId":"e4776af17f7b8c7a","Properties":{"ElapsedMilliseconds":150.7594,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN825RB4CNIQ"}}
{"Timestamp":"2024-11-11T15:58:00.8371321+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bd8117fa-ad2a-484d-88e3-712d56d247f3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.8469565+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bd8117fa-ad2a-484d-88e3-712d56d247f3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.8653084+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":80.7062,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.8720442+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:00.8747389+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":140.3648,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"140.3648"}]}}
{"Timestamp":"2024-11-11T15:58:00.8773041+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce8375a494f5bbc58f921a36cb596ba8","SpanId":"7e9611563c3731e8","Properties":{"ElapsedMilliseconds":154.062,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN825RB4CNIR"}}
{"Timestamp":"2024-11-11T15:58:23.5698761+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.5793720+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 8:58:07 AM', Current time (UTC): '11/11/2024 8:58:23 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6075185+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 8:58:07 AM', Current time (UTC): '11/11/2024 8:58:23 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6092421+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6122271+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9a23c387-86e3-4820-a38f-7f80d8e9cec2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6439836+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9a23c387-86e3-4820-a38f-7f80d8e9cec2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6522600+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9a23c387-86e3-4820-a38f-7f80d8e9cec2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6550009+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":36.3671,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6568580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T15:58:23.6588851+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":83.2018,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"83.2018"}]}}
{"Timestamp":"2024-11-11T15:58:23.6665719+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"707cfb5fb90bc208a58a7d87e569ab41","SpanId":"7b704c7fc7cdd5c9","Properties":{"ElapsedMilliseconds":96.7621,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825RB4CNIS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN825RB4CNIS"}}
{"Timestamp":"2024-11-11T16:05:11.8343859+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T16:05:12.2552280+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:05:12.4140420+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:05:12.4296683+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:05:12.4303090+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:05:12.8677397+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5f7892c67b446adf24e19cc468876b4","SpanId":"e6ffb812433db973","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BQ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825VPK94BQ"}}
{"Timestamp":"2024-11-11T16:05:13.1814309+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c5f7892c67b446adf24e19cc468876b4","SpanId":"e6ffb812433db973","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":127.1456,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.1456"}]}}
{"Timestamp":"2024-11-11T16:05:13.1929650+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a1a8c22df2d2d0a463fb716f5133fa63","SpanId":"bc6feb1ceed762a6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BP:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825VPK94BP"}}
{"Timestamp":"2024-11-11T16:05:13.2114016+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69ff85149b5487b838f9fa1784774f87","SpanId":"7663e7378bfa80a5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BR:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825VPK94BR"}}
{"Timestamp":"2024-11-11T16:05:13.2239833+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a1a8c22df2d2d0a463fb716f5133fa63","SpanId":"bc6feb1ceed762a6","Properties":{"ElapsedMilliseconds":31.0839,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BP:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN825VPK94BP"}}
{"Timestamp":"2024-11-11T16:05:13.2239833+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5f7892c67b446adf24e19cc468876b4","SpanId":"e6ffb812433db973","Properties":{"ElapsedMilliseconds":366.6496,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BQ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN825VPK94BQ"}}
{"Timestamp":"2024-11-11T16:05:13.3414387+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69ff85149b5487b838f9fa1784774f87","SpanId":"7663e7378bfa80a5","Properties":{"ElapsedMilliseconds":129.995,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BR:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN825VPK94BR"}}
{"Timestamp":"2024-11-11T16:05:13.3903561+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e8be4d94b19e94daf12cefa9c2d4fb3","SpanId":"7041c4d23dd323d8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825VPK94BR"}}
{"Timestamp":"2024-11-11T16:05:13.5550383+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e8be4d94b19e94daf12cefa9c2d4fb3","SpanId":"7041c4d23dd323d8","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":158.2569,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"158.2569"}]}}
{"Timestamp":"2024-11-11T16:05:13.5577325+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e8be4d94b19e94daf12cefa9c2d4fb3","SpanId":"7041c4d23dd323d8","Properties":{"ElapsedMilliseconds":167.4191,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN825VPK94BR"}}
{"Timestamp":"2024-11-11T16:05:27.9735386+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:27.9800307+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:28.0573016+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:28.0777049+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6dca75f2-e98a-4243-9a7b-457425c419ef","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:29.5737988+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"elapsed":"53","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6dca75f2-e98a-4243-9a7b-457425c419ef","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:29.9793946+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"elapsed":"59","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6dca75f2-e98a-4243-9a7b-457425c419ef","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:30.0132256+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6dca75f2-e98a-4243-9a7b-457425c419ef","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:30.0376699+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1952.6403,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:30.0402443+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:05:30.0438690+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2066.0887,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2066.0887"}]}}
{"Timestamp":"2024-11-11T16:05:30.0567122+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ff7eeac865f91e0a2fe3cdf5ef199c92","SpanId":"f502fc9412beb489","Properties":{"ElapsedMilliseconds":2083.2468,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN825VPK94BS:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN825VPK94BS"}}
{"Timestamp":"2024-11-11T16:07:42.2350169+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T16:07:42.8317019+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:07:42.9525771+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:07:42.9662040+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:07:42.9670131+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:07:43.4030986+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4951e27ef729e31eb633c30d98ae3ba2","SpanId":"29b45b22ae6c5b54","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI00:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN82616FUI00"}}
{"Timestamp":"2024-11-11T16:07:43.6731045+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4951e27ef729e31eb633c30d98ae3ba2","SpanId":"29b45b22ae6c5b54","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":68.6734,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"68.6734"}]}}
{"Timestamp":"2024-11-11T16:07:43.6895717+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4951e27ef729e31eb633c30d98ae3ba2","SpanId":"29b45b22ae6c5b54","Properties":{"ElapsedMilliseconds":301.3396,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI00:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN82616FUI00"}}
{"Timestamp":"2024-11-11T16:07:43.7091576+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67b703a88e100e31590350da7cb265a6","SpanId":"605a95c25fb1e580","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI00:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN82616FUI00"}}
{"Timestamp":"2024-11-11T16:07:43.7158373+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"67b703a88e100e31590350da7cb265a6","SpanId":"605a95c25fb1e580","Properties":{"ElapsedMilliseconds":6.8794,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI00:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN82616FUI00"}}
{"Timestamp":"2024-11-11T16:07:43.7175579+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02dc69b7297431cca539a834725c5eaf","SpanId":"7c77f79d7542da2d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUHVV:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN82616FUHVV"}}
{"Timestamp":"2024-11-11T16:07:43.7744151+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02dc69b7297431cca539a834725c5eaf","SpanId":"7c77f79d7542da2d","Properties":{"ElapsedMilliseconds":57.7341,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUHVV:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN82616FUHVV"}}
{"Timestamp":"2024-11-11T16:07:43.8538507+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8af03b6d40c4443432e43cdd1ff968f6","SpanId":"497711d7bde2c91f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUHVV:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN82616FUHVV"}}
{"Timestamp":"2024-11-11T16:07:44.0260850+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8af03b6d40c4443432e43cdd1ff968f6","SpanId":"497711d7bde2c91f","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":167.378,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"167.3780"}]}}
{"Timestamp":"2024-11-11T16:07:44.0294971+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8af03b6d40c4443432e43cdd1ff968f6","SpanId":"497711d7bde2c91f","Properties":{"ElapsedMilliseconds":175.638,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUHVV:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN82616FUHVV"}}
{"Timestamp":"2024-11-11T16:07:52.9891658+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:52.9990191+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:53.0709914+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:53.0934746+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9e6a313d-3c16-400b-928c-8ac3fe5fa00a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:55.0409204+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"elapsed":"29","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e6a313d-3c16-400b-928c-8ac3fe5fa00a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:55.3045648+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9e6a313d-3c16-400b-928c-8ac3fe5fa00a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:55.3396334+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9e6a313d-3c16-400b-928c-8ac3fe5fa00a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:55.3529250+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2254.9938,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:55.3548622+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:07:55.3573470+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2363.0537,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2363.0537"}]}}
{"Timestamp":"2024-11-11T16:07:55.3705069+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"217c1382d35d2b2e8b67cacd3cce4acd","SpanId":"2b3f9a5e4864bc98","Properties":{"ElapsedMilliseconds":2381.552,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI01:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82616FUI01"}}
{"Timestamp":"2024-11-11T16:08:04.2311828+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.2376645+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.2459011+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.3945161+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.4614318+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.4840927+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.4865110+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":236.7515,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.4877972+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:04.4892061+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":253.0739,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"253.0739"}]}}
{"Timestamp":"2024-11-11T16:08:04.4912952+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec5ab17595f4965bc9e389b4af346293","SpanId":"0d1fff9900e2ce84","Properties":{"ElapsedMilliseconds":260.4042,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI02:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI02"}}
{"Timestamp":"2024-11-11T16:08:12.5949064+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.6021867+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.6035619+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.6363005+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7053546+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7109020+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6896eef9-c6aa-4a1b-a82d-6279843070ee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7316374+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.7404172+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.7444454+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.7460413+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":139.2853,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.7513768+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.7525930+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":153.4654,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"153.4654"}]}}
{"Timestamp":"2024-11-11T16:08:12.7547691+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26cf02ee4c1e99bb2a71fba5a0c9e36a","SpanId":"f3a75cd6d5adce30","Properties":{"ElapsedMilliseconds":159.8607,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI03"}}
{"Timestamp":"2024-11-11T16:08:12.7569042+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6896eef9-c6aa-4a1b-a82d-6279843070ee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7654822+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6896eef9-c6aa-4a1b-a82d-6279843070ee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7791889+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":65.6196,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7831204+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:12.7851974+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":143.2898,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"143.2898"}]}}
{"Timestamp":"2024-11-11T16:08:12.7874264+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ba26ad56177599ba165d3d85b9427320","SpanId":"f2e481c6627ab33b","Properties":{"ElapsedMilliseconds":151.1374,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI04:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI04"}}
{"Timestamp":"2024-11-11T16:08:27.2067907+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.2188955+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 9:08:25 AM', Current time (UTC): '11/11/2024 9:08:27 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.2447344+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 9:08:25 AM', Current time (UTC): '11/11/2024 9:08:27 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.2464327+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.2506833+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bf9a1ba-b299-4128-a012-0c182e113b77","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.3046151+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bf9a1ba-b299-4128-a012-0c182e113b77","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.3104302+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bf9a1ba-b299-4128-a012-0c182e113b77","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.3122143+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":53.2173,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.3139158+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:08:27.3181343+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":106.0327,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"106.0327"}]}}
{"Timestamp":"2024-11-11T16:08:27.3243650+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e3e4e9319e8004d2ac40cc8d896ffcd1","SpanId":"b592a3ffc1fbeacc","Properties":{"ElapsedMilliseconds":117.556,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI05:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82616FUI05"}}
{"Timestamp":"2024-11-11T16:12:14.6372278+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.6417834+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.6432619+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.6919158+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.6975618+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.7021896+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.7038580+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":57.1743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.7050579+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.7060422+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":64.6067,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"64.6067"}]}}
{"Timestamp":"2024-11-11T16:12:14.7077165+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04c92cb0a2856652117dadc969f640ed","SpanId":"e4240cdc14c22149","Properties":{"ElapsedMilliseconds":70.6505,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI06:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI06"}}
{"Timestamp":"2024-11-11T16:12:14.7104061+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7192066+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7205689+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6896eef9-c6aa-4a1b-a82d-6279843070ee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7254280+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6896eef9-c6aa-4a1b-a82d-6279843070ee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7300472+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6896eef9-c6aa-4a1b-a82d-6279843070ee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7322559+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.7184,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7345197+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:14.7366470+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.0686,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.0686"}]}}
{"Timestamp":"2024-11-11T16:12:14.7385745+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"52995677b2cb3ab4838128b624a6eeac","SpanId":"81b12166ebc71dc9","Properties":{"ElapsedMilliseconds":28.1626,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI07:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82616FUI07"}}
{"Timestamp":"2024-11-11T16:12:19.8680726+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.8713084+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.8723887+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.8854013+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.8969587+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.9092091+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"db6b6ebf-2adb-4993-a410-4f1ba0549f17","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.9104428+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":35.5985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.9117396+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:12:19.9127379+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":41.5635,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.5635"}]}}
{"Timestamp":"2024-11-11T16:12:19.9148155+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a7b20aeba37ee9708d0e998cbdaeb655","SpanId":"031f4aa323fab6bd","Properties":{"ElapsedMilliseconds":46.8343,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82616FUI08:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82616FUI08"}}
{"Timestamp":"2024-11-11T16:15:08.5083766+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T16:15:08.9344125+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:15:09.0642162+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:15:09.0760491+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:15:09.0790947+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T16:15:09.6762321+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69c86b78373264faf78572b464bef3a1","SpanId":"627ebd2927e98516","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21R:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8265BCK21R"}}
{"Timestamp":"2024-11-11T16:15:10.0413655+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69c86b78373264faf78572b464bef3a1","SpanId":"627ebd2927e98516","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":127.6225,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.6225"}]}}
{"Timestamp":"2024-11-11T16:15:10.0565183+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0184010f0bd0ec52fbf0d7fc7595a6a8","SpanId":"8223c0df81c7d741","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21Q:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8265BCK21Q"}}
{"Timestamp":"2024-11-11T16:15:10.0650614+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69c86b78373264faf78572b464bef3a1","SpanId":"627ebd2927e98516","Properties":{"ElapsedMilliseconds":403.5681,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21R:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8265BCK21R"}}
{"Timestamp":"2024-11-11T16:15:10.0651263+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0184010f0bd0ec52fbf0d7fc7595a6a8","SpanId":"8223c0df81c7d741","Properties":{"ElapsedMilliseconds":9.1492,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21Q:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8265BCK21Q"}}
{"Timestamp":"2024-11-11T16:15:10.0840162+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ffd15b84184369528bf0e8dd9861eb46","SpanId":"eb1d76c1d711396c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21S:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8265BCK21S"}}
{"Timestamp":"2024-11-11T16:15:10.2170657+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ffd15b84184369528bf0e8dd9861eb46","SpanId":"eb1d76c1d711396c","Properties":{"ElapsedMilliseconds":133.2053,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21S:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8265BCK21S"}}
{"Timestamp":"2024-11-11T16:15:10.2804883+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63a9efa9c556d0cadfcb06ad40889351","SpanId":"7a1ee7afea3efebd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21S:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8265BCK21S"}}
{"Timestamp":"2024-11-11T16:15:10.4966360+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"63a9efa9c556d0cadfcb06ad40889351","SpanId":"7a1ee7afea3efebd","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":211.3327,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"211.3327"}]}}
{"Timestamp":"2024-11-11T16:15:10.5033228+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63a9efa9c556d0cadfcb06ad40889351","SpanId":"7a1ee7afea3efebd","Properties":{"ElapsedMilliseconds":222.6095,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21S:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8265BCK21S"}}
{"Timestamp":"2024-11-11T16:15:22.2502788+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:22.2577788+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:22.3587968+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:22.3989848+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:24.0570626+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"elapsed":"42","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:24.3324602+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"elapsed":"26","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:24.3568144+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:24.3650284+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1958.349,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:24.3693063+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:15:24.3721558+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2116.5461,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2116.5461"}]}}
{"Timestamp":"2024-11-11T16:15:24.3804544+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d8a258335083cda9bcf01d0090c96fc","SpanId":"081cef0b096ffbec","Properties":{"ElapsedMilliseconds":2130.721,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21T:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK21T"}}
{"Timestamp":"2024-11-11T16:16:13.8796361+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:13.8885599+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:13.8966713+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:14.0325154+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:14.1032615+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:14.1151655+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:14.1168335+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":217.286,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:14.1180327+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:14.1192151+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":232.3147,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"232.3147"}]}}
{"Timestamp":"2024-11-11T16:16:14.1216693+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b73e3308039f300fa0475818e2a3eba2","SpanId":"a08a10189ffbbd1e","Properties":{"ElapsedMilliseconds":242.0876,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21U"}}
{"Timestamp":"2024-11-11T16:16:16.4245796+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.4319500+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.4334867+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.4652939+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.5513277+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.5677821+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"985f2b45-bb56-41a3-9744-da952a6be63d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.6113975+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.6194704+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.6267124+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.6283314+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":191.5582,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.6298694+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.6312498+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":202.0844,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"202.0844"}]}}
{"Timestamp":"2024-11-11T16:16:16.6436210+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8de14e50abba019a1c69962da0187374","SpanId":"8266097d740d78ff","Properties":{"ElapsedMilliseconds":218.9645,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK21V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK21V"}}
{"Timestamp":"2024-11-11T16:16:16.6509303+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"985f2b45-bb56-41a3-9744-da952a6be63d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.6648939+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"985f2b45-bb56-41a3-9744-da952a6be63d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.6755335+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":101.6436,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.6790115+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:16.6816100+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":189.7068,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"189.7068"}]}}
{"Timestamp":"2024-11-11T16:16:16.6840500+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d33c7ed86056e97afe5375c912d44bb9","SpanId":"4c220674f3b4475d","Properties":{"ElapsedMilliseconds":218.8055,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK220:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK220"}}
{"Timestamp":"2024-11-11T16:16:18.1988106+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2051803+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2091482+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"aea697a7-b49f-4b78-9f8e-82231e1ff9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2413542+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aea697a7-b49f-4b78-9f8e-82231e1ff9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2489232+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"aea697a7-b49f-4b78-9f8e-82231e1ff9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2536892+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":41.962,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2555856+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:18.2575812+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":53.1729,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.1729"}]}}
{"Timestamp":"2024-11-11T16:16:18.2593164+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e938801f99d1ef79f4eb84cf2275e3a","SpanId":"df9959bb9bdfab93","Properties":{"ElapsedMilliseconds":60.5361,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK221:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8265BCK221"}}
{"Timestamp":"2024-11-11T16:16:30.3473632+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3541981+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3554685+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3615215+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3692579+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3744286+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3763043+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.4225,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3775582+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:16:30.3785756+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":24.5768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.5768"}]}}
{"Timestamp":"2024-11-11T16:16:30.3802423+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"604e3c4518b6857bfdf5c5df5b08da25","SpanId":"2f9b1d28c07f5d71","Properties":{"ElapsedMilliseconds":33.0193,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK222:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK222"}}
{"Timestamp":"2024-11-11T16:17:55.5599629+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.5633352+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.5643558+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.5910319+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"elapsed":"14","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.6002174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.6052722+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.6066407+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":39.7839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.6077845+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:17:55.6088230+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":45.6168,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.6168"}]}}
{"Timestamp":"2024-11-11T16:17:55.6104703+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0087c8811573da0d9d03209c71c9e54b","SpanId":"f1b7da8a31bd14cb","Properties":{"ElapsedMilliseconds":50.6282,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK223:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK223"}}
{"Timestamp":"2024-11-11T16:20:06.9422953+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9452724+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9464143+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9712194+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"elapsed":"14","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9866416+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9935107+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a64cf1ce-b261-465c-876f-413276d11bf4","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9949158+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":46.0336,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9966299+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:06.9978713+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":52.8064,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.8064"}]}}
{"Timestamp":"2024-11-11T16:20:07.0003482+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47ad534fed35ab5621221ddfa5931265","SpanId":"05ed4f84ee395733","Properties":{"ElapsedMilliseconds":58.6782,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK224:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8265BCK224"}}
{"Timestamp":"2024-11-11T16:20:11.1477987+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1516785+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1526244+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1623208+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1714531+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1747313+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1d611cb3-3d5e-4bbf-83ed-d0eccc5981f4","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1761128+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.3044,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1773352+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.1782860+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.7355,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7355"}]}}
{"Timestamp":"2024-11-11T16:20:11.1798764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae477c6e21d8d2526d9cc6a1c3140363","SpanId":"c535b73769949758","Properties":{"ElapsedMilliseconds":32.1209,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK225:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8265BCK225"}}
{"Timestamp":"2024-11-11T16:20:11.2866037+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.2895838+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.2909327+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"985f2b45-bb56-41a3-9744-da952a6be63d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.2978897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"985f2b45-bb56-41a3-9744-da952a6be63d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.3125593+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"985f2b45-bb56-41a3-9744-da952a6be63d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.3191324+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":25.7852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.3221310+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T16:20:11.3244557+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":35.2862,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.2862"}]}}
{"Timestamp":"2024-11-11T16:20:11.3274287+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dfec8b8be33af3ba756b144d29362933","SpanId":"d2d579e10854e509","Properties":{"ElapsedMilliseconds":40.8401,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8265BCK226:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8265BCK226"}}
{"Timestamp":"2024-11-11T17:01:02.3886242+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:01:02.8806541+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:01:02.9577891+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:01:02.9625973+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:01:02.9637690+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:01:03.6939057+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"45b268963c4a23c543e45b88d7b5df67","SpanId":"d2c830da15ef91ab","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN826V07S3LM"}}
{"Timestamp":"2024-11-11T17:01:03.9544572+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"45b268963c4a23c543e45b88d7b5df67","SpanId":"d2c830da15ef91ab","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":76.5441,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"76.5441"}]}}
{"Timestamp":"2024-11-11T17:01:03.9720501+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"45b268963c4a23c543e45b88d7b5df67","SpanId":"d2c830da15ef91ab","Properties":{"ElapsedMilliseconds":292.3763,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN826V07S3LM"}}
{"Timestamp":"2024-11-11T17:01:03.9858692+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd1c5129212c251ea1916d040491affb","SpanId":"c444ee99640d494b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN826V07S3LL"}}
{"Timestamp":"2024-11-11T17:01:03.9858692+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9593e609a05bdde7c6c9d6273ba40013","SpanId":"ff31de5432355f8d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN826V07S3LN"}}
{"Timestamp":"2024-11-11T17:01:03.9942985+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd1c5129212c251ea1916d040491affb","SpanId":"c444ee99640d494b","Properties":{"ElapsedMilliseconds":8.3529,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN826V07S3LL"}}
{"Timestamp":"2024-11-11T17:01:04.1136574+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9593e609a05bdde7c6c9d6273ba40013","SpanId":"ff31de5432355f8d","Properties":{"ElapsedMilliseconds":127.8986,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN826V07S3LN"}}
{"Timestamp":"2024-11-11T17:01:04.1966807+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"70fc54db5da6ff9146298de14fd9303f","SpanId":"9864e098525db238","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN826V07S3LN"}}
{"Timestamp":"2024-11-11T17:01:04.4658210+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"70fc54db5da6ff9146298de14fd9303f","SpanId":"9864e098525db238","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":263.6225,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"263.6225"}]}}
{"Timestamp":"2024-11-11T17:01:04.4710771+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"70fc54db5da6ff9146298de14fd9303f","SpanId":"9864e098525db238","Properties":{"ElapsedMilliseconds":274.4101,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN826V07S3LN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN826V07S3LN"}}
{"Timestamp":"2024-11-11T17:06:30.7623980+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:06:31.0309149+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:06:31.4671724+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:06:31.5797890+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:06:31.5803703+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:06:31.9938533+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cde317fc5cc8b8741bf104d16bf7f000","SpanId":"c718cc305bee485c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN82721VMQC4"}}
{"Timestamp":"2024-11-11T17:06:32.3546369+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cde317fc5cc8b8741bf104d16bf7f000","SpanId":"c718cc305bee485c","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":134.6997,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"134.6997"}]}}
{"Timestamp":"2024-11-11T17:06:32.3809713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28e7da7397bd9ea743556a8cec3be5ed","SpanId":"3ba15f4f9b7d94f6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC3:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN82721VMQC3"}}
{"Timestamp":"2024-11-11T17:06:32.3809713+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e0c9fb8a7fc6806d1e30c96842ea8c6","SpanId":"c630f34307a62f74","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC5:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN82721VMQC5"}}
{"Timestamp":"2024-11-11T17:06:32.3887858+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cde317fc5cc8b8741bf104d16bf7f000","SpanId":"c718cc305bee485c","Properties":{"ElapsedMilliseconds":406.3311,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN82721VMQC4"}}
{"Timestamp":"2024-11-11T17:06:32.3889575+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28e7da7397bd9ea743556a8cec3be5ed","SpanId":"3ba15f4f9b7d94f6","Properties":{"ElapsedMilliseconds":8.0487,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC3:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN82721VMQC3"}}
{"Timestamp":"2024-11-11T17:06:32.4638054+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e0c9fb8a7fc6806d1e30c96842ea8c6","SpanId":"c630f34307a62f74","Properties":{"ElapsedMilliseconds":82.9903,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC5:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN82721VMQC5"}}
{"Timestamp":"2024-11-11T17:06:32.5276424+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fa5b3b8647a64178e2a63d3bfed16ff","SpanId":"6ffcd7bd389c5900","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC5:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN82721VMQC5"}}
{"Timestamp":"2024-11-11T17:06:32.7659888+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2fa5b3b8647a64178e2a63d3bfed16ff","SpanId":"6ffcd7bd389c5900","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":230.4292,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"230.4292"}]}}
{"Timestamp":"2024-11-11T17:06:32.7698501+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fa5b3b8647a64178e2a63d3bfed16ff","SpanId":"6ffcd7bd389c5900","Properties":{"ElapsedMilliseconds":242.3782,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC5:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN82721VMQC5"}}
{"Timestamp":"2024-11-11T17:06:46.3694708+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:46.3783723+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:46.4648663+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:46.5050425+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"aae18a14-b0a8-497a-b3fa-e79ab024bcea","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:47.9111506+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"elapsed":"44","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aae18a14-b0a8-497a-b3fa-e79ab024bcea","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:48.2192699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"elapsed":"27","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"aae18a14-b0a8-497a-b3fa-e79ab024bcea","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:48.2455809+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"aae18a14-b0a8-497a-b3fa-e79ab024bcea","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:48.2578728+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1743.6857,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:48.2605268+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:48.2637614+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1887.9728,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1887.9728"}]}}
{"Timestamp":"2024-11-11T17:06:48.2806107+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10608efeaa470d401e06c78f28b447e9","SpanId":"71566c4cec17d982","Properties":{"ElapsedMilliseconds":1911.2179,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC6:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82721VMQC6"}}
{"Timestamp":"2024-11-11T17:06:52.5981598+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.6080435+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.6205441+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.7126134+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.7690622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.7794875+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.7809286+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":158.0584,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.7822834+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.7831559+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":178.6731,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"178.6731"}]}}
{"Timestamp":"2024-11-11T17:06:52.7848426+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"27a0c2af834f4873641930f0bf8aca8c","SpanId":"784486b03814af82","Properties":{"ElapsedMilliseconds":186.8415,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC7"}}
{"Timestamp":"2024-11-11T17:06:52.9177899+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:52.9509793+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:52.9555413+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9d8009a8-e28b-4f10-8e6e-8a22a940eb2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:53.0453619+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9d8009a8-e28b-4f10-8e6e-8a22a940eb2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:53.0502312+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9d8009a8-e28b-4f10-8e6e-8a22a940eb2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:53.0589116+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":100.5799,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:53.0606589+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:53.0617083+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":141.1337,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"141.1337"}]}}
{"Timestamp":"2024-11-11T17:06:53.0632926+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"06aa75d7d1b8078e15865e923749d1f5","SpanId":"108c75a089c2db0e","Properties":{"ElapsedMilliseconds":145.5092,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQC8"}}
{"Timestamp":"2024-11-11T17:06:56.8185557+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.8233476+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.8247828+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.8931352+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.9057815+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.9107022+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e802a98-5d3e-4319-8864-e30072130142","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.9140110+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":86.3921,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.9159443+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.9171307+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":94.0913,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"94.0913"}]}}
{"Timestamp":"2024-11-11T17:06:56.9191555+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fcd3901e023580d15a76f7ef64d8fd91","SpanId":"47c64cff95f14bde","Properties":{"ElapsedMilliseconds":100.7339,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQC9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82721VMQC9"}}
{"Timestamp":"2024-11-11T17:06:56.9218572+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9276937+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9304551+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9d8009a8-e28b-4f10-8e6e-8a22a940eb2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9377250+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9d8009a8-e28b-4f10-8e6e-8a22a940eb2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9418162+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9d8009a8-e28b-4f10-8e6e-8a22a940eb2f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9439411+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.5252,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9456847+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:06:56.9470877+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.0352,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.0352"}]}}
{"Timestamp":"2024-11-11T17:06:56.9485692+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be04f1f9f40c2e89dd249230470c4d8a","SpanId":"40170b8571911e7f","Properties":{"ElapsedMilliseconds":26.7729,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82721VMQCA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82721VMQCA"}}
{"Timestamp":"2024-11-11T17:08:34.4312135+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:08:34.8382891+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:08:34.9039812+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:08:34.9052298+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:08:34.9061870+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:08:35.4152401+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3a57dc7d2faf7413e50df0253185d94d","SpanId":"4479e525fefbe66e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B8:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN82736SF1B8"}}
{"Timestamp":"2024-11-11T17:08:35.7231032+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3a57dc7d2faf7413e50df0253185d94d","SpanId":"4479e525fefbe66e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":94.0402,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"94.0402"}]}}
{"Timestamp":"2024-11-11T17:08:35.7384623+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0fad4120ea5f1ce4ff6c9f5c30019977","SpanId":"8afacdac33a1db5e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B7:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN82736SF1B7"}}
{"Timestamp":"2024-11-11T17:08:35.7558912+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e59dc1f7b642393b0ee159e4ba4317b","SpanId":"e2a013a14560ecb4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B9:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN82736SF1B9"}}
{"Timestamp":"2024-11-11T17:08:35.7746547+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0fad4120ea5f1ce4ff6c9f5c30019977","SpanId":"8afacdac33a1db5e","Properties":{"ElapsedMilliseconds":34.5938,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B7:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN82736SF1B7"}}
{"Timestamp":"2024-11-11T17:08:35.7764427+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3a57dc7d2faf7413e50df0253185d94d","SpanId":"4479e525fefbe66e","Properties":{"ElapsedMilliseconds":377.3623,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B8:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN82736SF1B8"}}
{"Timestamp":"2024-11-11T17:08:35.8786736+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e59dc1f7b642393b0ee159e4ba4317b","SpanId":"e2a013a14560ecb4","Properties":{"ElapsedMilliseconds":119.6325,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B9:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN82736SF1B9"}}
{"Timestamp":"2024-11-11T17:08:35.9192849+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bea1f5aa9a2a3fc9431780629052503e","SpanId":"623ff834d5f1ef7e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B9:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN82736SF1B9"}}
{"Timestamp":"2024-11-11T17:08:36.1290303+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bea1f5aa9a2a3fc9431780629052503e","SpanId":"623ff834d5f1ef7e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":202.811,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"202.8110"}]}}
{"Timestamp":"2024-11-11T17:08:36.1317986+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bea1f5aa9a2a3fc9431780629052503e","SpanId":"623ff834d5f1ef7e","Properties":{"ElapsedMilliseconds":212.5529,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1B9:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN82736SF1B9"}}
{"Timestamp":"2024-11-11T17:08:45.5938497+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:45.6007080+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:45.6724542+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:45.6980288+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:47.0997347+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"elapsed":"43","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:47.3601608+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"elapsed":"23","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:47.3932609+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:47.4011769+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1698.377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:47.4031830+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:47.4062343+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1808.1763,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1808.1763"}]}}
{"Timestamp":"2024-11-11T17:08:47.4182777+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d29bbf83b9fbfbad1fa559278fe2dec","SpanId":"e24f65970976404b","Properties":{"ElapsedMilliseconds":1824.5871,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BA:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BA"}}
{"Timestamp":"2024-11-11T17:08:56.1452556+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:56.1539678+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:56.1612367+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:57.2036926+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"elapsed":"83","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:57.4060303+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"elapsed":"59","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:57.4449085+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:57.4548805+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":1291.1967,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:57.4562837+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:08:57.4578570+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":1305.373,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1305.3730"}]}}
{"Timestamp":"2024-11-11T17:08:57.4604256+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e4fccc80f4baa707f15c290f9893c9a0","SpanId":"2529908bb9a4020e","Properties":{"ElapsedMilliseconds":1315.1988,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BB"}}
{"Timestamp":"2024-11-11T17:09:00.7558529+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.7642496+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.7653415+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.8245395+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.8298117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.8324680+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.8347125+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":67.7285,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.8369929+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:00.8379203+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":75.7574,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"75.7574"}]}}
{"Timestamp":"2024-11-11T17:09:00.8393991+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e2f45119405491529557ff011ad3283","SpanId":"da98fd9733703bc4","Properties":{"ElapsedMilliseconds":83.5924,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BC"}}
{"Timestamp":"2024-11-11T17:09:02.3865343+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.3872841+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.4514119+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.4514118+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.4599399+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f16e1c45-574c-41f0-8128-e0ce862f5e74","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.4599399+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"be66dc4e-fca6-43d2-8451-c418010ae0cb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.5398746+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be66dc4e-fca6-43d2-8451-c418010ae0cb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.5546186+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"be66dc4e-fca6-43d2-8451-c418010ae0cb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.5711821+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":105.1874,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.5728656+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.5744677+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":179.2591,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"179.2591"}]}}
{"Timestamp":"2024-11-11T17:09:02.5770746+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de9c327e3e92df4e85b9b23e0a966d05","SpanId":"eae70ca49b8fb7c0","Properties":{"ElapsedMilliseconds":190.5626,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BD"}}
{"Timestamp":"2024-11-11T17:09:02.6523000+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"elapsed":"62","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f16e1c45-574c-41f0-8128-e0ce862f5e74","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.6610515+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f16e1c45-574c-41f0-8128-e0ce862f5e74","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.6632240+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":200.7664,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.6653495+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:02.6687570+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":267.9524,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"267.9524"}]}}
{"Timestamp":"2024-11-11T17:09:02.6704839+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c038b06fb41acd11875a32e15b3a649","SpanId":"ee8bd30b85470f40","Properties":{"ElapsedMilliseconds":283.2914,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN82736SF1BE"}}
{"Timestamp":"2024-11-11T17:09:40.7425809+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.7664739+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.7752419+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.7956834+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.8048261+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.8087911+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.8103002+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":33.1297,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.8115712+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.8126676+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":46.539,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.5390"}]}}
{"Timestamp":"2024-11-11T17:09:40.8162127+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b2ee8a668e53bbca1317ad7c4c4dd41","SpanId":"63c653a2836b3e50","Properties":{"ElapsedMilliseconds":73.6812,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BF"}}
{"Timestamp":"2024-11-11T17:09:40.8223410+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8279566+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8290235+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"be66dc4e-fca6-43d2-8451-c418010ae0cb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8362939+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"be66dc4e-fca6-43d2-8451-c418010ae0cb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8384890+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"be66dc4e-fca6-43d2-8451-c418010ae0cb","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8397527+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.4044,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8413311+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:40.8422731+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.7191,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.7191"}]}}
{"Timestamp":"2024-11-11T17:09:40.8437496+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1233e594f6cf0e4419c47b16f214c2cc","SpanId":"0c285da8bbb67560","Properties":{"ElapsedMilliseconds":21.4607,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN82736SF1BG"}}
{"Timestamp":"2024-11-11T17:09:47.0830013+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.0987482+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.0998767+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.1077981+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.1123386+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.1148701+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d3609722-41e4-49bc-9974-db11eee6d39e","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.1159315+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.3982,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.1170786+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:09:47.1179618+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":19.4698,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.4698"}]}}
{"Timestamp":"2024-11-11T17:09:47.1199532+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e603edd171cb9d5169f3bb88e3ad357","SpanId":"eba716a43231e90f","Properties":{"ElapsedMilliseconds":37.0671,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN82736SF1BH"}}
{"Timestamp":"2024-11-11T17:10:00.4602076+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4626023+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4636235+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4709222+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4790598+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4815183+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11463c73-356e-497b-8ed7-2dd971373775","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4825882+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":16.9554,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4836499+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:10:00.4845480+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":22.0547,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.0547"}]}}
{"Timestamp":"2024-11-11T17:10:00.4860087+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73e51a06845911b70b4475d39394aa29","SpanId":"7a5ddd828b3e8a74","Properties":{"ElapsedMilliseconds":25.7835,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN82736SF1BI:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN82736SF1BI"}}
{"Timestamp":"2024-11-11T17:12:42.5618987+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:12:42.8177366+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:12:42.9716615+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:12:43.0060783+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:12:43.0388822+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:12:44.1720986+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f6f46e4056c1ea6e6b638e87a2dce08","SpanId":"7cc7d09212de0858","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETP:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8275GRAETP"}}
{"Timestamp":"2024-11-11T17:12:44.5092728+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f6f46e4056c1ea6e6b638e87a2dce08","SpanId":"7cc7d09212de0858","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":101.7214,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"101.7214"}]}}
{"Timestamp":"2024-11-11T17:12:44.5272435+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb76ae9917a438009b4645cc5ef9e1d5","SpanId":"4c7f4ecfb348caf4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETO:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8275GRAETO"}}
{"Timestamp":"2024-11-11T17:12:44.5341899+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dafedfbea54b68e14538ebeb2acd2653","SpanId":"b3a0a2aca3ba9603","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETQ:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8275GRAETQ"}}
{"Timestamp":"2024-11-11T17:12:44.5448985+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb76ae9917a438009b4645cc5ef9e1d5","SpanId":"4c7f4ecfb348caf4","Properties":{"ElapsedMilliseconds":17.8239,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETO:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8275GRAETO"}}
{"Timestamp":"2024-11-11T17:12:44.5447873+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f6f46e4056c1ea6e6b638e87a2dce08","SpanId":"7cc7d09212de0858","Properties":{"ElapsedMilliseconds":377.7258,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETP:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8275GRAETP"}}
{"Timestamp":"2024-11-11T17:12:44.6140093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dafedfbea54b68e14538ebeb2acd2653","SpanId":"b3a0a2aca3ba9603","Properties":{"ElapsedMilliseconds":79.815,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETQ:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8275GRAETQ"}}
{"Timestamp":"2024-11-11T17:12:44.6621536+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"45f9bc65295cfcde32d902d13ff2894d","SpanId":"7c1cf413911a7e3b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETQ:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8275GRAETQ"}}
{"Timestamp":"2024-11-11T17:12:44.7805262+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"45f9bc65295cfcde32d902d13ff2894d","SpanId":"7c1cf413911a7e3b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":115.0642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"115.0642"}]}}
{"Timestamp":"2024-11-11T17:12:44.7836657+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"45f9bc65295cfcde32d902d13ff2894d","SpanId":"7c1cf413911a7e3b","Properties":{"ElapsedMilliseconds":121.5474,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETQ:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8275GRAETQ"}}
{"Timestamp":"2024-11-11T17:12:57.5978815+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:57.6088484+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:57.6709661+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:57.6906122+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e100e315-35f6-4ea9-a7b2-1d82c7afcb46","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:59.2347253+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"elapsed":"35","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e100e315-35f6-4ea9-a7b2-1d82c7afcb46","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:59.5028889+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e100e315-35f6-4ea9-a7b2-1d82c7afcb46","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:59.5237446+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e100e315-35f6-4ea9-a7b2-1d82c7afcb46","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:59.5325653+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1836.9413,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:59.5349962+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:12:59.5383980+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1935.4338,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1935.4338"}]}}
{"Timestamp":"2024-11-11T17:12:59.5721644+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0f2c07a6a035d7ad792800086222fe6","SpanId":"b30e01a96ee18841","Properties":{"ElapsedMilliseconds":1974.3907,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8275GRAETR"}}
{"Timestamp":"2024-11-11T17:13:06.3012868+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:06.3107750+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:06.3165664+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:07.0947857+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:07.1615773+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:07.1743310+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:07.1760405+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":857.1822,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:07.1773388+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:07.1783899+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":869.0775,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"869.0775"}]}}
{"Timestamp":"2024-11-11T17:13:07.1804531+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1b5037f8990b7653c4e2e31151095e77","SpanId":"ffd50b24f06b0a3a","Properties":{"ElapsedMilliseconds":879.4682,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETS"}}
{"Timestamp":"2024-11-11T17:13:08.8030940+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.8114163+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.8127988+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.8355696+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.8697137+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.8744264+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2e94db58-38d1-47f3-b121-d6d706c2ab73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.9009823+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.9061915+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.9180582+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7cb64cc8-24c7-4d65-9f17-c5caf67113a5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.9198284+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":104.9699,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.9219984+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.9231524+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":114.0607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"114.0607"}]}}
{"Timestamp":"2024-11-11T17:13:08.9290917+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"feda7326f084e70cb2384e328ff11591","SpanId":"095318ab09e807ae","Properties":{"ElapsedMilliseconds":126.0019,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8275GRAETT"}}
{"Timestamp":"2024-11-11T17:13:08.9320480+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2e94db58-38d1-47f3-b121-d6d706c2ab73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.9328766+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9369247+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2e94db58-38d1-47f3-b121-d6d706c2ab73","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.9426975+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9460764+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"27a35399-7f6d-410a-ac79-753fda96d18a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9474777+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":70.199,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.9501820+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.9514730+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":110.945,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"110.9450"}]}}
{"Timestamp":"2024-11-11T17:13:08.9533063+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55840b5b2e4fccac5cfed967b0d4394c","SpanId":"fbe4ca3b16b7e231","Properties":{"ElapsedMilliseconds":117.763,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8275GRAETU"}}
{"Timestamp":"2024-11-11T17:13:08.9724963+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"27a35399-7f6d-410a-ac79-753fda96d18a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9806228+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"27a35399-7f6d-410a-ac79-753fda96d18a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9825648+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":34.2608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9840026+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:13:08.9850199+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":43.0867,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.0867"}]}}
{"Timestamp":"2024-11-11T17:13:08.9865699+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f52c5e38562558b86cba5bcc7ee20e14","SpanId":"b5316672242c24c9","Properties":{"ElapsedMilliseconds":53.6754,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8275GRAETV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN8275GRAETV"}}
{"Timestamp":"2024-11-11T17:24:01.1916250+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:24:01.5393495+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:24:01.5953514+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:24:01.5968306+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:24:01.5983264+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:24:02.0850820+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9fe482922f647b24b3a684e2f8b8ca2","SpanId":"b9f6497347b52272","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P459:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827BR2P459"}}
{"Timestamp":"2024-11-11T17:24:02.4340922+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b9fe482922f647b24b3a684e2f8b8ca2","SpanId":"b9f6497347b52272","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":93.9298,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"93.9298"}]}}
{"Timestamp":"2024-11-11T17:24:02.4646616+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f67b21c0b53b2f786ca2d460c80d3212","SpanId":"3dbba643be6e2efb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P458:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827BR2P458"}}
{"Timestamp":"2024-11-11T17:24:02.4649940+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2c8e635c9c63f6488f153feeebacef1","SpanId":"cb04b1a31cb5c75f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45A:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827BR2P45A"}}
{"Timestamp":"2024-11-11T17:24:02.4835828+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9fe482922f647b24b3a684e2f8b8ca2","SpanId":"b9f6497347b52272","Properties":{"ElapsedMilliseconds":408.8698,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P459:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827BR2P459"}}
{"Timestamp":"2024-11-11T17:24:02.4954845+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f67b21c0b53b2f786ca2d460c80d3212","SpanId":"3dbba643be6e2efb","Properties":{"ElapsedMilliseconds":31.0088,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P458:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827BR2P458"}}
{"Timestamp":"2024-11-11T17:24:02.5700951+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2c8e635c9c63f6488f153feeebacef1","SpanId":"cb04b1a31cb5c75f","Properties":{"ElapsedMilliseconds":105.0878,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45A:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827BR2P45A"}}
{"Timestamp":"2024-11-11T17:24:02.6364196+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f7e87d57df46cd38b5e959e5bc789b7","SpanId":"7b16d1715d6f08e6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45A:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827BR2P45A"}}
{"Timestamp":"2024-11-11T17:24:02.8725949+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f7e87d57df46cd38b5e959e5bc789b7","SpanId":"7b16d1715d6f08e6","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":226.2599,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"226.2599"}]}}
{"Timestamp":"2024-11-11T17:24:02.8800857+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f7e87d57df46cd38b5e959e5bc789b7","SpanId":"7b16d1715d6f08e6","Properties":{"ElapsedMilliseconds":243.7086,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45A:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827BR2P45A"}}
{"Timestamp":"2024-11-11T17:24:14.5743844+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:14.5810577+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:14.6603949+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:14.6930042+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:16.2070597+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"elapsed":"37","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:16.4623292+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:16.4835851+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:16.4910076+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1793.6489,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:16.4929503+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:16.4950492+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1916.2396,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1916.2396"}]}}
{"Timestamp":"2024-11-11T17:24:16.5040379+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8430b7ed07b228c58c56211c293998f6","SpanId":"fe83b359ea02d7db","Properties":{"ElapsedMilliseconds":1930.7188,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45B:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45B"}}
{"Timestamp":"2024-11-11T17:24:23.4691765+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:23.4759236+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:23.4810470+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:24.2224792+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:24.2978788+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:24.3103095+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:24.3119392+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":828.9767,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:24.3131388+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:24.3141716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":840.461,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"840.4610"}]}}
{"Timestamp":"2024-11-11T17:24:24.3161840+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"61dc3c1d7e265d06b09a0a7b77d222d7","SpanId":"4d4d78679d872e4f","Properties":{"ElapsedMilliseconds":847.0603,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45C"}}
{"Timestamp":"2024-11-11T17:24:25.7159611+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.7291144+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.7304511+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.7527724+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8083703+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8137853+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8482503+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.8556827+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.8592147+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.8607120+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":126.8023,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.8620801+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.8631865+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":136.6314,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"136.6314"}]}}
{"Timestamp":"2024-11-11T17:24:25.8654957+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e077d520f80c6075373a2014ca368751","SpanId":"d280d027644aec7b","Properties":{"ElapsedMilliseconds":149.4904,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45D"}}
{"Timestamp":"2024-11-11T17:24:25.8691933+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.8714543+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8758295+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.8786739+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"76e27cee-2cd4-4aae-b3f2-ee210ea2efee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.8786738+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8926853+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":76.4957,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8944496+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.8956920+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":137.7955,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"137.7955"}]}}
{"Timestamp":"2024-11-11T17:24:25.8980513+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"721c76e4f8c84f6fd6b7fdb0bc57f6eb","SpanId":"c136466e142a5379","Properties":{"ElapsedMilliseconds":145.0987,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45E:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45E"}}
{"Timestamp":"2024-11-11T17:24:25.9071494+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"76e27cee-2cd4-4aae-b3f2-ee210ea2efee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.9107831+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"76e27cee-2cd4-4aae-b3f2-ee210ea2efee","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.9123660+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":31.9654,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.9150467+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:24:25.9180440+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":42.9716,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.9716"}]}}
{"Timestamp":"2024-11-11T17:24:25.9204686+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"042a2883cc90be90429d9a3233b274a1","SpanId":"78172dd6aa75964f","Properties":{"ElapsedMilliseconds":51.285,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45F:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN827BR2P45F"}}
{"Timestamp":"2024-11-11T17:25:47.8846131+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:47.9017595+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:47.9028927+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6603091+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6647619+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6676487+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6687905+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":763.2243,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6697873+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6706339+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":769.0107,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"769.0107"}]}}
{"Timestamp":"2024-11-11T17:25:48.6732114+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"12376dc1af8d059d478a8f15b283a1d3","SpanId":"374ecfdaf03d04d2","Properties":{"ElapsedMilliseconds":788.6248,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45G"}}
{"Timestamp":"2024-11-11T17:25:48.6778481+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6845230+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6857634+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6916728+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6939239+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6951416+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.1509,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6963350+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:48.6974253+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.3046,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.3046"}]}}
{"Timestamp":"2024-11-11T17:25:48.6989350+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb5ea52c65b64c21533542206d17ca90","SpanId":"95f870f211b74cfd","Properties":{"ElapsedMilliseconds":21.1763,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45H:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45H"}}
{"Timestamp":"2024-11-11T17:25:55.7820075+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.7856687+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.7891418+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.8029173+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.8101045+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.8146216+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.8160398+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.5333,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.8173609+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:25:55.8184049+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":32.8591,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8591"}]}}
{"Timestamp":"2024-11-11T17:25:55.8202028+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c09d90f0b1fcaff64fd34b4d6ac85c3","SpanId":"6d0146e268ad4792","Properties":{"ElapsedMilliseconds":38.2669,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45I"}}
{"Timestamp":"2024-11-11T17:26:29.4768019+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.4831324+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.4840232+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.4944948+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.5154347+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.5187536+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4bb92a86-4c7f-44e5-a074-90d2915c27c5","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.5200332+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":34.3324,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.5213141+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:29.5225167+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":39.4804,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.4804"}]}}
{"Timestamp":"2024-11-11T17:26:29.5246584+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8d43d4f290ff0b1a5e025a34d3b4edad","SpanId":"fc1850705e93765e","Properties":{"ElapsedMilliseconds":47.8003,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45J:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827BR2P45J"}}
{"Timestamp":"2024-11-11T17:26:35.3527903+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3561188+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3581369+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3652386+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3700637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3729059+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3745148+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.1745,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3761835+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.3773788+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.3949,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.3949"}]}}
{"Timestamp":"2024-11-11T17:26:35.3796614+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e929e121272ca07193e38c99a1af65c0","SpanId":"8c5017685f40eaaf","Properties":{"ElapsedMilliseconds":26.9053,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45K"}}
{"Timestamp":"2024-11-11T17:26:35.5215032+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5274027+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5287214+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5343273+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5373831+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5390667+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.2017,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5406233+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:26:35.5419090+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.946,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.9460"}]}}
{"Timestamp":"2024-11-11T17:26:35.5434530+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e704a0306a13cb2ddff7b23c65a6d31b","SpanId":"b0496585b88fa001","Properties":{"ElapsedMilliseconds":21.9937,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45L:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45L"}}
{"Timestamp":"2024-11-11T17:27:29.4953704+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.4991552+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5004126+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5275979+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5328683+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5358928+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5373896+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.645,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5389710+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:29.5405244+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":41.48,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.4800"}]}}
{"Timestamp":"2024-11-11T17:27:29.5424811+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5e88d3d47cb839617270459dcad09cb3","SpanId":"21b5b19dfe78a174","Properties":{"ElapsedMilliseconds":47.1691,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45M"}}
{"Timestamp":"2024-11-11T17:27:59.7967097+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8049702+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 10:27:59 AM', Current time (UTC): '11/11/2024 10:27:59 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8548411+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/11/2024 10:27:59 AM', Current time (UTC): '11/11/2024 10:27:59 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8563329+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8579274+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8634788+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8662704+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"45d0287c-f2b6-46e9-a87f-cd0085bbe209","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8678546+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.3918,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8692523+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:27:59.8706354+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":70.4357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.4357"}]}}
{"Timestamp":"2024-11-11T17:27:59.8725214+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4560043332a1e1973ff08eddcfe6461b","SpanId":"b6802ee8c54cb507","Properties":{"ElapsedMilliseconds":75.8414,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45N:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827BR2P45N"}}
{"Timestamp":"2024-11-11T17:29:02.1631074+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1660276+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1670913+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1806510+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1869522+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1896878+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4755634c-b980-4a3b-b76a-4856b17c54e7","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1912418+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.1861,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1925209+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:29:02.1935830+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":27.6796,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.6796"}]}}
{"Timestamp":"2024-11-11T17:29:02.1957480+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"89017864daa2eb747d46ef6f33f47e2e","SpanId":"57ac4232fc3de5c0","Properties":{"ElapsedMilliseconds":32.7159,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827BR2P45O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827BR2P45O"}}
{"Timestamp":"2024-11-11T17:48:57.4778089+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:48:59.2872189+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:01.0495742+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:01.0557396+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:01.0573792+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:02.3380653+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47464473ad320da2c4f928935d78bd6c","SpanId":"7133ac7685858d70","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827PPBKNB4"}}
{"Timestamp":"2024-11-11T17:49:03.1719681+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"47464473ad320da2c4f928935d78bd6c","SpanId":"7133ac7685858d70","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":136.317,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"136.3170"}]}}
{"Timestamp":"2024-11-11T17:49:03.1879804+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47464473ad320da2c4f928935d78bd6c","SpanId":"7133ac7685858d70","Properties":{"ElapsedMilliseconds":876.4098,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827PPBKNB4"}}
{"Timestamp":"2024-11-11T17:49:03.3532152+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5e351e487ee489f9f8b7a0476a87516c","SpanId":"4068b8257cbc1374","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB4:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827PPBKNB4"}}
{"Timestamp":"2024-11-11T17:49:03.3615409+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"85448f22693c0e3d4478552ddba1f637","SpanId":"5154b83836013df1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB5:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827PPBKNB5"}}
{"Timestamp":"2024-11-11T17:49:03.3615862+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5e351e487ee489f9f8b7a0476a87516c","SpanId":"4068b8257cbc1374","Properties":{"ElapsedMilliseconds":8.5057,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB4:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827PPBKNB4"}}
{"Timestamp":"2024-11-11T17:49:03.4017866+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"85448f22693c0e3d4478552ddba1f637","SpanId":"5154b83836013df1","Properties":{"ElapsedMilliseconds":40.2686,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB5:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827PPBKNB5"}}
{"Timestamp":"2024-11-11T17:49:03.7395109+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c7818c9292e265759061efadc0aa9798","SpanId":"037bf167617f9822","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB5:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827PPBKNB5"}}
{"Timestamp":"2024-11-11T17:49:03.8526262+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c7818c9292e265759061efadc0aa9798","SpanId":"037bf167617f9822","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":108.5123,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"108.5123"}]}}
{"Timestamp":"2024-11-11T17:49:03.8550125+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c7818c9292e265759061efadc0aa9798","SpanId":"037bf167617f9822","Properties":{"ElapsedMilliseconds":115.5366,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PPBKNB5:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827PPBKNB5"}}
{"Timestamp":"2024-11-11T17:49:20.4889074+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:49:20.7625930+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:20.8511357+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:20.8540432+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:20.8570419+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:49:21.5567303+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f320ed49bc305c85bbc91c34e53af6d6","SpanId":"3031b92e67a34b9c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6G:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827PVONJ6G"}}
{"Timestamp":"2024-11-11T17:49:22.1214135+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f320ed49bc305c85bbc91c34e53af6d6","SpanId":"3031b92e67a34b9c","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":213.2431,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"213.2431"}]}}
{"Timestamp":"2024-11-11T17:49:22.1702237+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16b45f51fb0f16ff2ef90b6c07880d3a","SpanId":"e4acab34dad485b1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6F:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827PVONJ6F"}}
{"Timestamp":"2024-11-11T17:49:22.1713055+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6d16b1d899890429c3faeaa30138dca","SpanId":"a1fb8f04221dd966","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6H:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827PVONJ6H"}}
{"Timestamp":"2024-11-11T17:49:22.1880125+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f320ed49bc305c85bbc91c34e53af6d6","SpanId":"3031b92e67a34b9c","Properties":{"ElapsedMilliseconds":642.3306,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6G:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827PVONJ6G"}}
{"Timestamp":"2024-11-11T17:49:22.3879152+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16b45f51fb0f16ff2ef90b6c07880d3a","SpanId":"e4acab34dad485b1","Properties":{"ElapsedMilliseconds":218.0465,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6F:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827PVONJ6F"}}
{"Timestamp":"2024-11-11T17:49:22.4380910+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6d16b1d899890429c3faeaa30138dca","SpanId":"a1fb8f04221dd966","Properties":{"ElapsedMilliseconds":266.7364,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6H:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827PVONJ6H"}}
{"Timestamp":"2024-11-11T17:49:22.4986721+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88576579d3938fa1c598a61dfa04cfa5","SpanId":"e509023b82f83ae1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6H:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827PVONJ6H"}}
{"Timestamp":"2024-11-11T17:49:22.7227127+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88576579d3938fa1c598a61dfa04cfa5","SpanId":"e509023b82f83ae1","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":220.0032,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"220.0032"}]}}
{"Timestamp":"2024-11-11T17:49:22.7381163+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88576579d3938fa1c598a61dfa04cfa5","SpanId":"e509023b82f83ae1","Properties":{"ElapsedMilliseconds":239.4653,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6H:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827PVONJ6H"}}
{"Timestamp":"2024-11-11T17:49:36.0951984+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:36.1041030+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:36.2214198+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:36.2614413+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:38.5080417+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"elapsed":"42","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:38.9114478+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"elapsed":"41","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:38.9655828+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:38.9774417+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2709.8039,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:38.9794963+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:38.9841787+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2884.805,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2884.8050"}]}}
{"Timestamp":"2024-11-11T17:49:38.9974582+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af6305695eb945b9c5d470a7854c2a1a","SpanId":"21fa7e0b516e1f77","Properties":{"ElapsedMilliseconds":2902.348,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6I:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6I"}}
{"Timestamp":"2024-11-11T17:49:45.3957254+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.4032077+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.4082112+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.4953078+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.5651117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.5766829+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.5784323+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":167.9312,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.5801689+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.5817863+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":180.2152,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"180.2152"}]}}
{"Timestamp":"2024-11-11T17:49:45.5841255+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6cb3a8fd179a3c7cb4312a4c1dda392","SpanId":"cb604056c8902d46","Properties":{"ElapsedMilliseconds":188.4464,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6J:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6J"}}
{"Timestamp":"2024-11-11T17:49:45.7916978+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:45.8400166+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:45.8484994+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:45.9932050+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:45.9999184+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:46.0137277+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":162.5734,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:46.0155481+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:46.0174334+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":222.6047,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"222.6047"}]}}
{"Timestamp":"2024-11-11T17:49:46.0199236+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81224de565d95c7eb4bb889628fcc9ed","SpanId":"721b9002684c9632","Properties":{"ElapsedMilliseconds":228.3265,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6K"}}
{"Timestamp":"2024-11-11T17:49:52.0566266+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.0615918+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.0627170+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.0808556+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.0986554+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.1025201+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.1038563+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.1278,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.1050792+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.1061024+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":44.7036,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.7036"}]}}
{"Timestamp":"2024-11-11T17:49:52.1087909+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1fcbfa61842f759f58b8908192d0478a","SpanId":"4dd620a0a1e90aa3","Properties":{"ElapsedMilliseconds":51.8521,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6L"}}
{"Timestamp":"2024-11-11T17:49:52.1129286+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1241907+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1258079+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1325173+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1352722+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1367645+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.9536,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1382002+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:52.1394449+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.2582,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2582"}]}}
{"Timestamp":"2024-11-11T17:49:52.1418401+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9634d7e6dce0b7afaa48b6cc985a5ad9","SpanId":"60bbc6ce2853d51a","Properties":{"ElapsedMilliseconds":28.8809,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-22&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6M"}}
{"Timestamp":"2024-11-11T17:49:56.9676336+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:56.9712684+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:56.9726890+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:56.9828188+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:56.9929705+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:56.9962579+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:56.9985753+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.2729,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:57.0033997+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:57.0046531+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.5194,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.5194"}]}}
{"Timestamp":"2024-11-11T17:49:57.0068039+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ca3b9842501e2ffa5fef53932ce6fa5","SpanId":"549850bd3dd85af1","Properties":{"ElapsedMilliseconds":39.2038,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6N:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6N"}}
{"Timestamp":"2024-11-11T17:49:57.0112209+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0156582+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0173991+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0225607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0250909+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0262915+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.8039,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0277142+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:49:57.0297481+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.4534,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4534"}]}}
{"Timestamp":"2024-11-11T17:49:57.0314051+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"976ec2d9dfed40834eab9760b4b0f56c","SpanId":"1756accc8c8b66c6","Properties":{"ElapsedMilliseconds":20.214,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6O:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6O"}}
{"Timestamp":"2024-11-11T17:50:15.0887587+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.0950682+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.0964374+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1169163+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1219734+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1283293+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1294840+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.8895,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1308368+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1320057+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":37.0817,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.0817"}]}}
{"Timestamp":"2024-11-11T17:50:15.1338171+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"62bfd08e36c4b21950da5cf25f08620d","SpanId":"eca00635a394a242","Properties":{"ElapsedMilliseconds":45.1239,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6P:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6P"}}
{"Timestamp":"2024-11-11T17:50:15.1367771+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1414363+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1426717+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1464717+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1485882+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1497834+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.986,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1508979+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:15.1518870+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.8379,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.8379"}]}}
{"Timestamp":"2024-11-11T17:50:15.1533049+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eafe251333695ff7bbf33dae08d9dee9","SpanId":"2addf876651b294b","Properties":{"ElapsedMilliseconds":16.5632,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-20&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6Q:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6Q"}}
{"Timestamp":"2024-11-11T17:50:21.7154156+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7183235+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7193469+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7291077+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7353951+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7393026+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7416337+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2089,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7430412+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:21.7442222+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":26.1115,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1115"}]}}
{"Timestamp":"2024-11-11T17:50:21.7462170+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"843c9208bcd1821da7b7cde741c3649e","SpanId":"0c7ef20d3f34a80d","Properties":{"ElapsedMilliseconds":30.8439,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6R:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6R"}}
{"Timestamp":"2024-11-11T17:50:39.5701264+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5726024+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5746872+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5874647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"elapsed":"9","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5947327+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5972356+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2d5be73a-ac6a-41ca-b13d-dd2b2edb6a3d","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5987017+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":21.9214,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.5999457+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:39.6010667+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":28.5871,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5871"}]}}
{"Timestamp":"2024-11-11T17:50:39.6025875+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4b2dbebab63f82c3a0d87ad2f931a5b","SpanId":"0eb08b33557853e9","Properties":{"ElapsedMilliseconds":32.5552,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827PVONJ6S"}}
{"Timestamp":"2024-11-11T17:50:48.7393687+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7432134+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7442390+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7523569+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7582912+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7615696+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7630680+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.5571,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7644444+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7654877+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.3789,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.3789"}]}}
{"Timestamp":"2024-11-11T17:50:48.7683077+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b98874296075d952092b6f261d3b796d","SpanId":"2b2fe6c9eae869cd","Properties":{"ElapsedMilliseconds":28.9167,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6T"}}
{"Timestamp":"2024-11-11T17:50:48.7710415+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7755155+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7786063+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7829922+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7851963+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7863496+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.3714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7874859+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:50:48.7884320+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.1674,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.1674"}]}}
{"Timestamp":"2024-11-11T17:50:48.7898566+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f69bbb2ba251e72462965be7a89872bf","SpanId":"39ff8b7f12ba5f00","Properties":{"ElapsedMilliseconds":18.8465,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6U:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ6U"}}
{"Timestamp":"2024-11-11T17:51:31.3481728+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3694395+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3706526+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3811642+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3875117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3923387+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3949619+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.0689,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3962837+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:31.3976175+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":28.3382,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.3382"}]}}
{"Timestamp":"2024-11-11T17:51:31.3998305+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d856fc5448c6e031b1d64328cded85c3","SpanId":"1fb80c908bdafd8b","Properties":{"ElapsedMilliseconds":51.7073,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ6V:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ6V"}}
{"Timestamp":"2024-11-11T17:51:51.2209987+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2248186+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2267021+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2302895+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2324400+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"10838b43-d460-4da8-b609-9d4947be3048","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2338155+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.1143,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2352209+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:51:51.2364090+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.8976,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.8976"}]}}
{"Timestamp":"2024-11-11T17:51:51.2379519+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2019af78ab73c2e806a5a7cf781586fc","SpanId":"58c4923321b9b117","Properties":{"ElapsedMilliseconds":16.9588,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ70:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827PVONJ70"}}
{"Timestamp":"2024-11-11T17:52:46.1795397+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.1866730+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.1878242+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.2080125+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.2139372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.2161761+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"817f7dcd-b095-4c6d-bb44-b50d8a844565","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.2172680+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.7993,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.2182470+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:52:46.2192631+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":32.8255,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8255"}]}}
{"Timestamp":"2024-11-11T17:52:46.2207878+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1fa44631955a935dcd6c6c7146efbbc9","SpanId":"ded45d4b46dd735e","Properties":{"ElapsedMilliseconds":41.3524,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827PVONJ71:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827PVONJ71"}}
{"Timestamp":"2024-11-11T17:54:34.5799182+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T17:54:34.9199023+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:54:35.0124187+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:54:35.0340878+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:54:35.0350609+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T17:54:35.7774765+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e759ed3293755752559d47579d41aa32","SpanId":"897e36211c94597b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30N:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827STCP30N"}}
{"Timestamp":"2024-11-11T17:54:36.1314865+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e759ed3293755752559d47579d41aa32","SpanId":"897e36211c94597b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":128.7091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"128.7091"}]}}
{"Timestamp":"2024-11-11T17:54:36.1441232+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9f734c777487e653c9b4c820725999ea","SpanId":"b5260fdef6a79be4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30M:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827STCP30M"}}
{"Timestamp":"2024-11-11T17:54:36.1643053+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"435af023ffd4d435ee969bd942545d78","SpanId":"1abedfe24fdf07cd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30O:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827STCP30O"}}
{"Timestamp":"2024-11-11T17:54:36.1499197+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e759ed3293755752559d47579d41aa32","SpanId":"897e36211c94597b","Properties":{"ElapsedMilliseconds":381.5074,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30N:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827STCP30N"}}
{"Timestamp":"2024-11-11T17:54:36.2732339+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9f734c777487e653c9b4c820725999ea","SpanId":"b5260fdef6a79be4","Properties":{"ElapsedMilliseconds":129.3026,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30M:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827STCP30M"}}
{"Timestamp":"2024-11-11T17:54:36.3711523+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"435af023ffd4d435ee969bd942545d78","SpanId":"1abedfe24fdf07cd","Properties":{"ElapsedMilliseconds":206.8847,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30O:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827STCP30O"}}
{"Timestamp":"2024-11-11T17:54:36.4662057+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f84f93c7819ef9504f7f70588837e05","SpanId":"8d1963b8ad2cfc98","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30O:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827STCP30O"}}
{"Timestamp":"2024-11-11T17:54:36.7570221+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f84f93c7819ef9504f7f70588837e05","SpanId":"8d1963b8ad2cfc98","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":200.8079,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"200.8079"}]}}
{"Timestamp":"2024-11-11T17:54:36.7727614+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f84f93c7819ef9504f7f70588837e05","SpanId":"8d1963b8ad2cfc98","Properties":{"ElapsedMilliseconds":306.5682,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30O:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827STCP30O"}}
{"Timestamp":"2024-11-11T17:54:49.8799854+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:49.8876582+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:49.9919180+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:50.0460728+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"246143db-08c4-4679-8599-76bf06a22a2e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:52.1002958+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"elapsed":"42","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"246143db-08c4-4679-8599-76bf06a22a2e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:52.6644857+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"elapsed":"33","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"246143db-08c4-4679-8599-76bf06a22a2e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:52.7001351+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"246143db-08c4-4679-8599-76bf06a22a2e","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:52.7096722+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2656.7848,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:52.7117785+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:54:52.7148345+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2830.6607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2830.6607"}]}}
{"Timestamp":"2024-11-11T17:54:52.7300453+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c22f92f954478cc57081c663bb84cc5","SpanId":"088307e34068207d","Properties":{"ElapsedMilliseconds":2850.1487,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30P:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827STCP30P"}}
{"Timestamp":"2024-11-11T17:56:28.8952391+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"127f3bbdd075bd55e0edf34942c5dcf8","SpanId":"5f27a359baa70ece","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827STCP30Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827STCP30Q"}}
{"Timestamp":"2024-11-11T17:56:28.9107710+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"127f3bbdd075bd55e0edf34942c5dcf8","SpanId":"5f27a359baa70ece","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827STCP30Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827STCP30Q"}}
{"Timestamp":"2024-11-11T17:56:28.9165792+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"127f3bbdd075bd55e0edf34942c5dcf8","SpanId":"5f27a359baa70ece","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"65a45de9-5ca9-4ad5-8064-68ab00faa8ad","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827STCP30Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827STCP30Q"}}
{"Timestamp":"2024-11-11T17:56:29.1220365+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"127f3bbdd075bd55e0edf34942c5dcf8","SpanId":"5f27a359baa70ece","Properties":{"elapsed":"56","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"65a45de9-5ca9-4ad5-8064-68ab00faa8ad","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827STCP30Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827STCP30Q"}}
{"Timestamp":"2024-11-11T17:56:29.2018859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"127f3bbdd075bd55e0edf34942c5dcf8","SpanId":"5f27a359baa70ece","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"65a45de9-5ca9-4ad5-8064-68ab00faa8ad","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827STCP30Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827STCP30Q"}}
{"Timestamp":"2024-11-11T18:00:03.2521668+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T18:00:03.7184141+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:00:03.9011315+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:00:03.9307577+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:00:03.9321283+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:00:04.9818688+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e08ca6e1098ea0ee1a1475a3ab44720b","SpanId":"0bd9b8e252f8d057","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827VVFJGJE"}}
{"Timestamp":"2024-11-11T18:00:05.2806037+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e08ca6e1098ea0ee1a1475a3ab44720b","SpanId":"0bd9b8e252f8d057","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":83.067,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"83.0670"}]}}
{"Timestamp":"2024-11-11T18:00:05.3029727+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a926414960be35949653c6fc833dc0f","SpanId":"9c471fdbd48f6f5f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827VVFJGJD"}}
{"Timestamp":"2024-11-11T18:00:05.3127884+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e08ca6e1098ea0ee1a1475a3ab44720b","SpanId":"0bd9b8e252f8d057","Properties":{"ElapsedMilliseconds":338.7167,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJE:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN827VVFJGJE"}}
{"Timestamp":"2024-11-11T18:00:05.3154209+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"caea68f0367ed29a37f793a316be92b8","SpanId":"db75f32b1025a9d5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827VVFJGJF"}}
{"Timestamp":"2024-11-11T18:00:05.3340626+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a926414960be35949653c6fc833dc0f","SpanId":"9c471fdbd48f6f5f","Properties":{"ElapsedMilliseconds":31.2159,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN827VVFJGJD"}}
{"Timestamp":"2024-11-11T18:00:05.4313283+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"caea68f0367ed29a37f793a316be92b8","SpanId":"db75f32b1025a9d5","Properties":{"ElapsedMilliseconds":116.0972,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJF:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN827VVFJGJF"}}
{"Timestamp":"2024-11-11T18:00:05.5065737+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"01f10788d9bdf8a49c99938cd6b888b2","SpanId":"0d6e596b92b6e2de","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827VVFJGJF"}}
{"Timestamp":"2024-11-11T18:00:05.7642693+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"01f10788d9bdf8a49c99938cd6b888b2","SpanId":"0d6e596b92b6e2de","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":148.9172,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"148.9172"}]}}
{"Timestamp":"2024-11-11T18:00:05.7693303+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"01f10788d9bdf8a49c99938cd6b888b2","SpanId":"0d6e596b92b6e2de","Properties":{"ElapsedMilliseconds":262.7909,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJF:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN827VVFJGJF"}}
{"Timestamp":"2024-11-11T18:00:20.0287058+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:20.0353707+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:20.1237851+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:20.1523524+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f006f0a-1b36-4fa6-9e49-f89513a05126","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:22.1980319+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"elapsed":"44","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f006f0a-1b36-4fa6-9e49-f89513a05126","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:22.5857891+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"elapsed":"35","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f006f0a-1b36-4fa6-9e49-f89513a05126","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:22.6249437+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f006f0a-1b36-4fa6-9e49-f89513a05126","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:22.6366709+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2477.4404,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:22.6415636+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:22.6494689+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2617.0229,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2617.0229"}]}}
{"Timestamp":"2024-11-11T18:00:22.6670117+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a5ffe2f782d6694e3092f6fa20749f23","SpanId":"3ec16b3452b4113e","Properties":{"ElapsedMilliseconds":2638.4882,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJG:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN827VVFJGJG"}}
{"Timestamp":"2024-11-11T18:00:28.4431739+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.4488304+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.4551244+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.6148138+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.6909522+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.7039180+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.7056875+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":247.3536,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.7074992+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.7086091+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":260.6926,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"260.6926"}]}}
{"Timestamp":"2024-11-11T18:00:28.7109573+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7c63719c4deab59e7bddf73e22650913","SpanId":"a05cf2660bd97101","Properties":{"ElapsedMilliseconds":267.8065,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJH"}}
{"Timestamp":"2024-11-11T18:00:28.8864072+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:28.9137433+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:28.9177775+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:29.0155455+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:29.0189457+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:29.0276216+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":108.0801,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:29.0293105+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:29.0339924+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":144.8435,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"144.8435"}]}}
{"Timestamp":"2024-11-11T18:00:29.0376944+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ecb3297f97963a167cdd7236b89f0783","SpanId":"a6caa855324f04cd","Properties":{"ElapsedMilliseconds":151.3262,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-13&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJI"}}
{"Timestamp":"2024-11-11T18:00:34.7160140+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7216743+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7230493+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7406457+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7488910+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7526119+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7540030+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.3909,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7553553+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7564690+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.972,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.9720"}]}}
{"Timestamp":"2024-11-11T18:00:34.7584136+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1c0212b895b2df34869c4167cc029e6a","SpanId":"8085987b243074ab","Properties":{"ElapsedMilliseconds":42.5089,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJJ"}}
{"Timestamp":"2024-11-11T18:00:34.7607607+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7660979+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7679931+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7743039+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7783853+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7865056+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":16.3345,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7881929+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:34.7900355+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.4034,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.4034"}]}}
{"Timestamp":"2024-11-11T18:00:34.7923731+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"571cce997f2eab69ef047858c2bbbc9d","SpanId":"69c6e68cc993cb9c","Properties":{"ElapsedMilliseconds":31.6244,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJK"}}
{"Timestamp":"2024-11-11T18:00:41.0843269+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.0891536+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.0905599+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.0987378+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.1035635+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.1058774+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.1069811+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.0655,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.1082410+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.1096364+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.6284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.6284"}]}}
{"Timestamp":"2024-11-11T18:00:41.1114394+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ac3ca458254de5ada44591f19becbca","SpanId":"a827b5f4bad92803","Properties":{"ElapsedMilliseconds":27.1806,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJL"}}
{"Timestamp":"2024-11-11T18:00:41.1146567+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1181758+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1191801+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1229317+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1266182+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1286930+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.9426,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1298680+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:41.1308123+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.9135,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.9135"}]}}
{"Timestamp":"2024-11-11T18:00:41.1323090+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cb2065bebfac98f9c7816e0eea977236","SpanId":"4c600045e1bce901","Properties":{"ElapsedMilliseconds":17.9771,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-23&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJM"}}
{"Timestamp":"2024-11-11T18:00:47.5171558+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5231047+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5251437+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5455215+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"elapsed":"15","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5516375+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5545038+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5561567+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":28.7892,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5574765+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5585645+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.5731,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.5731"}]}}
{"Timestamp":"2024-11-11T18:00:47.5605992+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"490af33ec3c25273e3f4f413c1a38b1f","SpanId":"634d12dcd7852353","Properties":{"ElapsedMilliseconds":43.4427,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJN"}}
{"Timestamp":"2024-11-11T18:00:47.5654880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5682882+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5693844+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5729009+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5753338+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5764943+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.5357,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5776208+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:47.5790371+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.0615,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.0615"}]}}
{"Timestamp":"2024-11-11T18:00:47.5810243+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e168388f75ca8a25021f95e10228e146","SpanId":"d0d777133f0d6c80","Properties":{"ElapsedMilliseconds":15.5745,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJO"}}
{"Timestamp":"2024-11-11T18:00:55.4803631+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.4868394+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.4880330+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5081581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5139949+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5342387+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"elapsed":"5","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5387980+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5403948+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":50.1198,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5422556+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5433228+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":56.5838,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"56.5838"}]}}
{"Timestamp":"2024-11-11T18:00:55.5448717+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46ff98abcb4907eff88f917e7e83b380","SpanId":"656f9740a7446c83","Properties":{"ElapsedMilliseconds":64.5857,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJP"}}
{"Timestamp":"2024-11-11T18:00:55.5482225+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5503919+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5513509+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5580794+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5610179+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5632122+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.2906,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5652804+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:00:55.5664088+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.2789,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2789"}]}}
{"Timestamp":"2024-11-11T18:00:55.5678474+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b8cdfd2b86e17833dd3d3d4a79d99d42","SpanId":"6a1e12765dadb38a","Properties":{"ElapsedMilliseconds":19.6443,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJQ"}}
{"Timestamp":"2024-11-11T18:01:11.2461064+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2491892+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2501887+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2598896+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2650340+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2676882+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2689161+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.5085,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2700900+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2711110+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.0999,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.0999"}]}}
{"Timestamp":"2024-11-11T18:01:11.2746770+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53aefaf9d7c107460a0b34de2db394dd","SpanId":"ce8a535d9513d770","Properties":{"ElapsedMilliseconds":28.5213,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJR"}}
{"Timestamp":"2024-11-11T18:01:11.2782447+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2809596+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2819382+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2849827+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2870599+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2886004+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.0912,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2901695+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:11.2921478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.4443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.4443"}]}}
{"Timestamp":"2024-11-11T18:01:11.2938033+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bbc3a655642e5a199c41e0d8e3e127bb","SpanId":"745c830f43da2f02","Properties":{"ElapsedMilliseconds":15.5833,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-11&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJS:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJS"}}
{"Timestamp":"2024-11-11T18:01:18.2359321+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2620010+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2630346+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2761647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2840141+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2892568+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2920036+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.2982,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2943949+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.2966007+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.7331,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.7331"}]}}
{"Timestamp":"2024-11-11T18:01:18.2988065+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"836afe7570282a93adf86bdb04952b7a","SpanId":"05f3f3e7ec58deda","Properties":{"ElapsedMilliseconds":62.9005,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJT"}}
{"Timestamp":"2024-11-11T18:01:18.3023243+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3079855+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3092948+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3151608+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3179581+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3196102+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.8312,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3209697+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:18.3221678+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.612,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6120"}]}}
{"Timestamp":"2024-11-11T18:01:18.3239897+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be4273c737a192c667569fb3bd6fbb23","SpanId":"d71787cd29d3a25a","Properties":{"ElapsedMilliseconds":21.7032,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGJU"}}
{"Timestamp":"2024-11-11T18:01:23.7766570+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.7792490+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.7801184+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.7889725+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.7946675+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.7980559+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.7994300+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.5554,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.8007039+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.8017723+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.8027,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8027"}]}}
{"Timestamp":"2024-11-11T18:01:23.8035952+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e730679fc48633d4dce5d24deaffecac","SpanId":"f896ae4639c5c7a2","Properties":{"ElapsedMilliseconds":27.0078,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGJV"}}
{"Timestamp":"2024-11-11T18:01:23.8063565+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8111974+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8125346+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8176438+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8206792+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8220973+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.7385,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8233914+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:23.8249096+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.0371,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.0371"}]}}
{"Timestamp":"2024-11-11T18:01:23.8270183+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37e3e8e984b7a4233d9dc0b64b985765","SpanId":"6eb910342585f5bb","Properties":{"ElapsedMilliseconds":20.6943,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK0"}}
{"Timestamp":"2024-11-11T18:01:36.6379509+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6454127+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6480670+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6526343+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6574445+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6664759+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"elapsed":"4","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6697581+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6711618+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.2852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6722772+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6733116+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":28.1645,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.1645"}]}}
{"Timestamp":"2024-11-11T18:01:36.6752568+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5395293b2673c194092e51f5df89cb81","SpanId":"3e58b3ecb08795f1","Properties":{"ElapsedMilliseconds":37.3554,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK1"}}
{"Timestamp":"2024-11-11T18:01:36.6788033+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6814326+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6824720+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6853878+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6875070+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6886931+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.6943,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6897939+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:36.6915765+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.4455,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.4455"}]}}
{"Timestamp":"2024-11-11T18:01:36.6933847+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9bdd15fb413b1ba55f958b378017911c","SpanId":"39bd5b24b01224ac","Properties":{"ElapsedMilliseconds":14.5759,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK2"}}
{"Timestamp":"2024-11-11T18:01:45.8349285+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8390183+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8402082+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8464354+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8501174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8522641+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8532996+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.1026,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8542911+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8551707+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.2656,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2656"}]}}
{"Timestamp":"2024-11-11T18:01:45.8566867+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c49dfd86da9d18fa481052f148332fe7","SpanId":"eca430572c2b1824","Properties":{"ElapsedMilliseconds":21.7748,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK3"}}
{"Timestamp":"2024-11-11T18:01:45.8594126+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8630798+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8640319+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8669094+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8689566+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8701277+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.4778,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8712343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:45.8721842+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.3342,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.3342"}]}}
{"Timestamp":"2024-11-11T18:01:45.8742280+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a13fa36f9478cfb0f35ca047085a4e9","SpanId":"2456a42010d98b95","Properties":{"ElapsedMilliseconds":14.8373,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-27&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK4"}}
{"Timestamp":"2024-11-11T18:01:51.2185662+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2220462+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2235833+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2316580+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2362824+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2384098+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2394364+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.7663,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2412450+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2423107+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.4183,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4183"}]}}
{"Timestamp":"2024-11-11T18:01:51.2445043+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82531f0fb51811ecf4eb4611bab9c49f","SpanId":"2d184c1deecd8a9d","Properties":{"ElapsedMilliseconds":26.0079,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK5"}}
{"Timestamp":"2024-11-11T18:01:51.2474401+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-25&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2513982+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2523801+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2552508+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2577632+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2590322+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.0682,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2601694+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:51.2611464+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.0072,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.0072"}]}}
{"Timestamp":"2024-11-11T18:01:51.2626406+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5708bcb956f44377767907ff888ba41f","SpanId":"b2dc9f2c6391d0b5","Properties":{"ElapsedMilliseconds":15.1444,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-25&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK6:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK6"}}
{"Timestamp":"2024-11-11T18:01:56.4364533+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.4434961+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.4449791+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.4717393+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"elapsed":"17","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.4847426+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.4990959+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.5034753+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":56.3987,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.5055734+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.5070813+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":63.6108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"63.6108"}]}}
{"Timestamp":"2024-11-11T18:01:56.5171017+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"569ae79ef06a1576ff68be7d766b219a","SpanId":"c73c3cc6e4a18f70","Properties":{"ElapsedMilliseconds":80.6818,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK7"}}
{"Timestamp":"2024-11-11T18:01:56.5210597+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5422085+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5436380+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5495447+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5525624+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5542228+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.6391,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5558950+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:01:56.5574860+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.6647,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.6647"}]}}
{"Timestamp":"2024-11-11T18:01:56.5594892+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9cc7fb8553ed6e9e88a0f873cdb91d24","SpanId":"6758274bc9df7315","Properties":{"ElapsedMilliseconds":38.4759,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK8:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGK8"}}
{"Timestamp":"2024-11-11T18:02:03.3655395+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3701762+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3714565+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3796950+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3843980+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3876690+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3889632+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.6905,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3900463+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.3910977+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.0115,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.0115"}]}}
{"Timestamp":"2024-11-11T18:02:03.3929517+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1dcb386f60e259d6483ad2731906e5ab","SpanId":"a3a5afc29722b706","Properties":{"ElapsedMilliseconds":27.4907,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGK9"}}
{"Timestamp":"2024-11-11T18:02:03.4006381+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4040896+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4056725+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4092787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4118239+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4132084+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.3671,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4145986+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:03.4163718+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.588,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.5880"}]}}
{"Timestamp":"2024-11-11T18:02:03.4182106+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38ab249be962a5453662f2d9b6f32efb","SpanId":"fdf9dfa51e586167","Properties":{"ElapsedMilliseconds":17.5433,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKA"}}
{"Timestamp":"2024-11-11T18:02:08.3892156+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.3983140+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.3999755+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4302248+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4352456+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4475055+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"elapsed":"6","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4503420+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4516573+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":48.3151,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4528243+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4540983+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":55.8961,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.8961"}]}}
{"Timestamp":"2024-11-11T18:02:08.4556959+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"088f2188aa4b3cf0e50a47076571f23d","SpanId":"01fcfc01b6799114","Properties":{"ElapsedMilliseconds":66.5232,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKB"}}
{"Timestamp":"2024-11-11T18:02:08.4590262+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4616495+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4625874+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4653729+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4674133+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4689662+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":4.7987,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4701275+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:08.4710790+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":9.6526,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.6526"}]}}
{"Timestamp":"2024-11-11T18:02:08.4724729+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99a8be8eaecb057f9d43ca58ef02d383","SpanId":"0b9cbf27c20caea8","Properties":{"ElapsedMilliseconds":13.4782,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-07&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKC:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKC"}}
{"Timestamp":"2024-11-11T18:02:15.0315814+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0415333+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0425734+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0537932+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0597089+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0628141+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0641669+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.1743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0661420+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0669263+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.5159,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.5159"}]}}
{"Timestamp":"2024-11-11T18:02:15.0692956+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2fa3adca1746630d16330770b114f88","SpanId":"9893c73250250c3f","Properties":{"ElapsedMilliseconds":37.7613,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKD"}}
{"Timestamp":"2024-11-11T18:02:15.0738389+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0793785+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0806995+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0848091+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0879124+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0897545+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.9205,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0931883+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:02:15.0979296+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.8856,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8856"}]}}
{"Timestamp":"2024-11-11T18:02:15.0997620+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f1b1ad5fb41eb31e17333ddd4ea32d1","SpanId":"8e834bc7cc2f794e","Properties":{"ElapsedMilliseconds":25.982,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKE"}}
{"Timestamp":"2024-11-11T18:06:26.9727093+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:26.9764757+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:26.9776583+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:26.9884757+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:26.9949897+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:26.9996921+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"elapsed":"2","parameters":"@p1='?' (DbType = Guid), @p0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [RefresherToken] SET [JwtId] = @p0\r\nOUTPUT 1\r\nWHERE [Id] = @p1;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:27.0020599+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d54c423f-91b7-4bba-89b6-ffb5c6e84d75","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:27.0032046+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.5927,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:27.0041552+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:27.0050418+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":28.9082,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9082"}]}}
{"Timestamp":"2024-11-11T18:06:27.0065053+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef3dee00d9d47c0ce9b2c645f76ad486","SpanId":"448dbd1baa7d7bcf","Properties":{"ElapsedMilliseconds":33.8356,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN827VVFJGKF"}}
{"Timestamp":"2024-11-11T18:06:27.0116733+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0183779+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0193270+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0226907+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0256638+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d68dbb2c-ec7c-43c3-a98f-6f906e72ff86","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0269016+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.9694,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0280147+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:06:27.0289697+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.9754,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.9754"}]}}
{"Timestamp":"2024-11-11T18:06:27.0303474+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a238a9345e5031c375d8b394220b14e0","SpanId":"a03e45325ed669b3","Properties":{"ElapsedMilliseconds":18.6956,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN827VVFJGKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN827VVFJGKG"}}
{"Timestamp":"2024-11-11T18:08:38.8125010+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\GHM\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-11T18:08:39.0457109+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:08:39.0984918+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:08:39.0997099+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:08:39.1006369+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\GHM\\Desktop\\demo\\WinFormCalendarAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-11T18:08:40.0816574+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"94801a94218823480635115621ca7fa1","SpanId":"5d0eb906cb54c8ce","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8284P19HLM"}}
{"Timestamp":"2024-11-11T18:08:40.4376763+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"94801a94218823480635115621ca7fa1","SpanId":"5d0eb906cb54c8ce","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":120.1028,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"120.1028"}]}}
{"Timestamp":"2024-11-11T18:08:40.4842137+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aeb84825d11c97720b958ca70c0b9bdb","SpanId":"8bd0024b29908643","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8284P19HLL"}}
{"Timestamp":"2024-11-11T18:08:40.5575789+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f7ae754ad42d75433dfab70b6a8ff62","SpanId":"45396faa2cecaff3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8284P19HLN"}}
{"Timestamp":"2024-11-11T18:08:40.5818913+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"94801a94218823480635115621ca7fa1","SpanId":"5d0eb906cb54c8ce","Properties":{"ElapsedMilliseconds":510.5705,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLM:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN8284P19HLM"}}
{"Timestamp":"2024-11-11T18:08:40.5914457+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aeb84825d11c97720b958ca70c0b9bdb","SpanId":"8bd0024b29908643","Properties":{"ElapsedMilliseconds":107.1598,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLL:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN8284P19HLL"}}
{"Timestamp":"2024-11-11T18:08:40.6360322+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f7ae754ad42d75433dfab70b6a8ff62","SpanId":"45396faa2cecaff3","Properties":{"ElapsedMilliseconds":78.8764,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLN:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN8284P19HLN"}}
{"Timestamp":"2024-11-11T18:08:40.7013397+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc1369b78f076f1db1a7d63b182e974c","SpanId":"a6153ed4a9d5952d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8284P19HLN"}}
{"Timestamp":"2024-11-11T18:08:40.8506227+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dc1369b78f076f1db1a7d63b182e974c","SpanId":"a6153ed4a9d5952d","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":141.3634,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"141.3634"}]}}
{"Timestamp":"2024-11-11T18:08:40.8530483+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc1369b78f076f1db1a7d63b182e974c","SpanId":"a6153ed4a9d5952d","Properties":{"ElapsedMilliseconds":151.7718,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLN:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN8284P19HLN"}}
{"Timestamp":"2024-11-11T18:09:16.7050796+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":49,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:16.7183118+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:16.8025420+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:16.8281366+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"df7adc0d-b1c9-4577-8f7b-e4bb55198503","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:18.7005178+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"elapsed":"30","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df7adc0d-b1c9-4577-8f7b-e4bb55198503","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:19.0531223+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"elapsed":"19","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"df7adc0d-b1c9-4577-8f7b-e4bb55198503","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:19.0728901+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"df7adc0d-b1c9-4577-8f7b-e4bb55198503","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:19.0806755+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2247.2134,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:19.0827236+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:19.0848716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2369.2651,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2369.2651"}]}}
{"Timestamp":"2024-11-11T18:09:19.0952211+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47cb179d95c23250cc50dad1a7086e3f","SpanId":"3efd3f414b6cde15","Properties":{"ElapsedMilliseconds":2390.2737,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLO:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN8284P19HLO"}}
{"Timestamp":"2024-11-11T18:09:25.9305130+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":476,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:25.9430775+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:25.9520375+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7bbb8cdd-3a45-4aba-a359-bd430ee94d9b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.0760592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bbb8cdd-3a45-4aba-a359-bd430ee94d9b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.1563389+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7bbb8cdd-3a45-4aba-a359-bd430ee94d9b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.1749603+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7bbb8cdd-3a45-4aba-a359-bd430ee94d9b","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.1767482+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":222.0771,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.1783487+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.1795285+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":237.7609,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"237.7609"}]}}
{"Timestamp":"2024-11-11T18:09:26.1819476+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20b4a2e6729a7ab6dd50eb365d1eca09","SpanId":"bfe9159b10c9fd46","Properties":{"ElapsedMilliseconds":251.4848,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN8284P19HLP"}}
{"Timestamp":"2024-11-11T18:09:26.3694056+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=3","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.4069549+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.4128557+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f704846d-223d-4194-b451-24968743132a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.5581120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f704846d-223d-4194-b451-24968743132a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.5612309+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f704846d-223d-4194-b451-24968743132a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.5696162+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":153.6296,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.5712655+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
{"Timestamp":"2024-11-11T18:09:26.5725216+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":199.3434,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"199.3434"}]}}
{"Timestamp":"2024-11-11T18:09:26.5749601+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bdacfbc999a1b9fe8589f8b91a5d0bed","SpanId":"254b2cd38855408a","Properties":{"ElapsedMilliseconds":205.5761,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-12&userId=3","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN8284P19HLQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN8284P19HLQ"}}
