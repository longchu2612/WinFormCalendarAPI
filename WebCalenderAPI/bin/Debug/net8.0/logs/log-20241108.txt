{"Timestamp":"2024-11-08T10:33:41.5581607+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T10:33:41.9022695+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:33:41.9809951+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:33:41.9826726+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:33:41.9841270+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:33:42.7220708+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16a11b90e8cb6f71e814bafe4c974a30","SpanId":"5685fc2b77054ad8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3D0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKOI5I3D0"}}
{"Timestamp":"2024-11-08T10:33:43.0644788+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16a11b90e8cb6f71e814bafe4c974a30","SpanId":"5685fc2b77054ad8","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":91.105,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"91.1050"}]}}
{"Timestamp":"2024-11-08T10:33:43.0833445+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"888619d63fecab37be61928772fbbcee","SpanId":"1c450e51a2157e55","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3CV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKOI5I3CV"}}
{"Timestamp":"2024-11-08T10:33:43.0852114+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d27f70bc5bfead46f10a257e7cf2a7f","SpanId":"8d847a828a501902","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3D1:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKOI5I3D1"}}
{"Timestamp":"2024-11-08T10:33:43.1033015+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16a11b90e8cb6f71e814bafe4c974a30","SpanId":"5685fc2b77054ad8","Properties":{"ElapsedMilliseconds":388.8651,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3D0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKOI5I3D0"}}
{"Timestamp":"2024-11-08T10:33:43.2770490+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"888619d63fecab37be61928772fbbcee","SpanId":"1c450e51a2157e55","Properties":{"ElapsedMilliseconds":19.2877,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3CV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKOI5I3CV"}}
{"Timestamp":"2024-11-08T10:33:43.3228774+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d27f70bc5bfead46f10a257e7cf2a7f","SpanId":"8d847a828a501902","Properties":{"ElapsedMilliseconds":237.7212,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3D1:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKOI5I3D1"}}
{"Timestamp":"2024-11-08T10:33:43.3758960+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc74bb051fc6fcb8a596ec4bfea50a77","SpanId":"40cae12915b321c5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3D1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKOI5I3D1"}}
{"Timestamp":"2024-11-08T10:33:43.5610578+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc74bb051fc6fcb8a596ec4bfea50a77","SpanId":"40cae12915b321c5","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":180.0679,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"180.0679"}]}}
{"Timestamp":"2024-11-08T10:33:43.5650748+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc74bb051fc6fcb8a596ec4bfea50a77","SpanId":"40cae12915b321c5","Properties":{"ElapsedMilliseconds":189.2158,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKOI5I3D1:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKOI5I3D1"}}
{"Timestamp":"2024-11-08T10:41:29.2299696+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T10:41:29.7658961+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:29.8454228+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:29.8471874+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:29.8485459+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:30.8231862+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6950340691d835e918d8d99193e99edc","SpanId":"5ae7df544a814190","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKSTN7FC0"}}
{"Timestamp":"2024-11-08T10:41:31.1511479+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6950340691d835e918d8d99193e99edc","SpanId":"5ae7df544a814190","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":91.632,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"91.6320"}]}}
{"Timestamp":"2024-11-08T10:41:31.1635607+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5c7e7846977bef00c3e83dec9c6792f8","SpanId":"a8163c5e11efb0ee","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKSTN7FC1"}}
{"Timestamp":"2024-11-08T10:41:31.1635444+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc902393e5a6b67eb320dab431c3265c","SpanId":"29bc83a919b6173a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKSTN7FC2"}}
{"Timestamp":"2024-11-08T10:41:31.1851457+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6950340691d835e918d8d99193e99edc","SpanId":"5ae7df544a814190","Properties":{"ElapsedMilliseconds":378.7834,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKSTN7FC0"}}
{"Timestamp":"2024-11-08T10:41:31.1851669+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5c7e7846977bef00c3e83dec9c6792f8","SpanId":"a8163c5e11efb0ee","Properties":{"ElapsedMilliseconds":21.2148,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC1:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKSTN7FC1"}}
{"Timestamp":"2024-11-08T10:41:31.2414729+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc902393e5a6b67eb320dab431c3265c","SpanId":"29bc83a919b6173a","Properties":{"ElapsedMilliseconds":78.2589,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC2:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKSTN7FC2"}}
{"Timestamp":"2024-11-08T10:41:31.3024572+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d5da3275973dbe98c4e67fb1c4c1d40","SpanId":"e223d3184bc83fe2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKSTN7FC2"}}
{"Timestamp":"2024-11-08T10:41:31.4736099+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d5da3275973dbe98c4e67fb1c4c1d40","SpanId":"e223d3184bc83fe2","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":166.5292,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"166.5292"}]}}
{"Timestamp":"2024-11-08T10:41:31.4776948+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d5da3275973dbe98c4e67fb1c4c1d40","SpanId":"e223d3184bc83fe2","Properties":{"ElapsedMilliseconds":175.2584,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKSTN7FC2:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKSTN7FC2"}}
{"Timestamp":"2024-11-08T10:41:43.0114693+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T10:41:43.2812116+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:43.3380724+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:43.3404162+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:43.3419014+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:41:44.3992504+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7e11c3ba71d3c585c28cbf54e1d91b0","SpanId":"73da4a3450b87218","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOB:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKT1MDIOB"}}
{"Timestamp":"2024-11-08T10:41:44.7035885+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b7e11c3ba71d3c585c28cbf54e1d91b0","SpanId":"73da4a3450b87218","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":112.8572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"112.8572"}]}}
{"Timestamp":"2024-11-08T10:41:44.7203853+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a215b51a4921776489ff81747e469da","SpanId":"2b61934ecaa0d24d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOC:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKT1MDIOC"}}
{"Timestamp":"2024-11-08T10:41:44.7146901+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"243950266f19c215df91f1aa5a38a55a","SpanId":"98b60830d8215a6f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOD:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKT1MDIOD"}}
{"Timestamp":"2024-11-08T10:41:44.7291381+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7e11c3ba71d3c585c28cbf54e1d91b0","SpanId":"73da4a3450b87218","Properties":{"ElapsedMilliseconds":344.7186,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOB:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKT1MDIOB"}}
{"Timestamp":"2024-11-08T10:41:44.7291639+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a215b51a4921776489ff81747e469da","SpanId":"2b61934ecaa0d24d","Properties":{"ElapsedMilliseconds":10.0122,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOC:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKT1MDIOC"}}
{"Timestamp":"2024-11-08T10:41:44.8345005+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"243950266f19c215df91f1aa5a38a55a","SpanId":"98b60830d8215a6f","Properties":{"ElapsedMilliseconds":120.0367,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOD:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKT1MDIOD"}}
{"Timestamp":"2024-11-08T10:41:44.8904265+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"24f679ac2a527b856f805623fcf1ee3b","SpanId":"32f0911c49e3f9a4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOD:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKT1MDIOD"}}
{"Timestamp":"2024-11-08T10:41:45.0527462+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"24f679ac2a527b856f805623fcf1ee3b","SpanId":"32f0911c49e3f9a4","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":158.8183,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"158.8183"}]}}
{"Timestamp":"2024-11-08T10:41:45.0584904+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"24f679ac2a527b856f805623fcf1ee3b","SpanId":"32f0911c49e3f9a4","Properties":{"ElapsedMilliseconds":168.0563,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOD:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKT1MDIOD"}}
{"Timestamp":"2024-11-08T10:42:06.8550798+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:06.8651065+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:07.5121078+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:07.5951930+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"459a6ed8-528c-44b2-830d-c3a14721914b","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:11.2391785+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"elapsed":"210","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"459a6ed8-528c-44b2-830d-c3a14721914b","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:11.9715542+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"elapsed":"82","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"459a6ed8-528c-44b2-830d-c3a14721914b","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:12.0270559+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"459a6ed8-528c-44b2-830d-c3a14721914b","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:12.0428374+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":4437.5648,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:12.0464987+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:12.0504945+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":5190.5829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5190.5829"}]}}
{"Timestamp":"2024-11-08T10:42:12.0676447+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4c37b037e581667651619e5148d0837","SpanId":"e12a5a6610f8da62","Properties":{"ElapsedMilliseconds":5212.5933,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOE:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKT1MDIOE"}}
{"Timestamp":"2024-11-08T10:42:17.1610806+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.1733186+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.1858336+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.4081390+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"elapsed":"34","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.4354491+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.4436354+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.4456496+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.5740230+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.6037318+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.6064745+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":417.1059,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.6102204+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.6130132+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":442.3554,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"442.3554"}]}}
{"Timestamp":"2024-11-08T10:42:17.6167683+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4c8bf7150ecf3297c5abe44de6a05488","SpanId":"cef2ad0199a299e3","Properties":{"ElapsedMilliseconds":455.7389,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOF"}}
{"Timestamp":"2024-11-08T10:42:17.6226500+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.6713033+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"elapsed":"18","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.6926271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.6972958+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.6995000+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":251.6793,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.7008810+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.7024973+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":261.9284,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"261.9284"}]}}
{"Timestamp":"2024-11-08T10:42:17.7051290+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a79a4aadfc8e6d5669b7fc70daff01e5","SpanId":"870bf063cd4b3dac","Properties":{"ElapsedMilliseconds":269.7242,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOG"}}
{"Timestamp":"2024-11-08T10:42:17.7096199+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.7337490+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.7337490+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.7405935+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ef4fd10a-a57e-4d68-b708-8d5ba9d91625","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.7405935+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"20c60910-5f9e-4e81-a3bd-1f2e1eaa9410","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.8366948+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"elapsed":"32","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"20c60910-5f9e-4e81-a3bd-1f2e1eaa9410","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.8376104+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"elapsed":"17","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ef4fd10a-a57e-4d68-b708-8d5ba9d91625","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.8422630+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"20c60910-5f9e-4e81-a3bd-1f2e1eaa9410","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.8521135+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ef4fd10a-a57e-4d68-b708-8d5ba9d91625","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.8611542+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":117.7143,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.8640402+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.8659755+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":233.8769,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"233.8769"}]}}
{"Timestamp":"2024-11-08T10:42:17.8698101+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e32620da2b9b22be66d8b2ad5a40eeab","SpanId":"fe760f7b3792aaad","Properties":{"ElapsedMilliseconds":247.1369,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKT1MDIOH"}}
{"Timestamp":"2024-11-08T10:42:17.8718007+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":129.5438,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.8784821+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:17.8807569+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":164.1709,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"164.1709"}]}}
{"Timestamp":"2024-11-08T10:42:17.8844075+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1069bd21e2fce761d2d7a20b2d82a6b","SpanId":"4856581117f75307","Properties":{"ElapsedMilliseconds":175.1038,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOI"}}
{"Timestamp":"2024-11-08T10:42:22.5769746+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.5820254+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.5839395+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.5964512+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.6037792+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.6066759+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b226274d-4a5d-42ea-80d8-4c84e3b2865d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.6087839+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.8161,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.6102428+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.6111721+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.3826,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.3826"}]}}
{"Timestamp":"2024-11-08T10:42:22.6125200+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"caca36318a52328730166e60e3ada923","SpanId":"7a302102a33cab0f","Properties":{"ElapsedMilliseconds":35.7894,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKT1MDIOJ"}}
{"Timestamp":"2024-11-08T10:42:22.6148464+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6217034+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6233441+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ef4fd10a-a57e-4d68-b708-8d5ba9d91625","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6401837+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ef4fd10a-a57e-4d68-b708-8d5ba9d91625","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6450951+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ef4fd10a-a57e-4d68-b708-8d5ba9d91625","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6479836+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":21.2225,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6495867+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:22.6513156+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":30.3767,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.3767"}]}}
{"Timestamp":"2024-11-08T10:42:22.6554737+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b1f1dcfdd3b31323b884e14e23106b90","SpanId":"d7af4e54b3cc009f","Properties":{"ElapsedMilliseconds":40.4921,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKT1MDIOK"}}
{"Timestamp":"2024-11-08T10:42:23.2468158+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.2536008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.2608546+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9720f35c-dafb-4f88-9ff6-8fc6c1565462","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.3681956+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"elapsed":"21","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9720f35c-dafb-4f88-9ff6-8fc6c1565462","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.5257050+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"9720f35c-dafb-4f88-9ff6-8fc6c1565462","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.7403256+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9720f35c-dafb-4f88-9ff6-8fc6c1565462","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.7633088+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":498.3785,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.7656605+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:42:23.7670393+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":500,"Elapsed":513.9288,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"513.9288"}]}}
{"Timestamp":"2024-11-08T10:42:23.7695834+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce68a505dee6fdeb22282057722e349d","SpanId":"f85fabfca2b62314","Properties":{"ElapsedMilliseconds":522.9254,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKT1MDIOL:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKT1MDIOL"}}
{"Timestamp":"2024-11-08T10:45:44.1231116+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T10:45:44.6441244+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:45:44.7423417+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:45:44.7449458+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:45:44.7463630+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:45:45.8211559+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1eeb33398351235eddaecc9847fec1d2","SpanId":"def10b00acdd55cc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SJ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKV9IP0SJ"}}
{"Timestamp":"2024-11-08T10:45:46.2386631+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1eeb33398351235eddaecc9847fec1d2","SpanId":"def10b00acdd55cc","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":137.633,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"137.6330"}]}}
{"Timestamp":"2024-11-08T10:45:46.2517584+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e870d12cf23847640c2ab0d4ffb1bf4","SpanId":"0e30c50db7c5adc2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SL:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKV9IP0SL"}}
{"Timestamp":"2024-11-08T10:45:46.2590417+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dfd53a3cf568066ef1f0baf93e60e3f8","SpanId":"9324a39c0b8856bb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SK:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKV9IP0SK"}}
{"Timestamp":"2024-11-08T10:45:46.2820394+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1eeb33398351235eddaecc9847fec1d2","SpanId":"def10b00acdd55cc","Properties":{"ElapsedMilliseconds":470.4114,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SJ:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VKV9IP0SJ"}}
{"Timestamp":"2024-11-08T10:45:46.2925065+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dfd53a3cf568066ef1f0baf93e60e3f8","SpanId":"9324a39c0b8856bb","Properties":{"ElapsedMilliseconds":33.797,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SK:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VKV9IP0SK"}}
{"Timestamp":"2024-11-08T10:45:46.4641869+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e870d12cf23847640c2ab0d4ffb1bf4","SpanId":"0e30c50db7c5adc2","Properties":{"ElapsedMilliseconds":213.0389,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SL:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VKV9IP0SL"}}
{"Timestamp":"2024-11-08T10:45:46.5206892+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa661f1649c681965ca9a95fea51a922","SpanId":"f1b5841a5e0110f3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SL:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKV9IP0SL"}}
{"Timestamp":"2024-11-08T10:45:46.7695200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aa661f1649c681965ca9a95fea51a922","SpanId":"f1b5841a5e0110f3","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":245.4859,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"245.4859"}]}}
{"Timestamp":"2024-11-08T10:45:46.7742582+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa661f1649c681965ca9a95fea51a922","SpanId":"f1b5841a5e0110f3","Properties":{"ElapsedMilliseconds":253.5868,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SL:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VKV9IP0SL"}}
{"Timestamp":"2024-11-08T10:46:00.6207194+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:00.6418634+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:00.8230412+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:00.9101851+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:04.2354719+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"elapsed":"91","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:04.8303654+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"elapsed":"61","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:04.8854211+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:04.9071922+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":3982.308,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:04.9116005+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:04.9195372+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":4287.2405,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4287.2405"}]}}
{"Timestamp":"2024-11-08T10:46:04.9475960+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"efff24d184d0a0463ed83a6d99eefade","SpanId":"243988381960e79d","Properties":{"ElapsedMilliseconds":4327.5407,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SM:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SM"}}
{"Timestamp":"2024-11-08T10:46:08.6481165+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.6621514+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.6782822+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.8142212+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.8273607+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:08.8320823+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:08.8338850+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:08.9323479+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.9535549+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.9575681+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":276.3041,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.9616197+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.9632341+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":304.6504,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"304.6504"}]}}
{"Timestamp":"2024-11-08T10:46:08.9633371+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:08.9695768+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48c7a2348a36a70910fdebe60306642a","SpanId":"e3651d754156fb38","Properties":{"ElapsedMilliseconds":321.5306,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SN"}}
{"Timestamp":"2024-11-08T10:46:08.9841021+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:08.9934691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:09.0076540+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:09.0093363+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":173.8451,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:09.0130448+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:09.0157064+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":185.7625,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"185.7625"}]}}
{"Timestamp":"2024-11-08T10:46:09.0198967+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d146bf91515310a785220c4a5245975b","SpanId":"120529e167c68c16","Properties":{"ElapsedMilliseconds":192.4955,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SO"}}
{"Timestamp":"2024-11-08T10:46:09.0396334+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.0825349+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.0825349+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.0907853+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.0907853+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f67251d8-efa1-4c52-8290-376172ccaf65","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.1732750+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f67251d8-efa1-4c52-8290-376172ccaf65","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.1786671+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f67251d8-efa1-4c52-8290-376172ccaf65","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.1875624+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.1906613+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":94.8455,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.1950649+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.1976219+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":194.5534,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"194.5534"}]}}
{"Timestamp":"2024-11-08T10:46:09.1980458+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.2014859+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65bf8e39a47c2c869e56ff76620471fb","SpanId":"f73ea153fb4da994","Properties":{"ElapsedMilliseconds":218.8158,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0SP"}}
{"Timestamp":"2024-11-08T10:46:09.2108406+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":116.9137,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.2134994+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:09.2148822+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":165.5595,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"165.5595"}]}}
{"Timestamp":"2024-11-08T10:46:09.2188656+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d06fdfba8bd6981370e82e5f8dd7293","SpanId":"a222c299880f18fb","Properties":{"ElapsedMilliseconds":179.1586,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SQ"}}
{"Timestamp":"2024-11-08T10:46:12.0988208+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1054970+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1073194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1161849+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1272413+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1311068+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1330080+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.0568,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1348507+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1370419+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.0664,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.0664"}]}}
{"Timestamp":"2024-11-08T10:46:12.1410625+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8a020620603d8ef8e2b733aa2a1829ff","SpanId":"7389510c31a13f95","Properties":{"ElapsedMilliseconds":42.5739,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SR"}}
{"Timestamp":"2024-11-08T10:46:12.1447565+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1519431+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1542323+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1767813+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1809110+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1835399+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":26.6573,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1863415+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:12.1889400+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":37.6385,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.6385"}]}}
{"Timestamp":"2024-11-08T10:46:12.1931879+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7ee66e5b4615a3f57144661429f91a73","SpanId":"ee668531448703cc","Properties":{"ElapsedMilliseconds":48.4697,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SS:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0SS"}}
{"Timestamp":"2024-11-08T10:46:13.7108273+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:13.7144379+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:13.7211808+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:13.8339144+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:14.0000154+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:14.2303962+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:14.2528735+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":527.7036,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:14.2550707+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:14.2570785+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":500,"Elapsed":542.9985,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"542.9985"}]}}
{"Timestamp":"2024-11-08T10:46:14.2606746+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ab5c54298739537865ece22143c014df","SpanId":"2b7f5bba220d1575","Properties":{"ElapsedMilliseconds":549.9447,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0ST:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0ST"}}
{"Timestamp":"2024-11-08T10:46:40.5361786+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.5401491+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.5431226+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.5841978+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"elapsed":"5","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.5952444+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.5996386+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"00590707-0bbf-4e2d-802d-a4fd58d68212","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.6026276+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":56.663,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.6045428+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:40.6060627+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":66.1055,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.1055"}]}}
{"Timestamp":"2024-11-08T10:46:40.6087409+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea1510c7b01918f9eb4ab06cb43f12d6","SpanId":"8ec7788ffa1853a0","Properties":{"ElapsedMilliseconds":72.6032,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SU:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VKV9IP0SU"}}
{"Timestamp":"2024-11-08T10:46:45.2433877+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2489771+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2512129+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2659761+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2752101+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2794917+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2818240+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.2299,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2838080+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.2863614+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.8242,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.8242"}]}}
{"Timestamp":"2024-11-08T10:46:45.2910262+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ffaa99a5c54b810bd58eccef3ddb443","SpanId":"512ef83319d75d8f","Properties":{"ElapsedMilliseconds":47.8138,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0SV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0SV"}}
{"Timestamp":"2024-11-08T10:46:45.5061524+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5100714+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5117225+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5176780+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5218474+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5249748+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5267436+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5289361+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5313944+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.4067,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.4067"}]}}
{"Timestamp":"2024-11-08T10:46:45.5344129+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fec5a7c1c67815f94cecf47c579f2825","SpanId":"93295801eeeedd23","Properties":{"ElapsedMilliseconds":28.1246,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T0"}}
{"Timestamp":"2024-11-08T10:46:45.5482008+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5557101+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5604619+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5629430+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5635497+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f67251d8-efa1-4c52-8290-376172ccaf65","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5662007+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5796239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f67251d8-efa1-4c52-8290-376172ccaf65","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5822023+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5841720+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f67251d8-efa1-4c52-8290-376172ccaf65","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5892974+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5909361+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":20.4184,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5933914+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":20.0372,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5953586+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.5973780+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:45.5986716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":38.881,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.8810"}]}}
{"Timestamp":"2024-11-08T10:46:45.6003033+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":38.1799,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.1799"}]}}
{"Timestamp":"2024-11-08T10:46:45.6022537+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3fd449d466902a2eb7ea2a71018bedd6","SpanId":"a3a5a299a289dcca","Properties":{"ElapsedMilliseconds":54.1296,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T1:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VKV9IP0T1"}}
{"Timestamp":"2024-11-08T10:46:45.6044751+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3fac1f85e9d51ef7bac32302e0481ea8","SpanId":"aa99f6d740fe3dce","Properties":{"ElapsedMilliseconds":49.8187,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T2"}}
{"Timestamp":"2024-11-08T10:46:50.9886325+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:50.9924714+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:50.9936089+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0105120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0160869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0191678+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4743caf5-ed6e-41f9-afe2-c27b4e6cf23d","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0209431+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.3623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0227314+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0241628+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.9701,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.9701"}]}}
{"Timestamp":"2024-11-08T10:46:51.0264450+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05b4852d27bf4d4fccec8a002d3da329","SpanId":"d9d81340b6b4363f","Properties":{"ElapsedMilliseconds":37.8473,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VKV9IP0T3"}}
{"Timestamp":"2024-11-08T10:46:51.0294330+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0360914+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0380178+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0478485+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0529244+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7aad8f4e-a38e-4335-8eb3-a71148d2ea3b","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0548946+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.2577,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0568431+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:46:51.0585319+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.8648,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8648"}]}}
{"Timestamp":"2024-11-08T10:46:51.0636009+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bf9a14c87e7998bb04a201b19f5975f4","SpanId":"d39ed8d3e684d9a6","Properties":{"ElapsedMilliseconds":34.1593,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T4:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VKV9IP0T4"}}
{"Timestamp":"2024-11-08T10:47:03.3481498+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.3538313+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.3554494+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.3691834+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.3763020+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.4585203+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"09378a12-066b-4ec5-b68e-cf353c26aea3","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.4606951+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":102.6254,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.4629164+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:47:03.4650177+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":500,"Elapsed":111.6488,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"111.6488"}]}}
{"Timestamp":"2024-11-08T10:47:03.4693462+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1438a267761d48b8811569a2e24f507e","SpanId":"6fae120b2c7dee7c","Properties":{"ElapsedMilliseconds":121.2497,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VKV9IP0T5:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VKV9IP0T5"}}
{"Timestamp":"2024-11-08T10:52:46.8097256+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T10:52:47.1844877+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:52:47.3198639+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:52:47.3223874+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:52:47.3238143+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:52:48.3361884+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1063cf9f5b715b3e6a5ac556379a2876","SpanId":"c4e2cd90dd31ca97","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VL37HCAJC"}}
{"Timestamp":"2024-11-08T10:52:48.6762559+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18fe25b1a90a9ac759590d4795795e55","SpanId":"a99419ee2295421a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VL37HCAJD"}}
{"Timestamp":"2024-11-08T10:52:48.6721123+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1063cf9f5b715b3e6a5ac556379a2876","SpanId":"c4e2cd90dd31ca97","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":100.5922,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"100.5922"}]}}
{"Timestamp":"2024-11-08T10:52:48.6905212+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"47d8cfbcc6e5bbb3e562946203780dfa","SpanId":"b2745a3b6c66f786","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJE:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VL37HCAJE"}}
{"Timestamp":"2024-11-08T10:52:48.7291954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18fe25b1a90a9ac759590d4795795e55","SpanId":"a99419ee2295421a","Properties":{"ElapsedMilliseconds":38.7662,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VL37HCAJD"}}
{"Timestamp":"2024-11-08T10:52:48.7639540+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1063cf9f5b715b3e6a5ac556379a2876","SpanId":"c4e2cd90dd31ca97","Properties":{"ElapsedMilliseconds":447.2979,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VL37HCAJC"}}
{"Timestamp":"2024-11-08T10:52:48.8299346+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"47d8cfbcc6e5bbb3e562946203780dfa","SpanId":"b2745a3b6c66f786","Properties":{"ElapsedMilliseconds":139.6078,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJE:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VL37HCAJE"}}
{"Timestamp":"2024-11-08T10:52:48.8862688+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6afd21e41033019163e18ea312361025","SpanId":"21f77824aa37d2cf","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJE:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VL37HCAJE"}}
{"Timestamp":"2024-11-08T10:52:49.0761084+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6afd21e41033019163e18ea312361025","SpanId":"21f77824aa37d2cf","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":186.4296,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"186.4296"}]}}
{"Timestamp":"2024-11-08T10:52:49.0795937+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6afd21e41033019163e18ea312361025","SpanId":"21f77824aa37d2cf","Properties":{"ElapsedMilliseconds":193.3364,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL37HCAJE:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VL37HCAJE"}}
{"Timestamp":"2024-11-08T10:52:59.7434471+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T10:52:59.9858791+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:53:00.0576952+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:53:00.0609851+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:53:00.0624289+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T10:53:00.8627246+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0dbe707a160526e5fab005e52ff78b54","SpanId":"42386ed14abb16ff","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCS:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VL3BCDCCS"}}
{"Timestamp":"2024-11-08T10:53:01.3380264+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0dbe707a160526e5fab005e52ff78b54","SpanId":"42386ed14abb16ff","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":183.5345,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"183.5345"}]}}
{"Timestamp":"2024-11-08T10:53:01.3834997+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ddd182633df2704dd232ec130835bb3c","SpanId":"ab3656771aeb6781","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCT:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VL3BCDCCT"}}
{"Timestamp":"2024-11-08T10:53:01.3834997+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"22d17fa86785ded653d7c35fc048293d","SpanId":"e214716c9d0728b8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCU:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VL3BCDCCU"}}
{"Timestamp":"2024-11-08T10:53:01.4061588+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0dbe707a160526e5fab005e52ff78b54","SpanId":"42386ed14abb16ff","Properties":{"ElapsedMilliseconds":559.5315,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCS:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VL3BCDCCS"}}
{"Timestamp":"2024-11-08T10:53:01.4216184+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ddd182633df2704dd232ec130835bb3c","SpanId":"ab3656771aeb6781","Properties":{"ElapsedMilliseconds":38.661,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCT:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VL3BCDCCT"}}
{"Timestamp":"2024-11-08T10:53:01.5003060+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"22d17fa86785ded653d7c35fc048293d","SpanId":"e214716c9d0728b8","Properties":{"ElapsedMilliseconds":117.3762,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCU:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VL3BCDCCU"}}
{"Timestamp":"2024-11-08T10:53:01.5501953+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"39eaa4d7611840dc364f68935c4b4473","SpanId":"36ebb6f00e622936","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCU:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VL3BCDCCU"}}
{"Timestamp":"2024-11-08T10:53:01.7603194+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"39eaa4d7611840dc364f68935c4b4473","SpanId":"36ebb6f00e622936","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":206.7888,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"206.7888"}]}}
{"Timestamp":"2024-11-08T10:53:01.7645321+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"39eaa4d7611840dc364f68935c4b4473","SpanId":"36ebb6f00e622936","Properties":{"ElapsedMilliseconds":214.3022,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCU:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VL3BCDCCU"}}
{"Timestamp":"2024-11-08T10:53:17.1701358+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:17.1843133+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:17.3657673+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:17.4486722+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:21.0176510+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"elapsed":"88","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:21.7092933+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"elapsed":"59","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:21.7712697+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:21.7940324+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":4333.3531,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:21.7980698+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:21.8038604+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":4626.9889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4626.9889"}]}}
{"Timestamp":"2024-11-08T10:53:21.8237744+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4995a60ae241112e1ce0180e978ad166","SpanId":"025897de990489f2","Properties":{"ElapsedMilliseconds":4653.7527,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCCV:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCCV"}}
{"Timestamp":"2024-11-08T10:53:25.7284188+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:25.7380757+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:25.7489408+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:25.9442166+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:25.9823015+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:25.9924607+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:25.9956415+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.0868541+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:26.1170838+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:26.1210573+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":369.5055,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:26.1241435+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:26.1259884+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":390.0544,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"390.0544"}]}}
{"Timestamp":"2024-11-08T10:53:26.1322545+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7acfaa4ed0b1a04e6ec58ffb1554537b","SpanId":"a543fb1ce7536d25","Properties":{"ElapsedMilliseconds":403.8655,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD0"}}
{"Timestamp":"2024-11-08T10:53:26.1392173+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.1537851+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.1694637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.1746430+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.1781432+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":177.6559,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.1813434+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.1828896+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":194.9408,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"194.9408"}]}}
{"Timestamp":"2024-11-08T10:53:26.1852943+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea954fc2e35f7a788ef8d31ece132abd","SpanId":"d7f34c5c02ca17b0","Properties":{"ElapsedMilliseconds":203.1384,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD1"}}
{"Timestamp":"2024-11-08T10:53:26.1891215+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.2294606+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.2294606+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.2373613+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.2373613+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.3395656+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.3440731+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.3537537+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.3578341+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":117.0918,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.3608053+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.3627928+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":218.5681,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"218.5681"}]}}
{"Timestamp":"2024-11-08T10:53:26.3635555+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.3660473+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ab2b1d0c35e528a6e9f2dafc84c0533","SpanId":"bc2e5fcc7d1553b1","Properties":{"ElapsedMilliseconds":226.9356,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD2:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCD2"}}
{"Timestamp":"2024-11-08T10:53:26.3799936+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":132.8815,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.3834232+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:26.3855641+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":186.843,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"186.8430"}]}}
{"Timestamp":"2024-11-08T10:53:26.3900953+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2861f0d4cc6ef235d02541c1fd3e170","SpanId":"34e9a5816e6ac249","Properties":{"ElapsedMilliseconds":201.004,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD3"}}
{"Timestamp":"2024-11-08T10:53:30.5179103+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5219952+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5229350+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5298399+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5377297+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5396267+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5406528+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7753,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5422237+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5432534+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.4576,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.4576"}]}}
{"Timestamp":"2024-11-08T10:53:30.5452225+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f7d1682100f7c220629b4856ce25295","SpanId":"725ecb486c1151f4","Properties":{"ElapsedMilliseconds":27.6139,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD4"}}
{"Timestamp":"2024-11-08T10:53:30.5481564+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5508234+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5516565+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5611762+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5631883+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5642022+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.2841,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5652381+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:30.5659772+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.6223,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.6223"}]}}
{"Timestamp":"2024-11-08T10:53:30.5672585+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d0aa7c5f8f0bd873cec28ba7ac6058c","SpanId":"8008cb6937d2ef00","Properties":{"ElapsedMilliseconds":19.1431,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCD5"}}
{"Timestamp":"2024-11-08T10:53:31.5118930+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:31.5168512+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:31.5225712+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:31.6355205+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:31.8157679+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:32.0187488+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:32.0384197+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":512.8239,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:32.0402175+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:53:32.0414129+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":500,"Elapsed":525.0962,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"525.0962"}]}}
{"Timestamp":"2024-11-08T10:53:32.0432954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c1fb7ef15605a2056ece0bd79e7d386","SpanId":"b0b12926ef24b514","Properties":{"ElapsedMilliseconds":531.5088,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD6:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCD6"}}
{"Timestamp":"2024-11-08T10:54:22.0498496+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.0567943+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.0588686+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.1031359+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"elapsed":"7","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.1157956+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.1192891+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.1210508+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":57.9463,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.1229431+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:22.1243401+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":67.8001,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"67.8001"}]}}
{"Timestamp":"2024-11-08T10:54:22.1285457+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a5770974c6caa2faaebde6a179f6b7b5","SpanId":"1d6bccf636608419","Properties":{"ElapsedMilliseconds":78.7391,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCD7"}}
{"Timestamp":"2024-11-08T10:54:25.9602114+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9640495+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9652747+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9808233+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9878734+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9914567+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9936026+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.6709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9958800+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:25.9969302+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.0418,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.0418"}]}}
{"Timestamp":"2024-11-08T10:54:25.9993112+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3447fb047f53d3563d62e2f58f71fc19","SpanId":"8353abb09a7b900d","Properties":{"ElapsedMilliseconds":39.1539,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD8"}}
{"Timestamp":"2024-11-08T10:54:26.1383673+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1414947+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1425517+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1505594+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1548135+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1574991+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1587940+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.4706,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1602853+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1647064+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.3086,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.3086"}]}}
{"Timestamp":"2024-11-08T10:54:26.1704162+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bf39f8be11dc4425776d82ff91f10e54","SpanId":"1ef0945f28884a56","Properties":{"ElapsedMilliseconds":31.983,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCD9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCD9"}}
{"Timestamp":"2024-11-08T10:54:26.1840386+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.1849995+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.1880913+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.1911192+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.1920692+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.1934911+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.2021766+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.2076791+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.2102239+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.775,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.2120182+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"elapsed":"12","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.2127015+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.2168554+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.2181360+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":30.6163,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.6163"}]}}
{"Timestamp":"2024-11-08T10:54:26.2200298+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":22.2773,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.2225444+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"97765eebbf89412acb7fefb030f98174","SpanId":"6fa63089fbfbe68c","Properties":{"ElapsedMilliseconds":38.6312,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDA"}}
{"Timestamp":"2024-11-08T10:54:26.2274668+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:26.2332222+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":42.7341,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.7341"}]}}
{"Timestamp":"2024-11-08T10:54:26.2367692+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ed151190f9d78ad8648287e58fb78b2","SpanId":"b7859c69ff3b5afc","Properties":{"ElapsedMilliseconds":51.7355,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDB"}}
{"Timestamp":"2024-11-08T10:54:35.1903542+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.1960449+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.1973704+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2120301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2181229+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2196089+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2204111+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.8433,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2214119+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2226801+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.7528,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.7528"}]}}
{"Timestamp":"2024-11-08T10:54:35.2254654+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6c5073fe64fb286baf5d1e234b2622f","SpanId":"6efffca42ea81854","Properties":{"ElapsedMilliseconds":35.1744,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDC"}}
{"Timestamp":"2024-11-08T10:54:35.2282030+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2327955+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2343253+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2471477+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2522590+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2544131+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":17.5857,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2571409+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:35.2597393+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":27.4116,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.4116"}]}}
{"Timestamp":"2024-11-08T10:54:35.2643118+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d22c2774ad4146be7719379ee462c5e","SpanId":"a12a8f48f0262a49","Properties":{"ElapsedMilliseconds":36.0838,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDD"}}
{"Timestamp":"2024-11-08T10:54:54.1560082+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.1620397+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.1635093+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.1754888+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.1847496+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.2498912+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.2531781+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":87.2348,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.2552447+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:54:54.2569926+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":500,"Elapsed":95.3607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"95.3607"}]}}
{"Timestamp":"2024-11-08T10:54:54.2611228+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8fc301f4721a891258228f88cfc48b43","SpanId":"cd961ab60a38779f","Properties":{"ElapsedMilliseconds":105.1707,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDE:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDE"}}
{"Timestamp":"2024-11-08T10:55:25.7927698+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.7986666+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8013106+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8226185+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"elapsed":"7","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8373696+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8446189+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dabb092f-8143-4578-8572-595f5d6f5ce3","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8472160+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":42.0781,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8517692+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:25.8541152+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":55.8926,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.8926"}]}}
{"Timestamp":"2024-11-08T10:55:25.8583704+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4281835fba1a76569584da28fca5aba","SpanId":"adbdd8db788c5e28","Properties":{"ElapsedMilliseconds":65.7185,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VL3BCDCDF"}}
{"Timestamp":"2024-11-08T10:55:29.5998573+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6055515+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6071882+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6198245+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6296055+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6329600+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6361074+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.9319,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6383444+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.6400363+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.6347,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.6347"}]}}
{"Timestamp":"2024-11-08T10:55:29.6423925+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b045362c9d1b6fb78114395d59980d10","SpanId":"4ffd45adfe985ac9","Properties":{"ElapsedMilliseconds":42.726,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDG"}}
{"Timestamp":"2024-11-08T10:55:29.7911127+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.7966196+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.7980407+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8058759+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8133007+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8185161+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8250685+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.0502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8319765+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8336399+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":37.2096,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.2096"}]}}
{"Timestamp":"2024-11-08T10:55:29.8361285+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8375945+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41bcbcd1e6db6f81092dea1c69786eb0","SpanId":"19163cffb18e1716","Properties":{"ElapsedMilliseconds":46.2387,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDH"}}
{"Timestamp":"2024-11-08T10:55:29.8462216+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8558574+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.8591564+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8634621+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.8659426+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.8772112+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"elapsed":"10","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8806071+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c3a410b0-c04b-4fed-bd01-5bdb5d9b88b6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8825559+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":17.9696,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8845326+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.8878337+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":42.2287,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.2287"}]}}
{"Timestamp":"2024-11-08T10:55:29.8887489+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"elapsed":"16","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.8921889+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"714c5e31aa456aa598d08f2fb92944f1","SpanId":"5b504d88dacceb81","Properties":{"ElapsedMilliseconds":56.0983,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VL3BCDCDI"}}
{"Timestamp":"2024-11-08T10:55:29.9002832+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.9078617+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":39.2568,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.9097052+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:29.9116771+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":48.851,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"48.8510"}]}}
{"Timestamp":"2024-11-08T10:55:29.9138694+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10f7003d3f71269db0e5067ba0983b0b","SpanId":"a0668945a677a5e4","Properties":{"ElapsedMilliseconds":58.053,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDJ"}}
{"Timestamp":"2024-11-08T10:55:35.3858918+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.3906617+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.3918142+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4031291+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4199725+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"elapsed":"14","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4220750+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"060fb1ab-401d-4fe6-85c7-3244d3d94da9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4234945+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.2906,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4248331+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4260023+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.5642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.5642"}]}}
{"Timestamp":"2024-11-08T10:55:35.4274138+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"18d7fa61e6ba80658cc7e49017f9b3bf","SpanId":"6d8088e9a1e11722","Properties":{"ElapsedMilliseconds":41.5606,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VL3BCDCDK"}}
{"Timestamp":"2024-11-08T10:55:35.4293872+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4338338+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4358265+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4446934+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4470770+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"26ce1336-ad3a-455f-ae61-5bc1602a63c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4487545+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.7452,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4499486+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:35.4513970+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.8744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.8744"}]}}
{"Timestamp":"2024-11-08T10:55:35.4535491+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7e62d715bd3c370a673c4abf951fb0b","SpanId":"81838697bebb736f","Properties":{"ElapsedMilliseconds":24.1798,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VL3BCDCDL"}}
{"Timestamp":"2024-11-08T10:55:58.6424695+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.6536335+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.6544550+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.6698805+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.6730466+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.7562810+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.7597980+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":102.8001,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.7692068+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T10:55:58.7731054+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":500,"Elapsed":119.8169,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"119.8169"}]}}
{"Timestamp":"2024-11-08T10:55:58.7762533+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d85dedcd3961c6e3f91d425f22b4041c","SpanId":"cc0fb1f90acdc298","Properties":{"ElapsedMilliseconds":133.8576,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDM:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDM"}}
{"Timestamp":"2024-11-08T11:01:24.3116160+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"?userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.3258946+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.3288951+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.3618348+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"elapsed":"19","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.3862019+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.3956362+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac0a6ddc-c393-47b8-95a6-d6cb0d6832c2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.3998137+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":67.9878,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.4012396+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:01:24.4034271+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-14","StatusCode":200,"Elapsed":77.8551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"77.8551"}]}}
{"Timestamp":"2024-11-08T11:01:24.4074435+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c783abbbd7ac2c74fae6f7fd6989f9b7","SpanId":"585b858bb996b1a3","Properties":{"ElapsedMilliseconds":95.9549,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-14","QueryString":"?userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VL3BCDCDN:00000001","RequestPath":"/api/Schedules/2024-11-14","ConnectionId":"0HN7VL3BCDCDN"}}
{"Timestamp":"2024-11-08T11:06:33.5962655+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:06:34.0554760+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:06:34.1742113+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:06:34.1775636+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:06:34.1794238+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:06:35.6938345+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"724bca2f13036c60ae2c23e9f4666d01","SpanId":"96e825df6cef73f4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4E:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLAU11U4E"}}
{"Timestamp":"2024-11-08T11:06:36.0503482+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"724bca2f13036c60ae2c23e9f4666d01","SpanId":"96e825df6cef73f4","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":128.355,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"128.3550"}]}}
{"Timestamp":"2024-11-08T11:06:36.0715145+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6b25deaf606cc3ceef996c9389bb4f8a","SpanId":"a780dea1d9a4be8a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4F:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLAU11U4F"}}
{"Timestamp":"2024-11-08T11:06:36.0765868+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d063c0e1e8f7a84c0666bc3cd3a3452","SpanId":"4aa26c1662526a89","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4G:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLAU11U4G"}}
{"Timestamp":"2024-11-08T11:06:36.0802288+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"724bca2f13036c60ae2c23e9f4666d01","SpanId":"96e825df6cef73f4","Properties":{"ElapsedMilliseconds":393.7018,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4E:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLAU11U4E"}}
{"Timestamp":"2024-11-08T11:06:36.0837545+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6b25deaf606cc3ceef996c9389bb4f8a","SpanId":"a780dea1d9a4be8a","Properties":{"ElapsedMilliseconds":12.3784,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4F:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLAU11U4F"}}
{"Timestamp":"2024-11-08T11:06:36.1545398+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d063c0e1e8f7a84c0666bc3cd3a3452","SpanId":"4aa26c1662526a89","Properties":{"ElapsedMilliseconds":78.4736,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4G:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLAU11U4G"}}
{"Timestamp":"2024-11-08T11:06:36.2446263+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9fbd3791ce637fa31eac41e38b7d29b","SpanId":"74ed9770003a5c62","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4G:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLAU11U4G"}}
{"Timestamp":"2024-11-08T11:06:36.8431668+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b9fbd3791ce637fa31eac41e38b7d29b","SpanId":"74ed9770003a5c62","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":593.5305,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"593.5305"}]}}
{"Timestamp":"2024-11-08T11:06:36.8491041+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9fbd3791ce637fa31eac41e38b7d29b","SpanId":"74ed9770003a5c62","Properties":{"ElapsedMilliseconds":604.5263,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLAU11U4G:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLAU11U4G"}}
{"Timestamp":"2024-11-08T11:08:56.3932242+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:08:56.8805091+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:08:56.9640558+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:08:56.9664183+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:08:56.9676842+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:08:57.6188970+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ad13096b45bafecfaa94bfdd890c4e24","SpanId":"d103d010ec9f11fd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC03:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLC8HDC03"}}
{"Timestamp":"2024-11-08T11:08:58.0080880+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ad13096b45bafecfaa94bfdd890c4e24","SpanId":"d103d010ec9f11fd","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":187.2355,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"187.2355"}]}}
{"Timestamp":"2024-11-08T11:08:58.0151965+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b572098b8065eba551ee567f3e83b939","SpanId":"bc4c0896e76f8978","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC02:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLC8HDC02"}}
{"Timestamp":"2024-11-08T11:08:58.0151966+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f26eac65b0ee31b795938373dfc9f83","SpanId":"a7bb23dc671e8a5f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC04:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLC8HDC04"}}
{"Timestamp":"2024-11-08T11:08:58.0296161+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ad13096b45bafecfaa94bfdd890c4e24","SpanId":"d103d010ec9f11fd","Properties":{"ElapsedMilliseconds":419.8234,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC03:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLC8HDC03"}}
{"Timestamp":"2024-11-08T11:08:58.0326181+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b572098b8065eba551ee567f3e83b939","SpanId":"bc4c0896e76f8978","Properties":{"ElapsedMilliseconds":17.5611,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC02:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLC8HDC02"}}
{"Timestamp":"2024-11-08T11:08:58.0881168+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f26eac65b0ee31b795938373dfc9f83","SpanId":"a7bb23dc671e8a5f","Properties":{"ElapsedMilliseconds":73.2306,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC04:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLC8HDC04"}}
{"Timestamp":"2024-11-08T11:08:58.1567732+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26ca232e23003858cb1359ea3987dd47","SpanId":"6ba041995f705b9a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC04:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLC8HDC04"}}
{"Timestamp":"2024-11-08T11:08:58.3745845+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26ca232e23003858cb1359ea3987dd47","SpanId":"6ba041995f705b9a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":204.2128,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"204.2128"}]}}
{"Timestamp":"2024-11-08T11:08:58.3796790+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26ca232e23003858cb1359ea3987dd47","SpanId":"6ba041995f705b9a","Properties":{"ElapsedMilliseconds":222.9852,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLC8HDC04:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLC8HDC04"}}
{"Timestamp":"2024-11-08T11:10:01.8600554+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:10:01.9852435+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:02.0290549+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:02.0316664+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:02.0334270+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:21.5107961+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:10:21.9663205+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:22.0771518+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:22.0885481+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:22.0896650+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:10:23.2277308+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72bf993e4af8b8cdf19277959974ad9b","SpanId":"387d597e60c8d291","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31HU:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLD1V31HU"}}
{"Timestamp":"2024-11-08T11:10:23.6579086+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72bf993e4af8b8cdf19277959974ad9b","SpanId":"387d597e60c8d291","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":115.8006,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"115.8006"}]}}
{"Timestamp":"2024-11-08T11:10:23.6634768+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"41808bef4f7230bdca3eed0b3edaa8d8","SpanId":"2fc1930dd65c24bd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31I0:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLD1V31I0"}}
{"Timestamp":"2024-11-08T11:10:23.6636822+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6757dce02a97cd7daae98c635034d934","SpanId":"9d4695fb30f4b201","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31HV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLD1V31HV"}}
{"Timestamp":"2024-11-08T11:10:23.6830966+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6757dce02a97cd7daae98c635034d934","SpanId":"9d4695fb30f4b201","Properties":{"ElapsedMilliseconds":18.3877,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31HV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLD1V31HV"}}
{"Timestamp":"2024-11-08T11:10:23.6830954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72bf993e4af8b8cdf19277959974ad9b","SpanId":"387d597e60c8d291","Properties":{"ElapsedMilliseconds":472.5736,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31HU:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLD1V31HU"}}
{"Timestamp":"2024-11-08T11:10:23.7728177+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"41808bef4f7230bdca3eed0b3edaa8d8","SpanId":"2fc1930dd65c24bd","Properties":{"ElapsedMilliseconds":109.4595,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31I0:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLD1V31I0"}}
{"Timestamp":"2024-11-08T11:10:23.8331080+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1bbb05235d18e10d5717581747352ec8","SpanId":"4301eadcf89d5fac","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31I0:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLD1V31I0"}}
{"Timestamp":"2024-11-08T11:10:23.9639579+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1bbb05235d18e10d5717581747352ec8","SpanId":"4301eadcf89d5fac","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination \"POST api/Schedules\" for actions - WebCalenderAPI.Controllers.SchedulesController.Add (WebCalenderAPI),WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":500,"Elapsed":125.7404,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"125.7404"}]}}
{"Timestamp":"2024-11-08T11:10:24.0407262+07:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"1bbb05235d18e10d5717581747352ec8","SpanId":"4301eadcf89d5fac","Exception":"Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination \"POST api/Schedules\" for actions - WebCalenderAPI.Controllers.SchedulesController.Add (WebCalenderAPI),WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN7VLD1V31I0:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLD1V31I0"}}
{"Timestamp":"2024-11-08T11:10:24.0512231+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1bbb05235d18e10d5717581747352ec8","SpanId":"4301eadcf89d5fac","Properties":{"ElapsedMilliseconds":218.2892,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLD1V31I0:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLD1V31I0"}}
{"Timestamp":"2024-11-08T11:11:12.1132028+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:11:12.5750638+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:11:12.6483939+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:11:12.6503665+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:11:12.6514960+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:11:13.3882684+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d85cc7edac691493c2392e2f3ea1d9e","SpanId":"d998e25d50bc36b4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ794:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLDGUJ794"}}
{"Timestamp":"2024-11-08T11:11:13.8822214+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d85cc7edac691493c2392e2f3ea1d9e","SpanId":"d998e25d50bc36b4","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":125.5556,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"125.5556"}]}}
{"Timestamp":"2024-11-08T11:11:13.8868936+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31896b81c912da84bef79161a2d66afc","SpanId":"e6843530c8896703","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ796:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLDGUJ796"}}
{"Timestamp":"2024-11-08T11:11:13.8903491+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"920a0f895e924f145aa36ae4a48250fd","SpanId":"39b92bfe0d1f37c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ795:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLDGUJ795"}}
{"Timestamp":"2024-11-08T11:11:13.9162396+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d85cc7edac691493c2392e2f3ea1d9e","SpanId":"d998e25d50bc36b4","Properties":{"ElapsedMilliseconds":538.8329,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ794:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLDGUJ794"}}
{"Timestamp":"2024-11-08T11:11:13.9439626+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"920a0f895e924f145aa36ae4a48250fd","SpanId":"39b92bfe0d1f37c7","Properties":{"ElapsedMilliseconds":53.4687,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ795:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLDGUJ795"}}
{"Timestamp":"2024-11-08T11:11:13.9912547+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31896b81c912da84bef79161a2d66afc","SpanId":"e6843530c8896703","Properties":{"ElapsedMilliseconds":104.7235,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ796:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLDGUJ796"}}
{"Timestamp":"2024-11-08T11:11:14.0524332+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0d62e31e060dc99823832d33beba1cf","SpanId":"91be2be677f427b7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ796:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLDGUJ796"}}
{"Timestamp":"2024-11-08T11:11:14.2513661+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0d62e31e060dc99823832d33beba1cf","SpanId":"91be2be677f427b7","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":193.4668,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"193.4668"}]}}
{"Timestamp":"2024-11-08T11:11:14.2551953+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0d62e31e060dc99823832d33beba1cf","SpanId":"91be2be677f427b7","Properties":{"ElapsedMilliseconds":202.7355,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ796:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLDGUJ796"}}
{"Timestamp":"2024-11-08T11:11:21.2160376+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:21.2410817+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:21.4188759+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:21.5224774+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:25.0396497+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"elapsed":"96","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:25.2918283+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:25.4833376+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:25.5255212+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":3993.0998,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:25.5290958+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:25.5307791+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":500,"Elapsed":4305.1098,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4305.1098"}]}}
{"Timestamp":"2024-11-08T11:11:25.5563122+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"700c911474ad707a8e9c7db2c8eb773c","SpanId":"fca52b4835817f81","Properties":{"ElapsedMilliseconds":4340.4177,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ797:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ797"}}
{"Timestamp":"2024-11-08T11:11:34.4483948+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"?userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.4634258+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.4662794+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.6448529+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.6802445+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.6898027+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"75104d41-bafe-4379-96b2-1a19843e9f60","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.7137642+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":241.8151,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.7170742+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:11:34.7185349+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":257.6874,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"257.6874"}]}}
{"Timestamp":"2024-11-08T11:11:34.7213236+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"afa548e8612f81a342d0058b439c5f94","SpanId":"33678562ddd7f056","Properties":{"ElapsedMilliseconds":273.0194,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"?userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLDGUJ798:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLDGUJ798"}}
{"Timestamp":"2024-11-08T11:12:47.0643104+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:12:47.7608973+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:12:47.8408330+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:12:47.8425851+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:12:47.8434121+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:12:48.7074033+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7137daf169444f135aed04809a6219d2","SpanId":"160227d70e87bd30","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLEDD46B4"}}
{"Timestamp":"2024-11-08T11:12:49.0688589+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7137daf169444f135aed04809a6219d2","SpanId":"160227d70e87bd30","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":117.4408,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"117.4408"}]}}
{"Timestamp":"2024-11-08T11:12:49.0782657+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e204ba3b837912fa5f8aa03f6a393009","SpanId":"1e3f9c454e19dfe0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B5:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLEDD46B5"}}
{"Timestamp":"2024-11-08T11:12:49.0782654+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"728dcd319e8c679f48971d284e6a71e3","SpanId":"4e315b628648b549","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B6:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLEDD46B6"}}
{"Timestamp":"2024-11-08T11:12:49.1038143+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7137daf169444f135aed04809a6219d2","SpanId":"160227d70e87bd30","Properties":{"ElapsedMilliseconds":407.5204,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLEDD46B4"}}
{"Timestamp":"2024-11-08T11:12:49.1040515+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e204ba3b837912fa5f8aa03f6a393009","SpanId":"1e3f9c454e19dfe0","Properties":{"ElapsedMilliseconds":24.385,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B5:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLEDD46B5"}}
{"Timestamp":"2024-11-08T11:12:49.1925550+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"728dcd319e8c679f48971d284e6a71e3","SpanId":"4e315b628648b549","Properties":{"ElapsedMilliseconds":114.435,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B6:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLEDD46B6"}}
{"Timestamp":"2024-11-08T11:12:49.2495856+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"936c3ad8eaed0e2c997d81560f377b7a","SpanId":"f0cd2f61d648b7d9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B6:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLEDD46B6"}}
{"Timestamp":"2024-11-08T11:12:49.4354931+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"936c3ad8eaed0e2c997d81560f377b7a","SpanId":"f0cd2f61d648b7d9","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":180.5486,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"180.5486"}]}}
{"Timestamp":"2024-11-08T11:12:49.4395492+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"936c3ad8eaed0e2c997d81560f377b7a","SpanId":"f0cd2f61d648b7d9","Properties":{"ElapsedMilliseconds":190.0006,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B6:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLEDD46B6"}}
{"Timestamp":"2024-11-08T11:13:21.0508287+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-09","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:21.0800426+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:21.2223913+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:21.2789808+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:24.0992983+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"elapsed":"123","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:24.3215762+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:24.7576877+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:24.7915458+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":3502.4511,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:24.7931604+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:24.7943804+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-09","StatusCode":500,"Elapsed":3721.5725,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3721.5725"}]}}
{"Timestamp":"2024-11-08T11:13:24.8112725+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b42a96265f0dd194266ccb664f563a2c","SpanId":"da38502af5c72c11","Properties":{"ElapsedMilliseconds":3760.7121,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-09","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B7:00000001","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.6203950+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-09","QueryString":"?userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.6323925+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.6344294+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.8150137+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.8407069+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.8487293+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"deac7489-93ed-4301-a17d-656428729ef7","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.8653700+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":228.4602,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.8676841+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:13:29.8690826+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/2024-11-09","StatusCode":200,"Elapsed":239.3397,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"239.3397"}]}}
{"Timestamp":"2024-11-08T11:13:29.8718634+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d0ad1e4f45fb5a79a4ae1400f6acd519","SpanId":"ebcd215ee0309c04","Properties":{"ElapsedMilliseconds":251.7639,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/2024-11-09","QueryString":"?userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLEDD46B7:00000002","RequestPath":"/api/Schedules/2024-11-09","ConnectionId":"0HN7VLEDD46B7"}}
{"Timestamp":"2024-11-08T11:15:56.2095784+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:15:56.4718965+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:15:56.5309874+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:15:56.5346395+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:15:56.5359826+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:15:57.4757927+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a89345484636a443f4af262e743925d","SpanId":"78da95fee07a26eb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FJU:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLG5J0FJU"}}
{"Timestamp":"2024-11-08T11:15:57.8751827+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a89345484636a443f4af262e743925d","SpanId":"78da95fee07a26eb","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":167.908,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"167.9080"}]}}
{"Timestamp":"2024-11-08T11:15:57.8808430+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7811e6830127e8eaf237e500128149fa","SpanId":"4f64211edcecf4dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FK0:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLG5J0FK0"}}
{"Timestamp":"2024-11-08T11:15:57.8774431+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3cb22c5201edfd204c58f56f6e05f576","SpanId":"254c0650fe199cbc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FJV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLG5J0FJV"}}
{"Timestamp":"2024-11-08T11:15:57.9024814+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a89345484636a443f4af262e743925d","SpanId":"78da95fee07a26eb","Properties":{"ElapsedMilliseconds":435.5993,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FJU:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLG5J0FJU"}}
{"Timestamp":"2024-11-08T11:15:57.9026772+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3cb22c5201edfd204c58f56f6e05f576","SpanId":"254c0650fe199cbc","Properties":{"ElapsedMilliseconds":25.4303,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FJV:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLG5J0FJV"}}
{"Timestamp":"2024-11-08T11:15:57.9699306+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7811e6830127e8eaf237e500128149fa","SpanId":"4f64211edcecf4dd","Properties":{"ElapsedMilliseconds":89.1358,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FK0:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLG5J0FK0"}}
{"Timestamp":"2024-11-08T11:15:58.0942664+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3f04902221eee46fe87d253e0047119f","SpanId":"fb4bfa8112e84460","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FK0:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLG5J0FK0"}}
{"Timestamp":"2024-11-08T11:15:58.3621962+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3f04902221eee46fe87d253e0047119f","SpanId":"fb4bfa8112e84460","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":263.6191,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"263.6191"}]}}
{"Timestamp":"2024-11-08T11:15:58.3663646+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3f04902221eee46fe87d253e0047119f","SpanId":"fb4bfa8112e84460","Properties":{"ElapsedMilliseconds":272.0477,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FK0:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLG5J0FK0"}}
{"Timestamp":"2024-11-08T11:16:48.8120441+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":12,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"?userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:48.8513624+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:49.0220453+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:49.0788810+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d30976a9-6e77-46c2-a977-540641b11d18","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:52.2644328+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"elapsed":"88","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d30976a9-6e77-46c2-a977-540641b11d18","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:52.4590782+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d30976a9-6e77-46c2-a977-540641b11d18","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:52.4825412+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d30976a9-6e77-46c2-a977-540641b11d18","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:52.5107396+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":3420.8503,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:52.5132159+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:16:52.5147929+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":3668.5106,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3668.5106"}]}}
{"Timestamp":"2024-11-08T11:16:52.5355210+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1eeb5622422e902ea94f843a4b28ad0","SpanId":"98840e851daeb8a3","Properties":{"ElapsedMilliseconds":3723.7015,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"?userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLG5J0FK1:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLG5J0FK1"}}
{"Timestamp":"2024-11-08T11:20:14.8706524+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:20:15.1900425+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:20:15.2566710+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:20:15.2593273+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:20:15.2606175+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:20:16.2556591+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"866fe91c265e53758d1cb8161e9ec1fc","SpanId":"50ec4e145c2a3cb9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGL9:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLIIKHGL9"}}
{"Timestamp":"2024-11-08T11:20:16.6070620+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"866fe91c265e53758d1cb8161e9ec1fc","SpanId":"50ec4e145c2a3cb9","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":118.8288,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"118.8288"}]}}
{"Timestamp":"2024-11-08T11:20:16.6261175+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7308652a50c33a2cfc2d4ef98e834f3c","SpanId":"93e680e4dca0fb8e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLA:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLIIKHGLA"}}
{"Timestamp":"2024-11-08T11:20:16.6261176+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3dad9062b794e185f97f2af4c484b0c5","SpanId":"c9f57702d98f51d4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLB:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLIIKHGLB"}}
{"Timestamp":"2024-11-08T11:20:16.6344359+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"866fe91c265e53758d1cb8161e9ec1fc","SpanId":"50ec4e145c2a3cb9","Properties":{"ElapsedMilliseconds":392.0208,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGL9:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLIIKHGL9"}}
{"Timestamp":"2024-11-08T11:20:16.6351577+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7308652a50c33a2cfc2d4ef98e834f3c","SpanId":"93e680e4dca0fb8e","Properties":{"ElapsedMilliseconds":9.1685,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLA:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLIIKHGLA"}}
{"Timestamp":"2024-11-08T11:20:16.7700213+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3dad9062b794e185f97f2af4c484b0c5","SpanId":"c9f57702d98f51d4","Properties":{"ElapsedMilliseconds":144.132,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLB:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLIIKHGLB"}}
{"Timestamp":"2024-11-08T11:20:16.8321207+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f8e17d51e6afbfb3dd2fea65f6af2e9d","SpanId":"268a644ff47e2404","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLB:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLIIKHGLB"}}
{"Timestamp":"2024-11-08T11:20:17.0321973+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f8e17d51e6afbfb3dd2fea65f6af2e9d","SpanId":"268a644ff47e2404","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":194.7957,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"194.7957"}]}}
{"Timestamp":"2024-11-08T11:20:17.0359403+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f8e17d51e6afbfb3dd2fea65f6af2e9d","SpanId":"268a644ff47e2404","Properties":{"ElapsedMilliseconds":203.861,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLB:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLIIKHGLB"}}
{"Timestamp":"2024-11-08T11:20:36.4934455+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:36.5156427+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:36.7582195+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:36.8116254+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0a26bf68-b221-4bca-9c80-cf7324e0e961","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:39.5817499+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"elapsed":"196","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a26bf68-b221-4bca-9c80-cf7324e0e961","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:40.2261113+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"elapsed":"86","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0a26bf68-b221-4bca-9c80-cf7324e0e961","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:40.2884103+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0a26bf68-b221-4bca-9c80-cf7324e0e961","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:40.3030781+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":3484.5223,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:40.3066199+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:20:40.3122397+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3806.2812,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3806.2812"}]}}
{"Timestamp":"2024-11-08T11:20:40.3284531+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"929a43f72ff9ef5c169eb46ff5ff186f","SpanId":"3dd6e9e77a5f40fd","Properties":{"ElapsedMilliseconds":3835.4959,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLIIKHGLC:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLIIKHGLC"}}
{"Timestamp":"2024-11-08T11:26:03.2307013+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:26:03.6929479+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:03.8658905+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:03.8683363+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:03.8704608+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:05.1624875+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef76501826a11afcd0203f43af352317","SpanId":"69d4619a87a6404d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LI:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLLQG88LI"}}
{"Timestamp":"2024-11-08T11:26:05.5250331+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef76501826a11afcd0203f43af352317","SpanId":"69d4619a87a6404d","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":154.4201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"154.4201"}]}}
{"Timestamp":"2024-11-08T11:26:05.5326891+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aa7c2702020d7825f56cf7cd02bd7ae0","SpanId":"e971747c39926062","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LJ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLLQG88LJ"}}
{"Timestamp":"2024-11-08T11:26:05.5423955+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dd1c030d8f9ce80a182c5e04abd6fcf8","SpanId":"a381bf6e57b49f71","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LK:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLLQG88LK"}}
{"Timestamp":"2024-11-08T11:26:05.5852956+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef76501826a11afcd0203f43af352317","SpanId":"69d4619a87a6404d","Properties":{"ElapsedMilliseconds":433.4008,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LI:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLLQG88LI"}}
{"Timestamp":"2024-11-08T11:26:05.5861266+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aa7c2702020d7825f56cf7cd02bd7ae0","SpanId":"e971747c39926062","Properties":{"ElapsedMilliseconds":54.1816,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LJ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLLQG88LJ"}}
{"Timestamp":"2024-11-08T11:26:05.6522279+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dd1c030d8f9ce80a182c5e04abd6fcf8","SpanId":"a381bf6e57b49f71","Properties":{"ElapsedMilliseconds":110.4262,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LK:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLLQG88LK"}}
{"Timestamp":"2024-11-08T11:26:05.7765709+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b7db68b94ae634e12187583ecaa25e3","SpanId":"622faed0097a2c3a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LK:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLLQG88LK"}}
{"Timestamp":"2024-11-08T11:26:05.9975254+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b7db68b94ae634e12187583ecaa25e3","SpanId":"622faed0097a2c3a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":215.1635,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"215.1635"}]}}
{"Timestamp":"2024-11-08T11:26:06.0019902+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b7db68b94ae634e12187583ecaa25e3","SpanId":"622faed0097a2c3a","Properties":{"ElapsedMilliseconds":225.4234,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LK:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLLQG88LK"}}
{"Timestamp":"2024-11-08T11:26:23.6338785+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eada07b2da7ea5a4e1f775f7abc5c681","SpanId":"72461e1030f7bbc9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLLQG88LL"}}
{"Timestamp":"2024-11-08T11:26:23.6422487+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"eada07b2da7ea5a4e1f775f7abc5c681","SpanId":"72461e1030f7bbc9","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLLQG88LL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLLQG88LL"}}
{"Timestamp":"2024-11-08T11:26:23.8342799+07:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"eada07b2da7ea5a4e1f775f7abc5c681","SpanId":"72461e1030f7bbc9","Properties":{"Reason":"These requirements were not met:\r\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN7VLLQG88LL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLLQG88LL"}}
{"Timestamp":"2024-11-08T11:26:23.8448173+07:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"eada07b2da7ea5a4e1f775f7abc5c681","SpanId":"72461e1030f7bbc9","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN7VLLQG88LL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLLQG88LL"}}
{"Timestamp":"2024-11-08T11:26:23.8475069+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eada07b2da7ea5a4e1f775f7abc5c681","SpanId":"72461e1030f7bbc9","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":401,"Elapsed":209.3324,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"209.3324"}]}}
{"Timestamp":"2024-11-08T11:26:23.8506708+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eada07b2da7ea5a4e1f775f7abc5c681","SpanId":"72461e1030f7bbc9","Properties":{"ElapsedMilliseconds":216.8237,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLLQG88LL:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLLQG88LL"}}
{"Timestamp":"2024-11-08T11:26:47.4430911+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:26:47.7538901+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:47.8677460+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:47.8735222+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:47.8802382+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:26:48.5671484+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"08cb1589670913fc7ee2611780e3ef2b","SpanId":"172e3a9be81b7626","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G5:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLM7KS0G5"}}
{"Timestamp":"2024-11-08T11:26:49.1735478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"08cb1589670913fc7ee2611780e3ef2b","SpanId":"172e3a9be81b7626","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":201.761,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"201.7610"}]}}
{"Timestamp":"2024-11-08T11:26:49.1985727+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"75934a52efce7aec7baeaaf82f4c153b","SpanId":"4994f81588bbfd85","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G7:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLM7KS0G7"}}
{"Timestamp":"2024-11-08T11:26:49.2093737+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"08cb1589670913fc7ee2611780e3ef2b","SpanId":"172e3a9be81b7626","Properties":{"ElapsedMilliseconds":663.5113,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G5:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLM7KS0G5"}}
{"Timestamp":"2024-11-08T11:26:49.2105750+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d19ac60c73823c1b0835a57f377d45aa","SpanId":"55abcd03790c60d2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G6:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLM7KS0G6"}}
{"Timestamp":"2024-11-08T11:26:49.2319568+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d19ac60c73823c1b0835a57f377d45aa","SpanId":"55abcd03790c60d2","Properties":{"ElapsedMilliseconds":21.2012,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G6:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLM7KS0G6"}}
{"Timestamp":"2024-11-08T11:26:49.3583417+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"75934a52efce7aec7baeaaf82f4c153b","SpanId":"4994f81588bbfd85","Properties":{"ElapsedMilliseconds":159.9151,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G7:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLM7KS0G7"}}
{"Timestamp":"2024-11-08T11:26:49.4574974+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"493315f270077acda661bf2e70cbf209","SpanId":"0f8e47febd9265c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G7:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLM7KS0G7"}}
{"Timestamp":"2024-11-08T11:26:49.8450632+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"493315f270077acda661bf2e70cbf209","SpanId":"0f8e47febd9265c7","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":257.4614,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"257.4614"}]}}
{"Timestamp":"2024-11-08T11:26:49.8505468+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"493315f270077acda661bf2e70cbf209","SpanId":"0f8e47febd9265c7","Properties":{"ElapsedMilliseconds":393.386,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G7:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLM7KS0G7"}}
{"Timestamp":"2024-11-08T11:27:01.6996730+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:01.7329516+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:01.9156124+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:02.0153161+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7cae2f14-cf1a-4134-ad76-b14572830718","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:05.5454368+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"elapsed":"106","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cae2f14-cf1a-4134-ad76-b14572830718","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:05.7780988+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"elapsed":"28","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cae2f14-cf1a-4134-ad76-b14572830718","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:05.7980983+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7cae2f14-cf1a-4134-ad76-b14572830718","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:05.8167883+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":3789.2155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:05.8193731+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:05.8206274+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":4100.2795,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4100.2795"}]}}
{"Timestamp":"2024-11-08T11:27:05.8395098+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"894315ce61b57a882646ed2f4327c112","SpanId":"c7d724a4d84a514b","Properties":{"ElapsedMilliseconds":4140.0914,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLM7KS0G8:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLM7KS0G8"}}
{"Timestamp":"2024-11-08T11:27:34.8956134+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:27:35.2852786+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:27:35.3535915+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:27:35.3558505+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:27:35.3576159+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:27:36.4619187+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c769040689a0b7f2ada0baeeb62b1052","SpanId":"4941144794d5488b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IN:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLMLRI0IN"}}
{"Timestamp":"2024-11-08T11:27:36.7916025+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c769040689a0b7f2ada0baeeb62b1052","SpanId":"4941144794d5488b","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":149.0523,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"149.0523"}]}}
{"Timestamp":"2024-11-08T11:27:36.8306459+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b049affc93bd418ec9b92ed17911a1e6","SpanId":"9e3d13fbf16bb1e1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IP:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLMLRI0IP"}}
{"Timestamp":"2024-11-08T11:27:36.8312191+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1e90009cb1c5629be477c5e032e1b83c","SpanId":"207dd3a64712aadc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IO:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLMLRI0IO"}}
{"Timestamp":"2024-11-08T11:27:36.8433983+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c769040689a0b7f2ada0baeeb62b1052","SpanId":"4941144794d5488b","Properties":{"ElapsedMilliseconds":395.4947,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IN:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLMLRI0IN"}}
{"Timestamp":"2024-11-08T11:27:36.8433983+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b049affc93bd418ec9b92ed17911a1e6","SpanId":"9e3d13fbf16bb1e1","Properties":{"ElapsedMilliseconds":12.7689,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IP:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLMLRI0IP"}}
{"Timestamp":"2024-11-08T11:27:36.8932716+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1e90009cb1c5629be477c5e032e1b83c","SpanId":"207dd3a64712aadc","Properties":{"ElapsedMilliseconds":62.0147,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IO:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLMLRI0IO"}}
{"Timestamp":"2024-11-08T11:27:36.9421236+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"aead468a102edd938500dfd08b9ea5c0","SpanId":"61bb0a931203b486","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IO:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLMLRI0IO"}}
{"Timestamp":"2024-11-08T11:27:37.2279911+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"aead468a102edd938500dfd08b9ea5c0","SpanId":"61bb0a931203b486","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":280.2043,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"280.2043"}]}}
{"Timestamp":"2024-11-08T11:27:37.2312053+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"aead468a102edd938500dfd08b9ea5c0","SpanId":"61bb0a931203b486","Properties":{"ElapsedMilliseconds":289.0793,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IO:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLMLRI0IO"}}
{"Timestamp":"2024-11-08T11:27:45.2918244+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:45.3056641+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:45.8055375+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:45.9041411+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:50.1411846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"elapsed":"94","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:50.4061230+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Exception":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"System.InvalidOperationException: The value of 'Schedule_User.UserId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:50.6217907+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:50.6670266+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":4750.1062,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:50.6716841+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:27:50.6747816+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":500,"Elapsed":5376.0379,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5376.0379"}]}}
{"Timestamp":"2024-11-08T11:27:50.6979177+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"43e8c19e0f532e3ca761cb5ae14cc2f7","SpanId":"7e357290d377ed38","Properties":{"ElapsedMilliseconds":5406.4601,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0IQ"}}
{"Timestamp":"2024-11-08T11:30:16.0463026+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:16.0900299+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:16.1230361+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8f4399a9-dce1-4e0c-9558-de661c46ac3f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:17.0345187+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"elapsed":"44","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8f4399a9-dce1-4e0c-9558-de661c46ac3f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:17.3476367+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"elapsed":"41","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8f4399a9-dce1-4e0c-9558-de661c46ac3f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:17.3645994+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8f4399a9-dce1-4e0c-9558-de661c46ac3f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:17.3706358+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":1245.5341,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:17.3732521+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:17.3777291+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":1302.7118,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1302.7118"}]}}
{"Timestamp":"2024-11-08T11:30:17.3845296+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f3fd6c61a05ef6ddd690deea8328ef39","SpanId":"a48b9346c6cbad4f","Properties":{"ElapsedMilliseconds":1343.7126,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IR:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLMLRI0IR"}}
{"Timestamp":"2024-11-08T11:30:25.6155398+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:25.6327239+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:25.6450454+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:25.8566450+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"elapsed":"28","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:25.8741267+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:25.8777520+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:25.8794126+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:25.8929464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:25.9876819+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"elapsed":"10","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:26.0525335+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:26.0603553+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:26.0603553+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:26.0647652+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":416.8877,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:26.0686101+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":186.7036,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:26.0713523+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:26.0742618+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:26.0762371+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":447.5661,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"447.5661"}]}}
{"Timestamp":"2024-11-08T11:30:26.0779528+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":200.3333,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"200.3333"}]}}
{"Timestamp":"2024-11-08T11:30:26.0826312+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99fcbffe10b80712b8e04e3b90465bc4","SpanId":"61633bb7c64d93b2","Properties":{"ElapsedMilliseconds":467.141,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IS"}}
{"Timestamp":"2024-11-08T11:30:26.0998292+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.0899070+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.0862394+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66aa495d0835239d47284665fd0b0d1e","SpanId":"d346efbff69440f0","Properties":{"ElapsedMilliseconds":212.1327,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0IT"}}
{"Timestamp":"2024-11-08T11:30:26.1935384+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.1935348+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.1997506+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d094d450-11c0-4ee0-a7ac-903d98f9087c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.1997506+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2ee2e2fb-9f8e-4f83-a060-57aba1326715","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.2890111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"elapsed":"33","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2ee2e2fb-9f8e-4f83-a060-57aba1326715","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.2913974+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"elapsed":"41","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d094d450-11c0-4ee0-a7ac-903d98f9087c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.2989369+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d094d450-11c0-4ee0-a7ac-903d98f9087c","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.2996063+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2ee2e2fb-9f8e-4f83-a060-57aba1326715","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.3077802+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":105.9594,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.3102055+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.3125896+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":194.2883,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"194.2883"}]}}
{"Timestamp":"2024-11-08T11:30:26.3138227+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":109.0998,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.3163411+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1870e3bffb35caf0e2d9de3a17efd402","SpanId":"bf2da7d24753ab55","Properties":{"ElapsedMilliseconds":226.7011,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLMLRI0IU"}}
{"Timestamp":"2024-11-08T11:30:26.3181831+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:26.3245072+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":206.2236,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"206.2236"}]}}
{"Timestamp":"2024-11-08T11:30:26.3271041+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31f9da21ae85f6419ab1352c25dd6338","SpanId":"cb311e9b60092e4f","Properties":{"ElapsedMilliseconds":234.6061,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0IV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0IV"}}
{"Timestamp":"2024-11-08T11:30:29.9724757+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:29.9788475+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:29.9819970+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:29.9975684+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:30.0038697+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:30.0079034+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"11e58903-aa42-4da6-b71e-45b429cfa2f9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:30.0107904+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.4271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:30.0126913+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:30.0141047+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.5905,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.5905"}]}}
{"Timestamp":"2024-11-08T11:30:30.0166078+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8144d7265a56ab8a5e91a7d9d1e20163","SpanId":"8b164f53f5fe5734","Properties":{"ElapsedMilliseconds":44.6743,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0J0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLMLRI0J0"}}
{"Timestamp":"2024-11-08T11:30:30.0203128+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0277000+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0294310+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2ee2e2fb-9f8e-4f83-a060-57aba1326715","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0459346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2ee2e2fb-9f8e-4f83-a060-57aba1326715","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0499993+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2ee2e2fb-9f8e-4f83-a060-57aba1326715","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0526811+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.2938,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0547293+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.0570394+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":30.291,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.2910"}]}}
{"Timestamp":"2024-11-08T11:30:30.0603297+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9c27279b540f9dcc590c70bca3fd8a7b","SpanId":"f2fcac9f7c5b891f","Properties":{"ElapsedMilliseconds":40.0485,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0J1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLMLRI0J1"}}
{"Timestamp":"2024-11-08T11:30:30.8909725+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.8966482+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.8982636+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.9153096+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.9270365+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.9311752+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3a0d8904-d4c5-453a-99b1-efcd01eee709","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.9326282+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":31.3767,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.9342416+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:30:30.9349941+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":38.8451,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.8451"}]}}
{"Timestamp":"2024-11-08T11:30:30.9370121+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9acd676bbb9ff6e946a32ed44c1537cd","SpanId":"774ecb09a8907fb6","Properties":{"ElapsedMilliseconds":46.1208,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLMLRI0J2:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLMLRI0J2"}}
{"Timestamp":"2024-11-08T11:42:27.7096396+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T11:42:28.1950581+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:42:28.3219539+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:42:28.3255799+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:42:28.3280379+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T11:42:29.1875781+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7597e895cb76ab2166c8d17c39f84ca9","SpanId":"e895ee46982cdcc0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9C:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLUVUVK9C"}}
{"Timestamp":"2024-11-08T11:42:30.1322771+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7597e895cb76ab2166c8d17c39f84ca9","SpanId":"e895ee46982cdcc0","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":490.6835,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"490.6835"}]}}
{"Timestamp":"2024-11-08T11:42:30.3889610+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f576a1edab371f16537e4401c5c272ee","SpanId":"601ce8aa3ffac38f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9E:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLUVUVK9E"}}
{"Timestamp":"2024-11-08T11:42:30.3889612+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"863731bcbebd80f76a0ecef2213f355e","SpanId":"670c378e14b3b3e0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9D:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLUVUVK9D"}}
{"Timestamp":"2024-11-08T11:42:30.4097371+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7597e895cb76ab2166c8d17c39f84ca9","SpanId":"e895ee46982cdcc0","Properties":{"ElapsedMilliseconds":1234.5727,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9C:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VLUVUVK9C"}}
{"Timestamp":"2024-11-08T11:42:30.4439802+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"863731bcbebd80f76a0ecef2213f355e","SpanId":"670c378e14b3b3e0","Properties":{"ElapsedMilliseconds":55.1712,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9D:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VLUVUVK9D"}}
{"Timestamp":"2024-11-08T11:42:30.5361315+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f576a1edab371f16537e4401c5c272ee","SpanId":"601ce8aa3ffac38f","Properties":{"ElapsedMilliseconds":147.9017,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9E:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VLUVUVK9E"}}
{"Timestamp":"2024-11-08T11:42:30.5995889+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"602522226c0e1727fc7ae1811fc96b4b","SpanId":"3cdf7a1895dc584c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9E:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLUVUVK9E"}}
{"Timestamp":"2024-11-08T11:42:30.9334787+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"602522226c0e1727fc7ae1811fc96b4b","SpanId":"3cdf7a1895dc584c","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":329.7153,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"329.7153"}]}}
{"Timestamp":"2024-11-08T11:42:30.9365921+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"602522226c0e1727fc7ae1811fc96b4b","SpanId":"3cdf7a1895dc584c","Properties":{"ElapsedMilliseconds":337.018,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9E:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VLUVUVK9E"}}
{"Timestamp":"2024-11-08T11:42:45.7662887+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:45.7798829+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:45.9380479+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:45.9941964+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:49.5793023+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"elapsed":"213","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:50.2264758+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"elapsed":"89","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:50.2832920+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:50.3003326+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":4297.0763,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:50.3033131+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:50.3080494+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":4535.5838,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4535.5838"}]}}
{"Timestamp":"2024-11-08T11:42:50.3265498+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eb6535f52ef84f64b7509ac4ddced8a3","SpanId":"0c74c2844e59b63b","Properties":{"ElapsedMilliseconds":4560.3362,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9F"}}
{"Timestamp":"2024-11-08T11:42:53.0456068+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.0629379+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.0651336+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.1219462+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"elapsed":"15","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.1463466+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"elapsed":"13","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.1553385+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d7900051-be46-4cf4-8cb0-c29aeca19578","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.1607043+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":91.8869,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.1643638+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:53.1669997+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":106.2002,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"106.2002"}]}}
{"Timestamp":"2024-11-08T11:42:53.1716093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a202d7752967caeb98d3aa8adc306318","SpanId":"a57afee8189cc36c","Properties":{"ElapsedMilliseconds":126.4,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9G:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VLUVUVK9G"}}
{"Timestamp":"2024-11-08T11:42:55.2784157+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.2901589+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.3017118+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.5246074+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.5281917+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.5304924+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.5792379+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"elapsed":"18","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.5816179+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"elapsed":"9","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.7684851+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"elapsed":"21","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.7691556+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"elapsed":"22","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.7969524+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.7969524+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.7999706+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":267.4777,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.8017292+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":494.0807,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.8042016+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.8070683+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.8084381+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":280.4187,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"280.4187"}]}}
{"Timestamp":"2024-11-08T11:42:55.8100829+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":525.9722,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"525.9722"}]}}
{"Timestamp":"2024-11-08T11:42:55.8149229+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e50dd937881b9a0f6d284d80fe676ca","SpanId":"b87372e764a7b291","Properties":{"ElapsedMilliseconds":290.2454,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9I"}}
{"Timestamp":"2024-11-08T11:42:55.8175529+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"95a54f89e24b055a1006aaae975771e4","SpanId":"d7a8bf2ae52090b2","Properties":{"ElapsedMilliseconds":539.4083,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9H"}}
{"Timestamp":"2024-11-08T11:42:55.8188219+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:55.8232801+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:55.8999549+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:55.8999549+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:55.9070803+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:55.9070738+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6d2e2c10-77bc-4e2b-b6d0-0d64d76a5e1a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:56.0117758+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"elapsed":"29","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:56.0119082+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"elapsed":"34","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6d2e2c10-77bc-4e2b-b6d0-0d64d76a5e1a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:56.0216846+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6d2e2c10-77bc-4e2b-b6d0-0d64d76a5e1a","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:56.0221797+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:56.0328742+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":119.3399,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:56.0353239+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:56.0380106+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":196.7061,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"196.7061"}]}}
{"Timestamp":"2024-11-08T11:42:56.0418136+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"035c092602171e1c7c9eef5fa30e9fcf","SpanId":"96c739e1166d3f4e","Properties":{"ElapsedMilliseconds":218.8103,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9K:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VLUVUVK9K"}}
{"Timestamp":"2024-11-08T11:42:56.0423217+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":132.0965,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:56.0512205+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:56.0540966+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":219.9751,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"219.9751"}]}}
{"Timestamp":"2024-11-08T11:42:56.0588924+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5e2b6e040d1fdfd1da962aed3bbf402","SpanId":"57ada311ce3d8d7b","Properties":{"ElapsedMilliseconds":240.056,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9J"}}
{"Timestamp":"2024-11-08T11:42:57.0417989+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0457682+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0481527+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0598723+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"elapsed":"6","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0687573+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0724188+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0746631+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.2227,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0758304+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0765922+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.9829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.9829"}]}}
{"Timestamp":"2024-11-08T11:42:57.0780346+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea24044260de4d8e64623e43bcefaf0f","SpanId":"6471d81982ec1bf2","Properties":{"ElapsedMilliseconds":36.3121,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9L"}}
{"Timestamp":"2024-11-08T11:42:57.0802358+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0835436+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0843651+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0931497+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0950241+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0960823+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.4583,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0970095+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:57.0977124+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.6145,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6145"}]}}
{"Timestamp":"2024-11-08T11:42:57.0988747+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c57514a0a975018cf9e9cb0b11d38050","SpanId":"c970523685d81536","Properties":{"ElapsedMilliseconds":18.6736,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9M:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9M"}}
{"Timestamp":"2024-11-08T11:42:59.3751836+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.3809813+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.3854906+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.4833570+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"elapsed":"22","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.5371668+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.5415645+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.5432405+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":155.9935,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.5448120+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:42:59.5458834+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":165.5094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"165.5094"}]}}
{"Timestamp":"2024-11-08T11:42:59.5472870+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7012fe53779666f61c08815afcc8c9bc","SpanId":"faa2909dddaf116d","Properties":{"ElapsedMilliseconds":172.4002,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9N:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9N"}}
{"Timestamp":"2024-11-08T11:43:06.9768710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:06.9823069+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:06.9851798+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:06.9975002+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:07.0119787+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:07.0176260+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c75c6c15-fa5e-40e3-9276-bef6106ca4a9","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:07.0203981+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.1714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:07.0221076+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:07.0234264+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":41.568,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.5680"}]}}
{"Timestamp":"2024-11-08T11:43:07.0261329+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ac6400e9828b1a77821af7e278f5632e","SpanId":"5afe35aaf347f478","Properties":{"ElapsedMilliseconds":49.1598,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VLUVUVK9O"}}
{"Timestamp":"2024-11-08T11:43:07.0296370+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0370112+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0398336+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0534804+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0587978+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"031464b9-8509-42f5-86ff-0afd7c2170d0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0623089+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":19.9484,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0655669+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:07.0683006+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":31.9044,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.9044"}]}}
{"Timestamp":"2024-11-08T11:43:07.0724796+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f02c5d71de69d0bf0d20bc89834146fa","SpanId":"cc81969e22b621c8","Properties":{"ElapsedMilliseconds":42.8927,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VLUVUVK9P"}}
{"Timestamp":"2024-11-08T11:43:08.4589045+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4621953+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4635680+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4738776+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4789430+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4811246+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8edc6faf-00e7-4da5-9dd1-ffd5cbd60a07","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4821938+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":16.0155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4833967+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T11:43:08.4846122+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.897,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8970"}]}}
{"Timestamp":"2024-11-08T11:43:08.4872598+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dbdbe4c8b4c7f9805ca40711e84cb4ed","SpanId":"3c302393dc5de32b","Properties":{"ElapsedMilliseconds":28.3944,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VLUVUVK9Q:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VLUVUVK9Q"}}
{"Timestamp":"2024-11-08T14:54:02.7827301+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T14:54:03.9143058+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T14:54:04.2231597+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T14:54:04.3240254+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T14:54:04.3261236+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T14:54:05.0580503+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e25271d0ac772455b444c279ee30976","SpanId":"b574fcb7173599f5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPA1SBHH4"}}
{"Timestamp":"2024-11-08T14:54:06.1200660+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4e25271d0ac772455b444c279ee30976","SpanId":"b574fcb7173599f5","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":187.0333,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"187.0333"}]}}
{"Timestamp":"2024-11-08T14:54:06.1481470+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e25271d0ac772455b444c279ee30976","SpanId":"b574fcb7173599f5","Properties":{"ElapsedMilliseconds":1134.3431,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPA1SBHH4"}}
{"Timestamp":"2024-11-08T14:54:06.1601035+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3b4cbcbc2525559db601915d0a21ce3f","SpanId":"3b675269ef2ac351","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH4:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPA1SBHH4"}}
{"Timestamp":"2024-11-08T14:54:06.1734577+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3b4cbcbc2525559db601915d0a21ce3f","SpanId":"3b675269ef2ac351","Properties":{"ElapsedMilliseconds":13.438,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH4:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPA1SBHH4"}}
{"Timestamp":"2024-11-08T14:54:06.1754895+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7f70a5053105a5bd65de43511f66a123","SpanId":"71594e9065566a27","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH5:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPA1SBHH5"}}
{"Timestamp":"2024-11-08T14:54:06.2584213+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7f70a5053105a5bd65de43511f66a123","SpanId":"71594e9065566a27","Properties":{"ElapsedMilliseconds":83.0308,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH5:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPA1SBHH5"}}
{"Timestamp":"2024-11-08T14:54:06.3957587+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4de7accba6e2747ebc2289179b4322ab","SpanId":"c3e3ddec26300358","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH5:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPA1SBHH5"}}
{"Timestamp":"2024-11-08T14:54:06.7258510+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4de7accba6e2747ebc2289179b4322ab","SpanId":"c3e3ddec26300358","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":319.11,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"319.1100"}]}}
{"Timestamp":"2024-11-08T14:54:06.7420220+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4de7accba6e2747ebc2289179b4322ab","SpanId":"c3e3ddec26300358","Properties":{"ElapsedMilliseconds":346.1776,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPA1SBHH5:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPA1SBHH5"}}
{"Timestamp":"2024-11-08T15:21:55.0557425+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T15:21:55.4849649+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:21:55.5809980+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:21:55.5828575+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:21:55.5839172+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:21:56.8420993+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f23c646ff83b2215ab0ae7bec7c01ec6","SpanId":"e79bde2c40cfe2d6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKS:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPPK4LMKS"}}
{"Timestamp":"2024-11-08T15:21:57.2847351+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f23c646ff83b2215ab0ae7bec7c01ec6","SpanId":"e79bde2c40cfe2d6","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":166.7591,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"166.7591"}]}}
{"Timestamp":"2024-11-08T15:21:57.3049409+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f23c646ff83b2215ab0ae7bec7c01ec6","SpanId":"e79bde2c40cfe2d6","Properties":{"ElapsedMilliseconds":478.2281,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKS:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPPK4LMKS"}}
{"Timestamp":"2024-11-08T15:21:57.3305187+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"288cdeb73d8db76da1a967c5761f44ea","SpanId":"c03f67cfc2be177a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKS:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPPK4LMKS"}}
{"Timestamp":"2024-11-08T15:21:57.3394708+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"288cdeb73d8db76da1a967c5761f44ea","SpanId":"c03f67cfc2be177a","Properties":{"ElapsedMilliseconds":8.9777,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKS:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPPK4LMKS"}}
{"Timestamp":"2024-11-08T15:21:57.3428626+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d43edd5f0171f552f922b9ef59859832","SpanId":"93c662aba9a257e3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKR:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPPK4LMKR"}}
{"Timestamp":"2024-11-08T15:21:57.4821190+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d43edd5f0171f552f922b9ef59859832","SpanId":"93c662aba9a257e3","Properties":{"ElapsedMilliseconds":139.3906,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKR:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPPK4LMKR"}}
{"Timestamp":"2024-11-08T15:21:57.5490977+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"977a6efc1b52e6fc40a7b5dddcfc53d3","SpanId":"095724a5f485335a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPPK4LMKR"}}
{"Timestamp":"2024-11-08T15:21:57.7618432+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"977a6efc1b52e6fc40a7b5dddcfc53d3","SpanId":"095724a5f485335a","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":208.8893,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"208.8893"}]}}
{"Timestamp":"2024-11-08T15:21:57.7643732+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"977a6efc1b52e6fc40a7b5dddcfc53d3","SpanId":"095724a5f485335a","Properties":{"ElapsedMilliseconds":215.1274,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPPK4LMKR:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPPK4LMKR"}}
{"Timestamp":"2024-11-08T15:22:44.7854505+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T15:22:45.1839050+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:22:45.2461368+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:22:45.2487463+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:22:45.2498510+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:22:46.3645826+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ffadee1441b0b2ade3d63b4190221b00","SpanId":"c2da7866c0fcdee6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS494:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPQ2VS494"}}
{"Timestamp":"2024-11-08T15:22:46.7773648+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ffadee1441b0b2ade3d63b4190221b00","SpanId":"c2da7866c0fcdee6","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":109.4313,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"109.4313"}]}}
{"Timestamp":"2024-11-08T15:22:46.7857525+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"987d46a912dd99e165f6f65170cea092","SpanId":"681633a7f6ddeddb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS496:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPQ2VS496"}}
{"Timestamp":"2024-11-08T15:22:46.7857523+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19ec94d3f8dea4ca7affbeb13b07270b","SpanId":"e0a3f0dd8053d7fc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS495:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPQ2VS495"}}
{"Timestamp":"2024-11-08T15:22:46.7957911+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ffadee1441b0b2ade3d63b4190221b00","SpanId":"c2da7866c0fcdee6","Properties":{"ElapsedMilliseconds":450.6997,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS494:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPQ2VS494"}}
{"Timestamp":"2024-11-08T15:22:46.8014152+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19ec94d3f8dea4ca7affbeb13b07270b","SpanId":"e0a3f0dd8053d7fc","Properties":{"ElapsedMilliseconds":15.6386,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS495:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPQ2VS495"}}
{"Timestamp":"2024-11-08T15:22:46.8322252+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"987d46a912dd99e165f6f65170cea092","SpanId":"681633a7f6ddeddb","Properties":{"ElapsedMilliseconds":46.7096,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS496:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPQ2VS496"}}
{"Timestamp":"2024-11-08T15:22:46.8910308+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a7ee1193e1f57cc50b2db3867e4cc47","SpanId":"7c251335af166dc2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS496:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPQ2VS496"}}
{"Timestamp":"2024-11-08T15:22:47.0308851+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1a7ee1193e1f57cc50b2db3867e4cc47","SpanId":"7c251335af166dc2","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":136.8415,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"136.8415"}]}}
{"Timestamp":"2024-11-08T15:22:47.0351786+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a7ee1193e1f57cc50b2db3867e4cc47","SpanId":"7c251335af166dc2","Properties":{"ElapsedMilliseconds":144.0459,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS496:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPQ2VS496"}}
{"Timestamp":"2024-11-08T15:23:05.8373543+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:05.8468255+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:05.9847486+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:06.1211533+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"053a0e83-325c-4291-b720-039a275351b1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:08.7191699+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"elapsed":"166","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"053a0e83-325c-4291-b720-039a275351b1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:09.1327711+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"elapsed":"50","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"053a0e83-325c-4291-b720-039a275351b1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:09.1588698+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"053a0e83-325c-4291-b720-039a275351b1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:09.1691327+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":3037.6264,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:09.1714553+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:09.1745951+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3332.5135,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3332.5135"}]}}
{"Timestamp":"2024-11-08T15:23:09.1827431+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37d05a1177c328e5ef04eeae096e7269","SpanId":"bdc101fffce70049","Properties":{"ElapsedMilliseconds":3345.4463,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS497:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQ2VS497"}}
{"Timestamp":"2024-11-08T15:23:12.9953509+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.0017446+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.0072521+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.1298049+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.1739525+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.1804187+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.1817406+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.2392643+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.2668742+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.2687415+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":259.8955,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.2738578+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.2755594+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":275.1438,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"275.1438"}]}}
{"Timestamp":"2024-11-08T15:23:13.2783064+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15cc5bfda198f9073e3dfd7eaa85a461","SpanId":"d6f647371b280178","Properties":{"ElapsedMilliseconds":282.9069,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS498:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS498"}}
{"Timestamp":"2024-11-08T15:23:13.2867718+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.3301896+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.3377120+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.3406194+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ede35ae7-2482-48a9-8e0b-d3a200e7bcb5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.3420776+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":158.5714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.3438343+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.3450936+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":167.0663,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"167.0663"}]}}
{"Timestamp":"2024-11-08T15:23:13.3474448+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"200454f5c93c23a10affd76010efcaee","SpanId":"cba2a33d45153a23","Properties":{"ElapsedMilliseconds":173.4569,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS499:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQ2VS499"}}
{"Timestamp":"2024-11-08T15:23:13.3536895+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.3568828+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.3580743+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.3620145+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ceadcb07-7b19-46f3-937b-2bd65c0c1dd2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.3620145+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1de4cc29-579d-4853-a367-306d5ed0e071","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.6083561+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"elapsed":"181","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ceadcb07-7b19-46f3-937b-2bd65c0c1dd2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.6115383+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ceadcb07-7b19-46f3-937b-2bd65c0c1dd2","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.6127009+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"elapsed":"41","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1de4cc29-579d-4853-a367-306d5ed0e071","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.6164397+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1de4cc29-579d-4853-a367-306d5ed0e071","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.6182313+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":254.4155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.6191071+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.6198510+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":328.7368,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"328.7368"}]}}
{"Timestamp":"2024-11-08T15:23:13.6211065+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bce558c0e83cb13e82be37bce82fecfb","SpanId":"2557cb6c4bf76d53","Properties":{"ElapsedMilliseconds":334.5845,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS49A:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQ2VS49A"}}
{"Timestamp":"2024-11-08T15:23:13.6223384+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":256.296,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.6244886+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:23:13.6253031+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":267.8036,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"267.8036"}]}}
{"Timestamp":"2024-11-08T15:23:13.6266130+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"57a09af0db56c844742e95c852966c87","SpanId":"a52de0faa6f87784","Properties":{"ElapsedMilliseconds":273.3044,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQ2VS49B:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQ2VS49B"}}
{"Timestamp":"2024-11-08T15:24:04.4504236+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T15:24:04.7261953+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:24:04.7794858+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:24:04.7817483+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:24:04.7832076+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:24:05.3147024+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38907a0866ea671c71c6d3edc44c3002","SpanId":"d9b892862669d9e9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAI:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPQQJ1IAI"}}
{"Timestamp":"2024-11-08T15:24:05.6477447+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38907a0866ea671c71c6d3edc44c3002","SpanId":"d9b892862669d9e9","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":87.0187,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"87.0187"}]}}
{"Timestamp":"2024-11-08T15:24:05.6746444+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"09c9b14a4d612dbb55ecbe559ef19ae5","SpanId":"d14266877cb04dce","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAK:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPQQJ1IAK"}}
{"Timestamp":"2024-11-08T15:24:05.6734864+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"071a19601113eef84f76288c23389d7e","SpanId":"c4bcad472e6e01a8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAJ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPQQJ1IAJ"}}
{"Timestamp":"2024-11-08T15:24:05.6771825+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38907a0866ea671c71c6d3edc44c3002","SpanId":"d9b892862669d9e9","Properties":{"ElapsedMilliseconds":375.6145,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAI:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPQQJ1IAI"}}
{"Timestamp":"2024-11-08T15:24:05.6861064+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"071a19601113eef84f76288c23389d7e","SpanId":"c4bcad472e6e01a8","Properties":{"ElapsedMilliseconds":13.0706,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAJ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPQQJ1IAJ"}}
{"Timestamp":"2024-11-08T15:24:05.7307410+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"09c9b14a4d612dbb55ecbe559ef19ae5","SpanId":"d14266877cb04dce","Properties":{"ElapsedMilliseconds":60.1848,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAK:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPQQJ1IAK"}}
{"Timestamp":"2024-11-08T15:24:05.7732020+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a028df4a2beab3d8c4bfe654409ac0c0","SpanId":"d9cf96f8ea771b43","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAK:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPQQJ1IAK"}}
{"Timestamp":"2024-11-08T15:24:05.9028871+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a028df4a2beab3d8c4bfe654409ac0c0","SpanId":"d9cf96f8ea771b43","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":126.3303,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"126.3303"}]}}
{"Timestamp":"2024-11-08T15:24:05.9057353+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a028df4a2beab3d8c4bfe654409ac0c0","SpanId":"d9cf96f8ea771b43","Properties":{"ElapsedMilliseconds":132.5316,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAK:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPQQJ1IAK"}}
{"Timestamp":"2024-11-08T15:24:17.7304622+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:17.7400077+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:17.8419970+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:17.8996925+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:20.4356238+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"elapsed":"82","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:20.7988626+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"elapsed":"39","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:20.8362584+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:20.8497481+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2941.0558,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:20.8516796+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:20.8542619+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3117.7734,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3117.7734"}]}}
{"Timestamp":"2024-11-08T15:24:20.8662494+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d4b478ff17d831a2e1d31fe55962811","SpanId":"58f144bb4b5a25f6","Properties":{"ElapsedMilliseconds":3135.9676,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAL:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAL"}}
{"Timestamp":"2024-11-08T15:24:25.2215171+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.2279557+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.2395431+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.3818368+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"elapsed":"16","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.3872796+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.3931339+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.3948357+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5269927+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.5329550+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5440337+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5513234+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.5513234+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5545828+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":311.8979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.5570797+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":160.1002,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5582365+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.5593507+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5605270+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":333.8672,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"333.8672"}]}}
{"Timestamp":"2024-11-08T15:24:25.5612645+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":171.1738,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"171.1738"}]}}
{"Timestamp":"2024-11-08T15:24:25.5632801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"801dca42b87cd9fe9c6e72cbde3fc2dd","SpanId":"7787c1b5e8bb7c05","Properties":{"ElapsedMilliseconds":341.8524,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAM"}}
{"Timestamp":"2024-11-08T15:24:25.5649291+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ea02d4d12677b2d08038acf63adb1b77","SpanId":"0d606fc59b2f439c","Properties":{"ElapsedMilliseconds":177.6621,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAN"}}
{"Timestamp":"2024-11-08T15:24:25.5690392+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.5683471+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.6469781+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.6469781+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.6534142+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.6534143+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"af0185d2-0bae-4db2-b31e-c4d1d98028f4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.7090874+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"af0185d2-0bae-4db2-b31e-c4d1d98028f4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.7129385+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"af0185d2-0bae-4db2-b31e-c4d1d98028f4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.7145887+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.7230790+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.7236550+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":64.4966,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.7260932+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.7277561+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":136.7135,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"136.7135"}]}}
{"Timestamp":"2024-11-08T15:24:25.7300568+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":72.977,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.7301991+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"627a09bcf2818715c47e2356f2b5f495","SpanId":"f9f5794fd8e72f4a","Properties":{"ElapsedMilliseconds":162.0093,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IAO"}}
{"Timestamp":"2024-11-08T15:24:25.7315895+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:24:25.7369860+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":152.4758,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"152.4758"}]}}
{"Timestamp":"2024-11-08T15:24:25.7399908+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"237216c0131b1b4573f98ceda47c139f","SpanId":"b14f7e28f2db6951","Properties":{"ElapsedMilliseconds":171.058,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAP"}}
{"Timestamp":"2024-11-08T15:25:33.6264910+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6314132+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6331713+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6449784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6511764+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6545447+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6554746+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.5716,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6563346+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6570037+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.7656,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.7656"}]}}
{"Timestamp":"2024-11-08T15:25:33.6584341+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f17d56f2939f5aa0f96bbd0386846a8c","SpanId":"4ee57ce53b1e6249","Properties":{"ElapsedMilliseconds":32.2155,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAQ"}}
{"Timestamp":"2024-11-08T15:25:33.6617519+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6685973+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6696427+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6775983+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6798591+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6807837+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.9069,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6825362+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6832830+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.3607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.3607"}]}}
{"Timestamp":"2024-11-08T15:25:33.6847489+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1384e46582ba9590937263fe2f19ad7","SpanId":"b2f9426139e2ba20","Properties":{"ElapsedMilliseconds":23.4912,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IAR"}}
{"Timestamp":"2024-11-08T15:25:33.6919036+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.6935640+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.6941561+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.6968305+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.7006322+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.7049159+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.7058700+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.6511,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.7069120+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:25:33.7086355+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":15.1481,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.1481"}]}}
{"Timestamp":"2024-11-08T15:25:33.7099452+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9dd421e28dd4d9ae7a8c104769249356","SpanId":"3038be1ba24a48a8","Properties":{"ElapsedMilliseconds":18.0629,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAS"}}
{"Timestamp":"2024-11-08T15:28:58.9708730+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:58.9770631+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:58.9799311+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:59.0295403+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"elapsed":"11","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:59.0415342+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:59.0435449+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"689be93d-c997-4f30-8089-a216f04852e1","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:59.0448584+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":63.0012,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:59.0460378+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:28:59.0468999+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":70.9468,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"70.9468"}]}}
{"Timestamp":"2024-11-08T15:28:59.0494009+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33970ee88db52da663b1240f3ca5bfc2","SpanId":"fdf7ec53d799ba75","Properties":{"ElapsedMilliseconds":79.0067,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAT:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPQQJ1IAT"}}
{"Timestamp":"2024-11-08T15:29:04.2304512+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2336729+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2349133+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2445446+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2546471+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2573506+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2592298+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.4837,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2605909+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.2620383+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.5551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5551"}]}}
{"Timestamp":"2024-11-08T15:29:04.2644587+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9274a5e0478a75bf25ecc557bfeb7cc1","SpanId":"1bb37472d74b9f70","Properties":{"ElapsedMilliseconds":34.3246,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAU"}}
{"Timestamp":"2024-11-08T15:29:04.3562224+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3585651+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3604950+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3678622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3720134+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3746903+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3824443+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.8889,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3858646+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3868617+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.5875,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5875"}]}}
{"Timestamp":"2024-11-08T15:29:04.3886458+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b9b5aeccfb5b1392ccb1fe4d6ad192d","SpanId":"4dbce081617109b0","Properties":{"ElapsedMilliseconds":32.4523,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IAV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IAV"}}
{"Timestamp":"2024-11-08T15:29:04.3906894+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.3918189+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4023375+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4037408+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4039048+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"af0185d2-0bae-4db2-b31e-c4d1d98028f4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4052200+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4157915+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"af0185d2-0bae-4db2-b31e-c4d1d98028f4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4157272+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4180526+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"af0185d2-0bae-4db2-b31e-c4d1d98028f4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4192292+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4199287+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.4052,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4208907+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.5041,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4216083+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4224025+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:04.4230899+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.7838,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7838"}]}}
{"Timestamp":"2024-11-08T15:29:04.4241740+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.1602,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1602"}]}}
{"Timestamp":"2024-11-08T15:29:04.4253859+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"28b82b9d70805b1db48af157dd5f3593","SpanId":"492d7413b6374716","Properties":{"ElapsedMilliseconds":34.8552,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB0:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPQQJ1IB0"}}
{"Timestamp":"2024-11-08T15:29:04.4267658+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"193af6e5ed35a08950c03c1d80f18e7f","SpanId":"3ea45c34c0ede418","Properties":{"ElapsedMilliseconds":34.8824,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB1:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB1"}}
{"Timestamp":"2024-11-08T15:29:22.0061921+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0079331+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0088018+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0167319+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0230927+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0252285+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0261505+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.8559,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0269204+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0275029+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.7008,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.7008"}]}}
{"Timestamp":"2024-11-08T15:29:22.0285781+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"59390d9c71f3efb4a222c37e8f85e0e6","SpanId":"f3521f5e371509b7","Properties":{"ElapsedMilliseconds":22.4473,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB2"}}
{"Timestamp":"2024-11-08T15:29:22.0318822+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0344092+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0351103+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0416394+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0437621+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0454017+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.2749,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0467063+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0481324+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.9575,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.9575"}]}}
{"Timestamp":"2024-11-08T15:29:22.0504426+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f041905be6b9bfb2f47bb948a00f2a2f","SpanId":"0a3c215a6a36d817","Properties":{"ElapsedMilliseconds":18.5948,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB3"}}
{"Timestamp":"2024-11-08T15:29:22.0572422+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0587425+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0595118+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0655766+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0686536+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0701705+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0719843+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.6443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0728623+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0735277+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.8627,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.8627"}]}}
{"Timestamp":"2024-11-08T15:29:22.0747297+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"83f5c5c03b5387fb4f70aa758f214968","SpanId":"b3855c04d1563d07","Properties":{"ElapsedMilliseconds":17.5111,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB4"}}
{"Timestamp":"2024-11-08T15:29:22.0784429+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.0823717+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.0862534+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.1522878+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1549270+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1562549+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1605204+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1648550+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1666503+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1677404+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.3001,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1686479+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1693108+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"elapsed":"13","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.1694949+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.6652,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6652"}]}}
{"Timestamp":"2024-11-08T15:29:22.1743441+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6caa58bf000edf5bcbd4a9166f813a89","SpanId":"c53d5b7e321f75d4","Properties":{"ElapsedMilliseconds":22.078,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB6"}}
{"Timestamp":"2024-11-08T15:29:22.1764686+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1810625+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1826661+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1870518+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1905045+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1920896+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.2003,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1940273+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.1952140+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.62,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6200"}]}}
{"Timestamp":"2024-11-08T15:29:22.1973539+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b402ae888ce7e6ba389ad4eba51df075","SpanId":"2388dd122925b1ac","Properties":{"ElapsedMilliseconds":20.885,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB7:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IB7"}}
{"Timestamp":"2024-11-08T15:29:22.2035783+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2063746+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2074390+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2152259+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2202144+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2219467+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2228247+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.9069,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2234977+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2243028+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.0121,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.0121"}]}}
{"Timestamp":"2024-11-08T15:29:22.2253590+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f5aceeba0dd149c28db5b6b03c90019","SpanId":"5e4ce000635ceddc","Properties":{"ElapsedMilliseconds":21.8241,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IB8"}}
{"Timestamp":"2024-11-08T15:29:22.2284366+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2315892+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2327419+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2339087+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.2395372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2395434+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.2428683+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":155.0147,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.2434498+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2440132+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.2458265+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2465173+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":164.4273,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"164.4273"}]}}
{"Timestamp":"2024-11-08T15:29:22.2474190+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":12.9377,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2486514+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"abc4e48bf26184b64fbc7caa5fd7a21d","SpanId":"4dec33eb09caaa4f","Properties":{"ElapsedMilliseconds":170.23,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB5:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB5"}}
{"Timestamp":"2024-11-08T15:29:22.2493930+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:22.2531158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":21.9226,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.9226"}]}}
{"Timestamp":"2024-11-08T15:29:22.2545087+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"76552c9ddb7cabff5d1d93e54f20ea12","SpanId":"3d531cc723b56ea1","Properties":{"ElapsedMilliseconds":26.1022,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IB9:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IB9"}}
{"Timestamp":"2024-11-08T15:29:33.0632293+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0664008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0672661+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0758776+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0800041+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0818888+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0829247+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.6403,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0838802+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0846263+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.4583,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4583"}]}}
{"Timestamp":"2024-11-08T15:29:33.0858842+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2e823942ec037cdf1ea198fd3baba53","SpanId":"8fbdfe6e5c9b22c2","Properties":{"ElapsedMilliseconds":22.8292,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBA"}}
{"Timestamp":"2024-11-08T15:29:33.0877110+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.0913458+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.0921502+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.0980155+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.0998438+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.1008674+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.4319,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.1018429+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.1027043+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":11.6167,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.6167"}]}}
{"Timestamp":"2024-11-08T15:29:33.1039814+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9baa68b10b7c15b54447b81c6d044b22","SpanId":"8400a5696d7697b5","Properties":{"ElapsedMilliseconds":16.3068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBB"}}
{"Timestamp":"2024-11-08T15:29:33.1078191+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1111192+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1118078+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1160489+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1189057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1206793+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1217857+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.9039,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1227471+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1245457+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.5045,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.5045"}]}}
{"Timestamp":"2024-11-08T15:29:33.1271931+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"34fea2b611b58ec832778f97432482b4","SpanId":"2e992d9824e0d18e","Properties":{"ElapsedMilliseconds":19.3901,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBC"}}
{"Timestamp":"2024-11-08T15:29:33.1299378+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1324401+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1331837+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1401174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1459013+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1482517+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1499660+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":15.2603,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1511354+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:33.1518670+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":19.6368,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6368"}]}}
{"Timestamp":"2024-11-08T15:29:33.1533143+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a58104f4e70ecb71608b2eb6f2ad238","SpanId":"5c373b38b5450325","Properties":{"ElapsedMilliseconds":23.3994,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBD:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBD"}}
{"Timestamp":"2024-11-08T15:29:35.8271710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8304544+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8319846+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8400691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8491107+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8514239+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8531217+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.7958,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8544356+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8554741+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.1080"}]}}
{"Timestamp":"2024-11-08T15:29:35.8573027+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f33b15208cae10c43dd268b1c222a8d6","SpanId":"f3359ced9acd5a93","Properties":{"ElapsedMilliseconds":30.1651,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBE"}}
{"Timestamp":"2024-11-08T15:29:35.8622013+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8656097+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8664225+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8735477+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8755564+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6214cdaa-296f-4b63-bff2-52fac579067f","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8769424+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.4723,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8778769+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8785904+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.2992,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.2992"}]}}
{"Timestamp":"2024-11-08T15:29:35.8796988+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"30bfe62e2dd7689a1cf4859cacca5ba7","SpanId":"262098c6feb8aded","Properties":{"ElapsedMilliseconds":19.4883,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBF:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPQQJ1IBF"}}
{"Timestamp":"2024-11-08T15:29:35.8831593+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8853008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8859210+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8909739+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8954969+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8970450+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"394cb83c-1b51-4449-9fa6-27c070482d50","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8978562+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.3816,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8986919+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.8993499+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.1094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.1094"}]}}
{"Timestamp":"2024-11-08T15:29:35.9005690+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"13afc6a66a35b67279c5b2df20baeed2","SpanId":"a3e53ad281216a05","Properties":{"ElapsedMilliseconds":17.4789,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPQQJ1IBG"}}
{"Timestamp":"2024-11-08T15:29:35.9032775+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9058209+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9064882+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9126740+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9171599+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9190275+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9f94906d-08ec-490d-a0a9-0d0e38a828aa","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9200981+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":12.4515,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9212150+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:35.9219041+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":16.2838,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.2838"}]}}
{"Timestamp":"2024-11-08T15:29:35.9231975+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ac9642520dd16d75e7dcf89adf7626c6","SpanId":"2f02bbaba7a32c54","Properties":{"ElapsedMilliseconds":19.9283,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBH:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPQQJ1IBH"}}
{"Timestamp":"2024-11-08T15:29:40.8408880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1208","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:40.8442235+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:40.8471295+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7a553281-da07-480a-995d-33f96c8382ab","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:40.8611685+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"elapsed":"4","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a553281-da07-480a-995d-33f96c8382ab","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:40.9071715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"elapsed":"32","parameters":"@p0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7a553281-da07-480a-995d-33f96c8382ab","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:41.0021023+07:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint \"FK_Schedule_User_Schedules\". The conflict occurred in database \"CalenderAPI\", table \"dbo.Schedule_User\", column 'schedule_id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.Read()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)\r\nClientConnectionId:a647cab9-5bf3-4efd-b80f-2e75850cff2a\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","Properties":{"contextType":"WebCalenderAPI.Data.MyDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint \"FK_Schedule_User_Schedules\". The conflict occurred in database \"CalenderAPI\", table \"dbo.Schedule_User\", column 'schedule_id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.Read()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)\r\nClientConnectionId:a647cab9-5bf3-4efd-b80f-2e75850cff2a\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7a553281-da07-480a-995d-33f96c8382ab","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:48.2052896+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"ObjectResultType":"ObjectResult","Type":"Microsoft.AspNetCore.Mvc.ProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7a553281-da07-480a-995d-33f96c8382ab","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:48.2333391+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":7383.946,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:48.2349822+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:29:48.2358651+07:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1208","StatusCode":500,"Elapsed":7391.8116,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7391.8116"}]}}
{"Timestamp":"2024-11-08T15:29:48.2382441+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d1da046db9f9427d2b767e96e1be20b","SpanId":"40c884b6883efaab","Properties":{"ElapsedMilliseconds":7397.4895,"StatusCode":500,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1208","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPQQJ1IBI:00000001","RequestPath":"/api/Schedules/1208","ConnectionId":"0HN7VPQQJ1IBI"}}
{"Timestamp":"2024-11-08T15:30:03.0080371+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T15:30:03.4336416+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:30:03.5053015+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:30:03.5075817+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:30:03.5083703+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T15:30:04.0476067+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0d63cc5691643dda24ee9aef11d6ee5d","SpanId":"1f0c2b881c017b9d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPU5GNRTC"}}
{"Timestamp":"2024-11-08T15:30:04.4527292+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0d63cc5691643dda24ee9aef11d6ee5d","SpanId":"1f0c2b881c017b9d","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":152.8586,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"152.8586"}]}}
{"Timestamp":"2024-11-08T15:30:04.4661535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"86ea71d876199ebcd6242e9ebc1f90a6","SpanId":"15b9485cd3d9f77d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTE:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPU5GNRTE"}}
{"Timestamp":"2024-11-08T15:30:04.4661535+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"89c40666ae0b8e784592eb31f0c052f2","SpanId":"ba5a53c50871ad4f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPU5GNRTD"}}
{"Timestamp":"2024-11-08T15:30:04.4913390+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0d63cc5691643dda24ee9aef11d6ee5d","SpanId":"1f0c2b881c017b9d","Properties":{"ElapsedMilliseconds":449.6135,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTC:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VPU5GNRTC"}}
{"Timestamp":"2024-11-08T15:30:04.4913387+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"89c40666ae0b8e784592eb31f0c052f2","SpanId":"ba5a53c50871ad4f","Properties":{"ElapsedMilliseconds":25.1739,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTD:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VPU5GNRTD"}}
{"Timestamp":"2024-11-08T15:30:04.5658395+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"86ea71d876199ebcd6242e9ebc1f90a6","SpanId":"15b9485cd3d9f77d","Properties":{"ElapsedMilliseconds":99.9215,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTE:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VPU5GNRTE"}}
{"Timestamp":"2024-11-08T15:30:04.6127865+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"758a9d5652985bb39cced7a9323c76d8","SpanId":"12ae657aaf64cb97","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTE:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPU5GNRTE"}}
{"Timestamp":"2024-11-08T15:30:04.8608908+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"758a9d5652985bb39cced7a9323c76d8","SpanId":"12ae657aaf64cb97","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":244.5904,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"244.5904"}]}}
{"Timestamp":"2024-11-08T15:30:04.8639163+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"758a9d5652985bb39cced7a9323c76d8","SpanId":"12ae657aaf64cb97","Properties":{"ElapsedMilliseconds":251.2029,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTE:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VPU5GNRTE"}}
{"Timestamp":"2024-11-08T15:30:21.1534270+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:21.1679252+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:21.2959109+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:21.3469109+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:23.6884668+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"elapsed":"48","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:24.0911638+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"elapsed":"33","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:24.1386227+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:24.1513893+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":2797.3423,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:24.1536574+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:24.1577235+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":2995.809,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2995.8090"}]}}
{"Timestamp":"2024-11-08T15:30:24.1713277+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72b62e1d1122edf655ceab09d30be9f3","SpanId":"0e917e1f77b53757","Properties":{"ElapsedMilliseconds":3018.1974,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTF:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRTF"}}
{"Timestamp":"2024-11-08T15:30:27.6135632+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.6198485+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.6271120+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.7344778+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.7612190+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.7684850+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.7704801+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.8559882+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"elapsed":"12","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.8808723+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.8834526+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":253.1207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.8883950+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.8895965+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":271.0628,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"271.0628"}]}}
{"Timestamp":"2024-11-08T15:30:27.8916945+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5e4a379d380bcc25beb54a3de7c5dc8d","SpanId":"99086d05e7b9ac0b","Properties":{"ElapsedMilliseconds":278.1996,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTG"}}
{"Timestamp":"2024-11-08T15:30:27.8963000+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:27.9129399+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.9250499+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.9283357+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.9306347+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":157.2608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.9327840+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.9342811+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":169.1285,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"169.1285"}]}}
{"Timestamp":"2024-11-08T15:30:27.9379073+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"42e6092c9655f9bc234d2fcdd3987c0a","SpanId":"a938c0707ba5cd92","Properties":{"ElapsedMilliseconds":176.5558,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTH"}}
{"Timestamp":"2024-11-08T15:30:27.9419970+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:27.9657233+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:27.9657697+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:27.9738465+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:27.9738467+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:28.0436818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:28.0474430+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:28.0596807+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":82.7513,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:28.0604839+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:28.0613771+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:28.0660855+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":167.2346,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"167.2346"}]}}
{"Timestamp":"2024-11-08T15:30:28.0681810+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72a8aed4ca6f18c540ee19e984df6ac8","SpanId":"ef3662be89da60e4","Properties":{"ElapsedMilliseconds":171.9183,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTI:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTI"}}
{"Timestamp":"2024-11-08T15:30:28.0693531+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:28.0826532+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":107.0123,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:28.0854097+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:28.0863766+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":139.3841,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"139.3841"}]}}
{"Timestamp":"2024-11-08T15:30:28.0878328+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"956c347774bb8aef7110366288843fee","SpanId":"de93521846b0ec03","Properties":{"ElapsedMilliseconds":145.8361,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTJ"}}
{"Timestamp":"2024-11-08T15:30:31.0839740+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.0883515+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.0897049+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.0935949+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.0985040+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.1013404+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.1023997+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.6248,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.1034243+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.1040681+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.8525,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.8525"}]}}
{"Timestamp":"2024-11-08T15:30:31.1073031+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1dac7fab83c22e8238767d70ea796174","SpanId":"7f525e3789c5dc3b","Properties":{"ElapsedMilliseconds":23.8574,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTK"}}
{"Timestamp":"2024-11-08T15:30:31.1095389+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1124676+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1132177+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1216769+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1231762+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1240862+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.2003,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1250887+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.1257947+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.7854,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.7854"}]}}
{"Timestamp":"2024-11-08T15:30:31.1268651+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"026b97ed5a7086d864c7e4967810969e","SpanId":"2a3163dad5fdedce","Properties":{"ElapsedMilliseconds":17.3637,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTL:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTL"}}
{"Timestamp":"2024-11-08T15:30:31.2961888+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3005151+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3019032+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3020745+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3053317+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3081084+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3109467+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3117507+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3223223+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"elapsed":"7","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3224807+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3255510+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3270858+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3292309+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.9592,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3302553+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.7585,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3313382+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3340962+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3353403+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":34.9829,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.9829"}]}}
{"Timestamp":"2024-11-08T15:30:31.3361158+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.8972,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.8972"}]}}
{"Timestamp":"2024-11-08T15:30:31.3378899+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"af4ff1ef54c88a7b66fa366c90e0d6cc","SpanId":"9d808955467a2884","Properties":{"ElapsedMilliseconds":41.7415,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTM"}}
{"Timestamp":"2024-11-08T15:30:31.3392764+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"102b034a4466025c4d156acf645ca37f","SpanId":"e2e7077555ab239a","Properties":{"ElapsedMilliseconds":37.4066,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTN"}}
{"Timestamp":"2024-11-08T15:30:31.3448405+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3460275+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3514232+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3531095+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3532585+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3547005+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3645355+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3665869+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3672760+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3693945+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3709805+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.6242,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3721006+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.9037,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3737806+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3753412+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:31.3761118+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":25.5219,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.5219"}]}}
{"Timestamp":"2024-11-08T15:30:31.3775478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.3659,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.3659"}]}}
{"Timestamp":"2024-11-08T15:30:31.3794580+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"caab79b27a0dd37a5e26fed73f2b0c3a","SpanId":"812074a5e19a3a22","Properties":{"ElapsedMilliseconds":34.6566,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTO:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRTO"}}
{"Timestamp":"2024-11-08T15:30:31.3813984+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d390249903d029ee74440b9021e73f35","SpanId":"99ffb8776a4a7133","Properties":{"ElapsedMilliseconds":35.604,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTP"}}
{"Timestamp":"2024-11-08T15:30:32.6276594+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6310796+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6321601+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6371269+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6432917+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6453820+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6468066+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.642,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6475913+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6484474+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.4822,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4822"}]}}
{"Timestamp":"2024-11-08T15:30:32.6506138+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae2bafd4f79ced6ef6badb338a33fff1","SpanId":"8c2677d88548a8e1","Properties":{"ElapsedMilliseconds":22.7959,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTQ"}}
{"Timestamp":"2024-11-08T15:30:32.6531903+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6570295+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6579030+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6652324+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6674330+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6689783+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.6819,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6703069+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6716776+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.9589,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.9589"}]}}
{"Timestamp":"2024-11-08T15:30:32.6731943+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c5eec7b285627104d4c2fbdf1abda0fc","SpanId":"391e40cbd2400461","Properties":{"ElapsedMilliseconds":20.037,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTR"}}
{"Timestamp":"2024-11-08T15:30:32.6863004+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.6899370+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.6911678+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.6941607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.6986042+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.7018015+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.7026736+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.3568,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.7036950+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.7049446+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.1233,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.1233"}]}}
{"Timestamp":"2024-11-08T15:30:32.7060658+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4785c13c6f0fb58f0ef6a975a84d5a3a","SpanId":"dd6b290d4a0401d7","Properties":{"ElapsedMilliseconds":19.8401,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTS"}}
{"Timestamp":"2024-11-08T15:30:32.7096702+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.7112301+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.7142410+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.7889883+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.8378650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.8418172+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.8432018+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":127.6339,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.8445493+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:30:32.8457896+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":134.783,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"134.7830"}]}}
{"Timestamp":"2024-11-08T15:30:32.8476957+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f8b82b0683ec1a8cdebe6207664f5e45","SpanId":"439c358ef4ce8e2b","Properties":{"ElapsedMilliseconds":138.0506,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTT:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRTT"}}
{"Timestamp":"2024-11-08T15:31:49.2708619+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2735134+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2750827+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2820889+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2893461+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2939541+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2959809+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.0028,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2979927+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.2992464+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":26.2454,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.2454"}]}}
{"Timestamp":"2024-11-08T15:31:49.3017104+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53b0bcebbd98c28cccb67bfad6d4e203","SpanId":"41af1f6f75643804","Properties":{"ElapsedMilliseconds":31.8353,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRTU"}}
{"Timestamp":"2024-11-08T15:31:49.3063268+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3167868+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3178276+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3280531+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3308771+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3326298+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.1548,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3343010+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3354532+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.0541,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.0541"}]}}
{"Timestamp":"2024-11-08T15:31:49.3367473+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c16f9f33f1eae25216e2f5bedd9102d5","SpanId":"91dd2f1a395425c7","Properties":{"ElapsedMilliseconds":31.5339,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRTV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRTV"}}
{"Timestamp":"2024-11-08T15:31:49.3403028+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3506075+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3517800+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3556807+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3639888+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3689548+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3705490+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.045,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3717105+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:31:49.3726021+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":22.1495,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.1495"}]}}
{"Timestamp":"2024-11-08T15:31:49.3740538+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d2b25bbd3c7d437ff36271e8b8425f47","SpanId":"c348fcb3a664c973","Properties":{"ElapsedMilliseconds":33.7752,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU0"}}
{"Timestamp":"2024-11-08T15:35:28.2102061+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.2148786+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.2162963+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.2794655+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"elapsed":"36","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.2939677+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.2983427+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.2998159+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":82.4139,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.3019575+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:28.3038681+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":89.1396,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"89.1396"}]}}
{"Timestamp":"2024-11-08T15:35:28.3060005+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"507a2c9f172d595923da885a9b09a2a3","SpanId":"dcb2b9278427b014","Properties":{"ElapsedMilliseconds":95.8574,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRU1"}}
{"Timestamp":"2024-11-08T15:35:35.8349196+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8386938+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8397547+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8569339+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8633273+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8662682+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8680137+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":25.9467,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8694356+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.8711551+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.776,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.7760"}]}}
{"Timestamp":"2024-11-08T15:35:35.8737349+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72d8d20aa474d4cc5318aa4753819866","SpanId":"df2a2da098a92b8a","Properties":{"ElapsedMilliseconds":38.8697,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU2"}}
{"Timestamp":"2024-11-08T15:35:35.9992448+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0015984+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0034996+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0108951+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0138838+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0159116+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0172049+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.5592,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0189232+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0200716+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.6022,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6022"}]}}
{"Timestamp":"2024-11-08T15:35:36.0226714+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"899dd36984330656a8b014cf10c19211","SpanId":"3505c77df855f7df","Properties":{"ElapsedMilliseconds":23.4783,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU3"}}
{"Timestamp":"2024-11-08T15:35:36.0704134+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.0718413+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.0784256+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.0803879+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.0811947+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.0821641+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.0935891+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.0947875+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.0959666+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.0984458+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.0993611+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.4234,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.1003712+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.3271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.1013971+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.1034239+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:36.1042974+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":27.2385,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.2385"}]}}
{"Timestamp":"2024-11-08T15:35:36.1051051+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.1964,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.1964"}]}}
{"Timestamp":"2024-11-08T15:35:36.1072939+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f29340617c76207359ebd83fac8e6c0c","SpanId":"9dd803027fbd2286","Properties":{"ElapsedMilliseconds":36.861,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU4:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU4"}}
{"Timestamp":"2024-11-08T15:35:36.1098276+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9bb7f393f697ecee36bfc0860b23598d","SpanId":"7fbf83717f6d0233","Properties":{"ElapsedMilliseconds":37.9739,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU5:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRU5"}}
{"Timestamp":"2024-11-08T15:35:38.0970611+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1006265+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1016025+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1098140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1165858+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1199698+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1216081+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.2899,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1229371+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1238358+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.3399,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.3399"}]}}
{"Timestamp":"2024-11-08T15:35:38.1253669+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d521968b22f7f68fe50667373adbd74","SpanId":"d835175f62a64ec7","Properties":{"ElapsedMilliseconds":28.3575,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU6"}}
{"Timestamp":"2024-11-08T15:35:38.1278289+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1308806+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1318996+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1379672+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1406619+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1424593+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.1573,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1435164+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.1443848+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.9339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.9339"}]}}
{"Timestamp":"2024-11-08T15:35:38.1463822+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b9a1d6abe55794f5088d22f0c556d892","SpanId":"2bc4a33a911e9186","Properties":{"ElapsedMilliseconds":18.5833,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRU7"}}
{"Timestamp":"2024-11-08T15:35:38.2607942+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2661246+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2672309+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2683155+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2716962+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2742179+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2770777+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2804437+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2814856+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2836001+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2839085+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2853868+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2868061+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.8286,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2881810+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.3712,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2933518+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.2954488+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.2962552+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.5287,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.5287"}]}}
{"Timestamp":"2024-11-08T15:35:38.2976597+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.0667,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0667"}]}}
{"Timestamp":"2024-11-08T15:35:38.2999581+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d838e1ed8597e8d1b266e08cfdee0516","SpanId":"1ed51ac42d5e8f66","Properties":{"ElapsedMilliseconds":39.3411,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU8"}}
{"Timestamp":"2024-11-08T15:35:38.3021954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02e0eac0da33c99c03d3715a0fb0205a","SpanId":"0590f58f2574b6b3","Properties":{"ElapsedMilliseconds":34.9054,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRU9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRU9"}}
{"Timestamp":"2024-11-08T15:35:38.3344521+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3318580+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3528504+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3555526+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3570770+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3583655+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3660279+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3694768+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3698584+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3721601+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.477,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3748010+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3759944+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3786377+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":17.1607,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3807845+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":25.745,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.7450"}]}}
{"Timestamp":"2024-11-08T15:35:38.3825780+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:38.3856484+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19e774e6f15292668a127a61edd3cd37","SpanId":"aa3806f17cc39891","Properties":{"ElapsedMilliseconds":53.861,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUA"}}
{"Timestamp":"2024-11-08T15:35:38.3872614+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":34.8009,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.8009"}]}}
{"Timestamp":"2024-11-08T15:35:38.3928613+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e7753bd7321223f2f2ac4ac33230093","SpanId":"696713b05f164a31","Properties":{"ElapsedMilliseconds":58.918,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUB"}}
{"Timestamp":"2024-11-08T15:35:39.1984365+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2019747+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2029699+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2127780+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2189006+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2211915+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2229964+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.1643,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2252023+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2266096+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.7668,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.7668"}]}}
{"Timestamp":"2024-11-08T15:35:39.2283311+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87f923dbb11928de366368e641498592","SpanId":"70d3ad25d2c055d0","Properties":{"ElapsedMilliseconds":29.9494,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUC"}}
{"Timestamp":"2024-11-08T15:35:39.2311405+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2336201+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2350124+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2452624+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2475159+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2495330+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.0156,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2510186+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2521934+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.8928,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8928"}]}}
{"Timestamp":"2024-11-08T15:35:39.2539607+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4aaa3288afe982afd4c96188acd610e9","SpanId":"7a8b9b29920663ea","Properties":{"ElapsedMilliseconds":22.9166,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUD:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUD"}}
{"Timestamp":"2024-11-08T15:35:39.2824142+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.2854842+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.2867912+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.2965843+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.3039072+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.3071059+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.3091008+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.6652,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.3104483+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.3112548+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.8868,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.8868"}]}}
{"Timestamp":"2024-11-08T15:35:39.3123194+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49eadbf6c5f322a9d713c23761b89a6a","SpanId":"9fca208af139da71","Properties":{"ElapsedMilliseconds":29.9561,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUE"}}
{"Timestamp":"2024-11-08T15:35:39.3320571+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3373969+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3384512+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3509113+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3600984+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3629208+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3643109+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":23.7035,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3656853+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:39.3667474+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":29.6443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.6443"}]}}
{"Timestamp":"2024-11-08T15:35:39.3686776+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"987479747e9824c986c09d0ba291702d","SpanId":"5851126df51ae76c","Properties":{"ElapsedMilliseconds":36.6602,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUF:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUF"}}
{"Timestamp":"2024-11-08T15:35:40.5260023+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5303972+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5323780+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5395714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5451382+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5485530+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5498787+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.1788,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5510717+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5520303+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.7784,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.7784"}]}}
{"Timestamp":"2024-11-08T15:35:40.5546212+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0cd307f7db1db0e7b99030c22ab86562","SpanId":"ba67649ca9fda2f4","Properties":{"ElapsedMilliseconds":28.7197,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUG"}}
{"Timestamp":"2024-11-08T15:35:40.5565572+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5612202+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5619326+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5850797+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"elapsed":"21","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5882126+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5903604+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":27.3063,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5923239+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5937578+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":32.7606,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.7606"}]}}
{"Timestamp":"2024-11-08T15:35:40.5958974+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ac90b4c8feda96c34261b1f95e0d59c2","SpanId":"f0f6ddd1103a92d3","Properties":{"ElapsedMilliseconds":39.3434,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUH"}}
{"Timestamp":"2024-11-08T15:35:40.5992341+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6016515+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6023650+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6084053+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6125310+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6153423+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6164193+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.1953,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6173344+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6180986+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.5024,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.5024"}]}}
{"Timestamp":"2024-11-08T15:35:40.6201486+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c427bb5d695392bebf56e7bc9cecda4","SpanId":"c35443276506a66a","Properties":{"ElapsedMilliseconds":21.0504,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUI"}}
{"Timestamp":"2024-11-08T15:35:40.6230469+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6269033+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6284386+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6347297+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6402179+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6436327+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6458005+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":15.6019,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6468664+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:35:40.6477515+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":21.1209,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1209"}]}}
{"Timestamp":"2024-11-08T15:35:40.6491646+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2857ea2d71f5c250e70f747878f6e844","SpanId":"1dbd11592079b50a","Properties":{"ElapsedMilliseconds":26.1445,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUJ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUJ"}}
{"Timestamp":"2024-11-08T15:36:31.2209257+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2341907+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2356995+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2494743+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2568075+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2601353+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2616708+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.4063,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2628347+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2637373+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":29.7608,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.7608"}]}}
{"Timestamp":"2024-11-08T15:36:31.2653800+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eeb5672e54f0b4c9797066148fd32067","SpanId":"5e6105278f7df58e","Properties":{"ElapsedMilliseconds":44.677,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUK"}}
{"Timestamp":"2024-11-08T15:36:31.2685884+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2790318+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2800173+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2878595+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2910441+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2935517+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.9517,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2954366+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.2967200+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.0493,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.0493"}]}}
{"Timestamp":"2024-11-08T15:36:31.2988854+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d91711aceabd426b2f2287a187707bce","SpanId":"4cb824d7123e3300","Properties":{"ElapsedMilliseconds":30.3229,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUL"}}
{"Timestamp":"2024-11-08T15:36:31.3023875+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3041603+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3047766+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3088194+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3117935+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3133349+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3143867+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.5702,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3153527+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:36:31.3160911+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":11.9848,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9848"}]}}
{"Timestamp":"2024-11-08T15:36:31.3176038+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc9cce443ace6ace45d10fcd0ee7795d","SpanId":"d9a725e08d34e793","Properties":{"ElapsedMilliseconds":15.2702,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUM"}}
{"Timestamp":"2024-11-08T15:37:46.9915320+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:46.9998782+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0012222+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0260365+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"elapsed":"12","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0572010+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"elapsed":"25","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0599687+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0613011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":58.3638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0628132+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:47.0640982+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":64.5239,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"64.5239"}]}}
{"Timestamp":"2024-11-08T15:37:47.0666644+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e750dec3c2f94d8401326b5905012aa","SpanId":"b83a9c0f337a10c7","Properties":{"ElapsedMilliseconds":76.0205,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUN:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRUN"}}
{"Timestamp":"2024-11-08T15:37:51.6524229+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6562184+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6572961+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6626949+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6672730+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6697288+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6707937+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.2313,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6732818+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.6747991+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.6235,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6235"}]}}
{"Timestamp":"2024-11-08T15:37:51.6768946+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0975da2aa436c5e5f10cde09ec35bd4","SpanId":"3a19241471951082","Properties":{"ElapsedMilliseconds":24.5138,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUO"}}
{"Timestamp":"2024-11-08T15:37:51.8310080+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8341025+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8349360+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8395286+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8425840+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8441756+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8456643+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.3208,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8466495+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8474253+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.4356,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.4356"}]}}
{"Timestamp":"2024-11-08T15:37:51.8487671+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0c6fe1a0622dcfeca2714bee5d3a9a5c","SpanId":"6ea67cf9fc79ff9f","Properties":{"ElapsedMilliseconds":17.8436,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUP"}}
{"Timestamp":"2024-11-08T15:37:51.8798180+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.8799431+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.8896902+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.8930076+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.8934762+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.8946704+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.9028022+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.9042664+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.9047294+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.9072901+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.9097601+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":13.3549,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.9125283+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.1723,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.9145911+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.9160908+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:51.9176301+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":28.7485,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.7485"}]}}
{"Timestamp":"2024-11-08T15:37:51.9184150+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.7798,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.7798"}]}}
{"Timestamp":"2024-11-08T15:37:51.9194341+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4774e3886eb55ae986ad4f316e13f28e","SpanId":"5c63e9502bdb8019","Properties":{"ElapsedMilliseconds":39.6956,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRUQ"}}
{"Timestamp":"2024-11-08T15:37:51.9209789+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"968d7e6f0d25a88baccf209dfca72ccf","SpanId":"4957a2691991365f","Properties":{"ElapsedMilliseconds":41.1087,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUR:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUR"}}
{"Timestamp":"2024-11-08T15:37:53.4048571+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4077589+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4091812+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4144033+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4209173+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4237367+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4260007+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.4072,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4275013+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4287740+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.0922,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.0922"}]}}
{"Timestamp":"2024-11-08T15:37:53.4303703+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"58b342f4360d3c958aeb7666ff78a51b","SpanId":"3397beb8a0a233b3","Properties":{"ElapsedMilliseconds":25.5324,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUS"}}
{"Timestamp":"2024-11-08T15:37:53.4327248+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4365492+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4378316+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4477812+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4496465+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4508339+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.54,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4526443+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4536853+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.4053,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4053"}]}}
{"Timestamp":"2024-11-08T15:37:53.4567578+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c8bf245bd7841a2136b5f4cf26260414","SpanId":"fb4bed25e2dcde74","Properties":{"ElapsedMilliseconds":24.013,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRUT"}}
{"Timestamp":"2024-11-08T15:37:53.4651099+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4684979+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4694225+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4761732+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4805469+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4844468+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4863832+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.0306,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4882337+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4896726+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.2214,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.2214"}]}}
{"Timestamp":"2024-11-08T15:37:53.4916393+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"193c46f938eaf5849933dfb16b652ae3","SpanId":"b89763d7aa769d2b","Properties":{"ElapsedMilliseconds":26.6462,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUU:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRUU"}}
{"Timestamp":"2024-11-08T15:37:53.4966708+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.4980383+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.4986467+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.5046964+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.5105539+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.5128567+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.5140134+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":14.4116,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.5156705+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:37:53.5167667+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":18.867,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8670"}]}}
{"Timestamp":"2024-11-08T15:37:53.5191070+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e24288a03cf085a34a8fbf3415c32eeb","SpanId":"774cfc584e3a6c43","Properties":{"ElapsedMilliseconds":22.4862,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRUV:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRUV"}}
{"Timestamp":"2024-11-08T15:38:42.0828283+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.0978882+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.0989674+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.1105272+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"elapsed":"5","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.1169407+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.1198780+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.1215194+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":20.5604,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.1233851+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:38:42.1252389+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":27.453,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.4530"}]}}
{"Timestamp":"2024-11-08T15:38:42.1279404+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"432c5e987fd4f0ad9fb82759a17097ff","SpanId":"269f4150fa322efc","Properties":{"ElapsedMilliseconds":45.8148,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV0:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV0"}}
{"Timestamp":"2024-11-08T15:39:57.7912835+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8007071+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8016903+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8094739+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8159275+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8182234+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8201530+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":17.2543,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8213705+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:39:57.8226181+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":22.0345,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.0345"}]}}
{"Timestamp":"2024-11-08T15:39:57.8244400+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c334d9444cbbb871749847c05d3b84a0","SpanId":"53acf1ecd8cd240c","Properties":{"ElapsedMilliseconds":33.2156,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV1:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV1"}}
{"Timestamp":"2024-11-08T15:40:16.0186626+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0221134+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0237043+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0372828+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"elapsed":"5","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0457313+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0502110+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0531675+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":27.6041,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0548676+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:16.0562625+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":34.2584,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.2584"}]}}
{"Timestamp":"2024-11-08T15:40:16.0582276+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c4f6b45222a2f9482cb505740cec00eb","SpanId":"2680f0cd9db8e89a","Properties":{"ElapsedMilliseconds":39.5936,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV2:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNRV2"}}
{"Timestamp":"2024-11-08T15:40:20.3302067+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3340535+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3353963+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3491573+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3564820+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3592238+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3611258+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.8937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3622673+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.3635682+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.6118,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.6118"}]}}
{"Timestamp":"2024-11-08T15:40:20.3656343+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"93e1bfb90e1f1d5c09cfb57fc03ad434","SpanId":"2c49eb06ffc96d85","Properties":{"ElapsedMilliseconds":35.5057,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV3"}}
{"Timestamp":"2024-11-08T15:40:20.4820198+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.4845646+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.4861310+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.4939469+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.4996575+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.5024021+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.5038253+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7739,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.5059942+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.5079017+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.4144,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.4144"}]}}
{"Timestamp":"2024-11-08T15:40:20.5106835+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ac95526c30f68a6ee0a12db7c759bd07","SpanId":"c3e8cbe286347d43","Properties":{"ElapsedMilliseconds":28.7386,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV4"}}
{"Timestamp":"2024-11-08T15:40:20.5259880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5262412+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5357711+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5632647+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5640902+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5654529+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5733371+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5758759+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5770824+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5774458+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.073,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5801446+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5819620+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5831820+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.0009,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5839748+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":52.5726,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.5726"}]}}
{"Timestamp":"2024-11-08T15:40:20.5851286+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:20.5866847+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"961126d4a9583a3a4ca26b239139f718","SpanId":"57960dfcabe81282","Properties":{"ElapsedMilliseconds":60.8869,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV5:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRV5"}}
{"Timestamp":"2024-11-08T15:40:20.5882478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":25.2943,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.2943"}]}}
{"Timestamp":"2024-11-08T15:40:20.5947854+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0e1efb048ca0c7184a24e72d787a723","SpanId":"7508c7ce14237ecc","Properties":{"ElapsedMilliseconds":68.6355,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV6:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV6"}}
{"Timestamp":"2024-11-08T15:40:25.7719639+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.7765763+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.7779034+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.7885816+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.7945995+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.7975241+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.7991435+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.1765,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.8011127+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.8025196+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.0955,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0955"}]}}
{"Timestamp":"2024-11-08T15:40:25.8042179+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1812b9c72e5849d629c72be9f90af874","SpanId":"b7abdefdb702179d","Properties":{"ElapsedMilliseconds":32.3716,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV7"}}
{"Timestamp":"2024-11-08T15:40:25.8066111+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8125781+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8316288+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8416932+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8451305+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8467843+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.5661,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8486171+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8497252+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":38.1078,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.1078"}]}}
{"Timestamp":"2024-11-08T15:40:25.8516528+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d844306d5f18fef573312a6941ea0c1c","SpanId":"d128df14626964f1","Properties":{"ElapsedMilliseconds":45.114,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRV8"}}
{"Timestamp":"2024-11-08T15:40:25.8602981+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8628742+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8638044+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8694761+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8738140+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8778074+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8787726+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.4272,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8795680+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8803547+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.584,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5840"}]}}
{"Timestamp":"2024-11-08T15:40:25.8821712+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4bac2dfcc3ef2213a452ef9c7a4b3974","SpanId":"d7e1e4a78d006335","Properties":{"ElapsedMilliseconds":21.9894,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRV9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRV9"}}
{"Timestamp":"2024-11-08T15:40:25.8869722+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.8885884+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.8891635+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.8951558+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.9012813+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.9034776+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.9045159+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":14.3936,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.9054918+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:25.9063059+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":17.9225,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.9225"}]}}
{"Timestamp":"2024-11-08T15:40:25.9077650+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7235437eb3288785971f3b88fb251af0","SpanId":"fbe03edb4b864bfc","Properties":{"ElapsedMilliseconds":20.8483,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVA:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVA"}}
{"Timestamp":"2024-11-08T15:40:41.0928768+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.0962621+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.0973658+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1032327+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1113977+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1139434+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1156292+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.5573,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1171312+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1184735+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.288,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.2880"}]}}
{"Timestamp":"2024-11-08T15:40:41.1203279+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6a696dccb2c017a47017ba4a323d3c7","SpanId":"06b6f8e09ffc4084","Properties":{"ElapsedMilliseconds":27.4876,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVB"}}
{"Timestamp":"2024-11-08T15:40:41.1231657+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1267676+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1285064+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1514074+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"elapsed":"19","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1536800+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1551268+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":24.3854,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1574498+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1592025+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":32.8744,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8744"}]}}
{"Timestamp":"2024-11-08T15:40:41.1623131+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d908fcdd902ac5f331ca8f54344ace2","SpanId":"f62d5dca3b7affe4","Properties":{"ElapsedMilliseconds":39.2563,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVC"}}
{"Timestamp":"2024-11-08T15:40:41.1694457+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1720865+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1731166+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1785461+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1823091+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1849908+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1869526+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.0905,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1889731+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1901209+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.1259,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.1259"}]}}
{"Timestamp":"2024-11-08T15:40:41.1937181+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf8306faa973d4fad2f7e90df4f0eafe","SpanId":"0eb0d88295536dc6","Properties":{"ElapsedMilliseconds":24.2821,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVD"}}
{"Timestamp":"2024-11-08T15:40:41.1973818+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2002321+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2011579+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2095580+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2153471+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2174261+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2188378+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":16.1352,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2215220+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:41.2224349+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":22.4547,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.4547"}]}}
{"Timestamp":"2024-11-08T15:40:41.2239791+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"301e129f7fcc49de4507420a5ab874b4","SpanId":"7fee31ae49eedb71","Properties":{"ElapsedMilliseconds":26.6693,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVE:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVE"}}
{"Timestamp":"2024-11-08T15:40:42.0677872+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0723789+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0737293+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0815320+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0861715+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0880358+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0891739+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.3258,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0899944+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0906735+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.3764,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.3764"}]}}
{"Timestamp":"2024-11-08T15:40:42.0926832+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"35cd1413e6bd03100ba6281c7413c10d","SpanId":"59df59e6527d32ed","Properties":{"ElapsedMilliseconds":25.0235,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVF"}}
{"Timestamp":"2024-11-08T15:40:42.0963002+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1001169+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1009724+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1060964+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1081701+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1100606+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.9833,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1113451+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1120738+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.6155,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.6155"}]}}
{"Timestamp":"2024-11-08T15:40:42.1140971+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7285e155c94e614d8aa912f9e126b526","SpanId":"a53d65b63561c99e","Properties":{"ElapsedMilliseconds":17.8071,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVG:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVG"}}
{"Timestamp":"2024-11-08T15:40:42.1172786+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1193701+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1200311+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1240688+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1278535+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1293895+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1302097+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.036,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1310455+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1317605+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":12.4298,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.4298"}]}}
{"Timestamp":"2024-11-08T15:40:42.1329627+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d4f3e6b8082c34915d157478660e1062","SpanId":"1d9994ba2f1403c6","Properties":{"ElapsedMilliseconds":15.745,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVH"}}
{"Timestamp":"2024-11-08T15:40:42.1357722+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1395598+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1537514+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1613449+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1668846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1695107+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1709992+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":15.0117,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1724931+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:42.1744608+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":35.9531,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.9531"}]}}
{"Timestamp":"2024-11-08T15:40:42.1782157+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4549ee4ba48bc73471709e1ddb79768e","SpanId":"4cb0c655a09395d7","Properties":{"ElapsedMilliseconds":42.4402,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVI:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVI"}}
{"Timestamp":"2024-11-08T15:40:44.1467186+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1699761+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1715089+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1821301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1902890+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1934774+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1959027+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.1695,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.1984973+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.2000851+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.1755,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.1755"}]}}
{"Timestamp":"2024-11-08T15:40:44.2026433+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23f3eaacd467120c18ca037708f65d73","SpanId":"5f467666c595158b","Properties":{"ElapsedMilliseconds":55.9564,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVJ"}}
{"Timestamp":"2024-11-08T15:40:44.2061561+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2115167+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2133338+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2220662+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2249766+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2266043+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.1497,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2283625+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.2302137+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.0967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.0967"}]}}
{"Timestamp":"2024-11-08T15:40:44.2321926+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99c9c1fb15ad12d406999838bf91f1dc","SpanId":"a5b3e1ef52de7a98","Properties":{"ElapsedMilliseconds":26.057,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVK:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVK"}}
{"Timestamp":"2024-11-08T15:40:44.3038828+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3068688+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3079768+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3083437+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3129409+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3136195+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3136936+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3193393+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3218081+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3218345+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3251416+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3253472+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.0457,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3285964+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3305153+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3342296+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.3513,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3354878+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.6912,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.6912"}]}}
{"Timestamp":"2024-11-08T15:40:44.3368390+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3389838+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bd1c82865828f7b036b82a55cb051043","SpanId":"5cc78d81110558a8","Properties":{"ElapsedMilliseconds":35.1703,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVL"}}
{"Timestamp":"2024-11-08T15:40:44.3401039+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":27.2025,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.2025"}]}}
{"Timestamp":"2024-11-08T15:40:44.3447307+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3471029+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8f5660e17f9fc79b2ffcabe31e18498b","SpanId":"9ebaa7b04188ad5a","Properties":{"ElapsedMilliseconds":38.744,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVM"}}
{"Timestamp":"2024-11-08T15:40:44.3495581+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3528619+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3533886+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3568995+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3577958+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3610326+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3631364+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3642583+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":9.7912,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3652361+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3660625+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.9562,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.9562"}]}}
{"Timestamp":"2024-11-08T15:40:44.3677870+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31261f8e8272fca9bb0426d07d767c2c","SpanId":"3f8d4d5b0bb66e1c","Properties":{"ElapsedMilliseconds":23.0211,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVN:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNRVN"}}
{"Timestamp":"2024-11-08T15:40:44.3718109+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3765552+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3780807+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":18.8144,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3791400+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:44.3802063+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":23.5902,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.5902"}]}}
{"Timestamp":"2024-11-08T15:40:44.3820156+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b87e6ae650b65edb8cecf0e8d26c51dc","SpanId":"b0821c6a67497441","Properties":{"ElapsedMilliseconds":28.6994,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVO"}}
{"Timestamp":"2024-11-08T15:40:45.9831428+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:45.9880857+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:45.9898442+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:45.9978784+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:46.0028574+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:46.0043048+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:46.0050454+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.7803,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:46.0058471+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:46.0064619+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.4268,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4268"}]}}
{"Timestamp":"2024-11-08T15:40:46.0081894+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0be73964619d23bc119ebaf67df22562","SpanId":"0fdb62ee247037b5","Properties":{"ElapsedMilliseconds":25.0777,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVP"}}
{"Timestamp":"2024-11-08T15:40:46.0105163+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0143252+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0152167+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0206622+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0228613+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0236915+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.3935,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0245893+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0251824+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":11.2751,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.2751"}]}}
{"Timestamp":"2024-11-08T15:40:46.0261558+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"32334175052e68f601ee3f0d34f3510a","SpanId":"ba87f657f9c3a571","Properties":{"ElapsedMilliseconds":15.707,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVQ"}}
{"Timestamp":"2024-11-08T15:40:46.0401316+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0420467+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0425818+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0472088+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0502580+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0520555+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0528097+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.2646,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0535471+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0541651+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":12.1619,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.1619"}]}}
{"Timestamp":"2024-11-08T15:40:46.0557601+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5f012892388aa8cc08927c32f9a0a9ec","SpanId":"d9e1ef66868e8fc4","Properties":{"ElapsedMilliseconds":15.6509,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVR"}}
{"Timestamp":"2024-11-08T15:40:46.0581386+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0603237+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0608994+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0674131+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0724478+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0740511+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0751130+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":13.1497,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0761531+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.0768443+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":16.6369,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.6369"}]}}
{"Timestamp":"2024-11-08T15:40:46.0793385+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55079ccb136dbd1b909cdedb511f3c7a","SpanId":"97f70f504ea4abd1","Properties":{"ElapsedMilliseconds":21.2411,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVS:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNRVS"}}
{"Timestamp":"2024-11-08T15:40:46.6600436+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.6772351+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.6789174+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.6902965+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.6974879+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.7013159+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.7031174+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.043,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.7054628+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.7072118+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.2162,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.2162"}]}}
{"Timestamp":"2024-11-08T15:40:46.7098071+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"752ac1486c66689b19db8505a76cfcbf","SpanId":"a268c3ff7605eccd","Properties":{"ElapsedMilliseconds":49.9194,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVT"}}
{"Timestamp":"2024-11-08T15:40:46.7126408+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7188095+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7197096+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7283457+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7322046+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7344789+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.6915,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7362042+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7377503+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.1429,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.1429"}]}}
{"Timestamp":"2024-11-08T15:40:46.7402702+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88b99c130220eaf2fcabb5c4972f0cf1","SpanId":"1c6d415a881da5b1","Properties":{"ElapsedMilliseconds":27.6814,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNRVU"}}
{"Timestamp":"2024-11-08T15:40:46.7442270+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7484969+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7500716+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7579020+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7648724+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7670324+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7681931+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7144,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7694437+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7699963+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.6703,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6703"}]}}
{"Timestamp":"2024-11-08T15:40:46.7711995+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"48c025650c383d4997a895b5f72246a0","SpanId":"eaed51f052b301aa","Properties":{"ElapsedMilliseconds":27.1508,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNRVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNRVV"}}
{"Timestamp":"2024-11-08T15:40:46.7734869+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7752466+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7758495+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7831524+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7889491+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7909759+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7922540+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":15.3497,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7939068+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:46.7950996+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":19.9961,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.9961"}]}}
{"Timestamp":"2024-11-08T15:40:46.7972247+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b0840b71a313f9a283ce1114862dc577","SpanId":"4d1f38d9dff4499e","Properties":{"ElapsedMilliseconds":23.7529,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS00:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS00"}}
{"Timestamp":"2024-11-08T15:40:47.3457046+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3495504+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3507343+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3577927+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3643461+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3667486+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3684845+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.9858,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3692414+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3698269+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.3117,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.3117"}]}}
{"Timestamp":"2024-11-08T15:40:47.3724088+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1557ccb33b52d89ed08b8655c4c76416","SpanId":"5a8822fed5ca41aa","Properties":{"ElapsedMilliseconds":26.865,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS01"}}
{"Timestamp":"2024-11-08T15:40:47.3745318+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3779525+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3785919+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3882028+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3907148+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3922495+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.3996,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3933580+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.3943706+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":16.5546,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.5546"}]}}
{"Timestamp":"2024-11-08T15:40:47.3964894+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81917a6f89741f1bc56462e59dd65702","SpanId":"ba6e657f3b18a580","Properties":{"ElapsedMilliseconds":22.0135,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS02"}}
{"Timestamp":"2024-11-08T15:40:47.4041160+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4056091+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4061390+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4097548+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4124597+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4143678+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4153507+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.3011,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4162522+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4168780+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":11.3466,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.3466"}]}}
{"Timestamp":"2024-11-08T15:40:47.4179815+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7d6a8f31e09bdf2ab6f0cccdfc069fd","SpanId":"e167d6a676c2c237","Properties":{"ElapsedMilliseconds":13.8797,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS03:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS03"}}
{"Timestamp":"2024-11-08T15:40:47.4322489+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4388194+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4397790+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4487936+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4560332+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4582601+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4595315+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":17.9771,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4606797+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:40:47.4616447+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":23.1928,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.1928"}]}}
{"Timestamp":"2024-11-08T15:40:47.4630679+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b3859e44f7d523ae7a9f6d607639bbeb","SpanId":"8634a38e03f0979b","Properties":{"ElapsedMilliseconds":30.9265,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS04:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS04"}}
{"Timestamp":"2024-11-08T15:41:19.5070525+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5191935+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5207426+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5347393+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5397459+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5416469+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5428207+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.3596,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5439941+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5448710+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.7694,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.7694"}]}}
{"Timestamp":"2024-11-08T15:41:19.5466967+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7e9310df8ab8cf3a4577940b31f62341","SpanId":"be53c0f7b54b92e4","Properties":{"ElapsedMilliseconds":39.6474,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS05"}}
{"Timestamp":"2024-11-08T15:41:19.5517310+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5582332+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5589967+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5663781+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5682781+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5693493+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.0259,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5705063+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5713746+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.3989,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.3989"}]}}
{"Timestamp":"2024-11-08T15:41:19.5727898+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e871c5fdff94d0e6f6c300413cd2e44","SpanId":"b5d967cd62a936fc","Properties":{"ElapsedMilliseconds":22.1047,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS06:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS06"}}
{"Timestamp":"2024-11-08T15:41:19.5762449+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.5792463+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.5909324+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.6023310+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.6072193+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.6096617+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.6110175+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.1798,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.6126505+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:41:19.6145430+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":35.2201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.2201"}]}}
{"Timestamp":"2024-11-08T15:41:19.6169601+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26010f3a5a2631e8b29b90e1730af5c4","SpanId":"1f8972d69f4d8d3e","Properties":{"ElapsedMilliseconds":40.7623,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS07:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS07"}}
{"Timestamp":"2024-11-08T15:47:26.1265770+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.1684147+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.1783283+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.4785846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"elapsed":"79","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.5571723+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"elapsed":"34","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.5670418+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.5725863+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":390.7652,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.5739024+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:26.5758057+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":421.2966,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"421.2966"}]}}
{"Timestamp":"2024-11-08T15:47:26.5804268+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d0666fc6d54737bb006dc77dc8e9fd84","SpanId":"095babe0d4c82bf7","Properties":{"ElapsedMilliseconds":456.9124,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS08"}}
{"Timestamp":"2024-11-08T15:47:30.5138559+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5193055+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5206754+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5420555+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"elapsed":"14","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5540770+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5568763+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5578602+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.8951,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5600938+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.5617984+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":42.5443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.5443"}]}}
{"Timestamp":"2024-11-08T15:47:30.5646932+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6b5e365f044dad1ac2d872ee5667559","SpanId":"e5e2318b8c584de3","Properties":{"ElapsedMilliseconds":50.8347,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS09"}}
{"Timestamp":"2024-11-08T15:47:30.6793750+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.6827743+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.6837482+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7025049+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7181913+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.7534255+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"elapsed":"43","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7546063+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.7567700+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7584036+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.7596135+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":73.7382,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7634297+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7646731+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":81.9357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"81.9357"}]}}
{"Timestamp":"2024-11-08T15:47:30.7672660+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1b5e72f0b7a45ec77bce695b2d95d65","SpanId":"cf30658c24aae283","Properties":{"ElapsedMilliseconds":87.9622,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0A"}}
{"Timestamp":"2024-11-08T15:47:30.7727499+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.7768657+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.7778391+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.7988471+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"elapsed":"25","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.8013880+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.8036472+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":41.8297,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.8056322+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.8067178+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"elapsed":"13","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.8080864+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":57.3372,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"57.3372"}]}}
{"Timestamp":"2024-11-08T15:47:30.8105645+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.8124844+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a6a3ad95ba0754c94b5c40d47ddc0488","SpanId":"e48b16eb4f6d1455","Properties":{"ElapsedMilliseconds":94.4398,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0B"}}
{"Timestamp":"2024-11-08T15:47:30.8132949+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":33.8245,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.8170373+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:30.8179488+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":41.33,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.3300"}]}}
{"Timestamp":"2024-11-08T15:47:30.8195869+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4fcbfa66eb49890b295b198805709fc2","SpanId":"c0c3d9edb8724a38","Properties":{"ElapsedMilliseconds":46.9744,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0C"}}
{"Timestamp":"2024-11-08T15:47:57.7034789+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7086584+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7106665+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7312271+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"elapsed":"10","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7417197+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7451995+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7470487+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":34.7605,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7486108+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:47:57.7498548+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":41.3526,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.3526"}]}}
{"Timestamp":"2024-11-08T15:47:57.7517568+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53636c7f510a186c9ca3bbfcbab0a7a9","SpanId":"ccd0fc187f5dc2bf","Properties":{"ElapsedMilliseconds":48.3323,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0D:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0D"}}
{"Timestamp":"2024-11-08T15:48:01.2255512+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2279577+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2289584+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2450741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2579362+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2611148+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2631504+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":32.1735,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2649614+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.2667353+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":38.8974,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.8974"}]}}
{"Timestamp":"2024-11-08T15:48:01.2691730+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be496ea52665ab65ea7dd821bd0f6dd6","SpanId":"969959eec94a274b","Properties":{"ElapsedMilliseconds":43.6833,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0E"}}
{"Timestamp":"2024-11-08T15:48:01.3447945+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3487399+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3512125+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3563185+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3596180+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3701086+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3719482+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.3253,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3731554+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.3743213+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.5185,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.5185"}]}}
{"Timestamp":"2024-11-08T15:48:01.3772174+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d554ff3fd1d4cff1302842d5d77b3bb","SpanId":"3a398bc5ed727bbc","Properties":{"ElapsedMilliseconds":32.4678,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0F:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0F"}}
{"Timestamp":"2024-11-08T15:48:01.4075135+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4076292+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4119564+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4142031+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4187678+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4216551+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4332274+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4336301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4356609+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4378625+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4391028+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.7758,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4411877+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.8724,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4428172+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4439840+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:01.4447966+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":33.3977,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.3977"}]}}
{"Timestamp":"2024-11-08T15:48:01.4457640+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":31.998,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.9980"}]}}
{"Timestamp":"2024-11-08T15:48:01.4474250+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"320990560630d6e8ed22714aa4e61865","SpanId":"cf5535b9d9c6992a","Properties":{"ElapsedMilliseconds":40.1912,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0G:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0G"}}
{"Timestamp":"2024-11-08T15:48:01.4491793+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b72513ae2a5206c5c7fec3d29c0b66da","SpanId":"099605a88065234d","Properties":{"ElapsedMilliseconds":41.5497,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0H:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0H"}}
{"Timestamp":"2024-11-08T15:48:03.2508994+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2540769+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2553039+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2719367+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"elapsed":"12","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2809256+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2852059+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2867934+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":29.5633,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2890731+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2904992+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.4733,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.4733"}]}}
{"Timestamp":"2024-11-08T15:48:03.2924088+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f8cd9afb45815672774e4412b3a2a63a","SpanId":"a1f7f7d911a67e8a","Properties":{"ElapsedMilliseconds":41.5259,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0I:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0I"}}
{"Timestamp":"2024-11-08T15:48:03.2951065+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3001148+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3021369+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3091592+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3107604+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3116427+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.124,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3126005+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.3133513+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":13.6952,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.6952"}]}}
{"Timestamp":"2024-11-08T15:48:03.3147790+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"195499a878c9866dde96f15470e29916","SpanId":"0152291b9d5e9535","Properties":{"ElapsedMilliseconds":19.7764,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0J"}}
{"Timestamp":"2024-11-08T15:48:03.4117284+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4164919+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4192233+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4222477+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4237158+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4281737+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4306893+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4360485+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4374672+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4404327+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4435128+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4478358+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4488691+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.0265,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4535950+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.5047,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4545769+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4566195+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4591642+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.5879,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.5879"}]}}
{"Timestamp":"2024-11-08T15:48:03.4603273+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.672,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.6720"}]}}
{"Timestamp":"2024-11-08T15:48:03.4624218+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2097dfe87cc20c1b14ec8cf0fb523032","SpanId":"900b3cd51c64502b","Properties":{"ElapsedMilliseconds":50.8135,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0K"}}
{"Timestamp":"2024-11-08T15:48:03.4645500+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c38d7f8acf4b9337cff1d45952321cfc","SpanId":"3ecf3afc32f5458b","Properties":{"ElapsedMilliseconds":45.4264,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0L:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0L"}}
{"Timestamp":"2024-11-08T15:48:03.4687357+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4782630+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.4838765+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4855879+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.4861915+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4875027+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.4902387+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4923893+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4933038+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.0056,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4945080+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.4955129+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":11.9144,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9144"}]}}
{"Timestamp":"2024-11-08T15:48:03.4962432+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.4975261+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c29c2435dc72198bb2709949592fbaf7","SpanId":"3516422b6b1ae245","Properties":{"ElapsedMilliseconds":28.8359,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0M:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0M"}}
{"Timestamp":"2024-11-08T15:48:03.5009808+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.5049437+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.4906,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.5056701+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:03.5062019+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.819,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.8190"}]}}
{"Timestamp":"2024-11-08T15:48:03.5072180+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8163694d0ce1059e0a42f8b329d14a83","SpanId":"999c0abdd90c7896","Properties":{"ElapsedMilliseconds":28.9639,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0N"}}
{"Timestamp":"2024-11-08T15:48:04.2987822+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3042355+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3061399+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3134790+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3178305+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3208028+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3220234+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.4704,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3228063+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3235350+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.3555,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3555"}]}}
{"Timestamp":"2024-11-08T15:48:04.3249938+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d422a34a62d65daf71619285cc5818e5","SpanId":"97c574bf399a4327","Properties":{"ElapsedMilliseconds":26.2985,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0O"}}
{"Timestamp":"2024-11-08T15:48:04.3272701+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3294339+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3301585+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3365043+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3382298+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3397293+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":7.9216,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3410124+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:04.3417166+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.4252,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.4252"}]}}
{"Timestamp":"2024-11-08T15:48:04.3436376+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"889287d93fb4e3e5609c6ee8ea83f8f1","SpanId":"8026b5a1687d2582","Properties":{"ElapsedMilliseconds":16.8733,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS0P"}}
{"Timestamp":"2024-11-08T15:48:06.5493379+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5535004+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5550550+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5719179+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5773268+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5801830+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5812402+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.1506,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5826035+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5844238+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":31.0112,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.0112"}]}}
{"Timestamp":"2024-11-08T15:48:06.5864558+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44c22052f15df2a836878e06c1b03403","SpanId":"97ba589888945eb3","Properties":{"ElapsedMilliseconds":37.1153,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0Q"}}
{"Timestamp":"2024-11-08T15:48:06.5953588+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.5994075+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6019194+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6387818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6519416+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6553887+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6572091+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":51.5964,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6628308+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:06.6690719+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":69.924,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"69.9240"}]}}
{"Timestamp":"2024-11-08T15:48:06.6730722+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ba7992083de0545de1645fe0bf4f758","SpanId":"94f2313d71f5932e","Properties":{"ElapsedMilliseconds":77.7262,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0R:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS0R"}}
{"Timestamp":"2024-11-08T15:48:26.1480477+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1516480+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1523084+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1597548+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"elapsed":"3","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1669410+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1696105+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1710035+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":17.7273,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1722291+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:26.1732327+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":21.6119,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6119"}]}}
{"Timestamp":"2024-11-08T15:48:26.1750485+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a53dba2f201b2a220bf67d888acd98f9","SpanId":"62ffecc04f354940","Properties":{"ElapsedMilliseconds":27.0481,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0S:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS0S"}}
{"Timestamp":"2024-11-08T15:48:30.4819889+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.4855062+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.4872073+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.4973922+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.5047372+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.5077053+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.5095969+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.09,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.5126534+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.5144484+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.1256,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.1256"}]}}
{"Timestamp":"2024-11-08T15:48:30.5165102+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"865795c27d3c2bb809e2f0bcff485504","SpanId":"2fc6d44b591a81f6","Properties":{"ElapsedMilliseconds":34.5279,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0T:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0T"}}
{"Timestamp":"2024-11-08T15:48:30.6235035+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6256971+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6271474+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6329241+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6367859+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6383627+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6393662+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.3748,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6406139+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6413727+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.7102,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.7102"}]}}
{"Timestamp":"2024-11-08T15:48:30.6459018+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"59ae47e926f5c20ab5f1b1b5e1565e5f","SpanId":"a743d86fcd2386d2","Properties":{"ElapsedMilliseconds":22.4083,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS0U"}}
{"Timestamp":"2024-11-08T15:48:30.6538204+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6547763+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6572641+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6588906+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6599927+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6612842+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6690933+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6705615+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6713362+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":7.1566,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6715018+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6722626+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6739730+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6744624+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.261,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2610"}]}}
{"Timestamp":"2024-11-08T15:48:30.6755879+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.3895,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6768028+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec960409f7e74fa8a9245a0b32b26ebb","SpanId":"e3a3733f8f0f4d5f","Properties":{"ElapsedMilliseconds":23.0908,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS0V"}}
{"Timestamp":"2024-11-08T15:48:30.6780128+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:30.6813936+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.8171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8171"}]}}
{"Timestamp":"2024-11-08T15:48:30.6828532+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d152ffaeb0cdfe72ff4afacc91003d5","SpanId":"70158dc1265396f4","Properties":{"ElapsedMilliseconds":28.2228,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS10:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS10"}}
{"Timestamp":"2024-11-08T15:48:34.0298616+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0333811+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0342273+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0402677+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0450917+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0474398+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0483915+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.3726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0495561+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0502223+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.8878,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8878"}]}}
{"Timestamp":"2024-11-08T15:48:34.0520182+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"891c408888e2972dbcd3670e1b431317","SpanId":"ad5933f6188c0ee3","Properties":{"ElapsedMilliseconds":22.2326,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS11:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS11"}}
{"Timestamp":"2024-11-08T15:48:34.0543663+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0569526+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0575885+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0851575+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"elapsed":"22","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0891373+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0911216+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":31.9818,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0927471+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:48:34.0938721+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":37.0758,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.0758"}]}}
{"Timestamp":"2024-11-08T15:48:34.0968299+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3c152319936c4cf2d3028adbd549ac5f","SpanId":"ec21879fbdd6eeff","Properties":{"ElapsedMilliseconds":42.5194,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS12:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS12"}}
{"Timestamp":"2024-11-08T15:49:12.5516403+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5541982+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5552511+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5631113+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"elapsed":"2","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5717303+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5740612+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d58bc765-f4dc-4c69-9ee7-cbc5870e4b0f","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5749470+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":18.5355,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5757938+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:12.5765549+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":22.4707,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.4707"}]}}
{"Timestamp":"2024-11-08T15:49:12.5777405+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ac48bf722248f49f7066bb0eaaa7fe6e","SpanId":"bea817dec8da04a1","Properties":{"ElapsedMilliseconds":26.419,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS13:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VPU5GNS13"}}
{"Timestamp":"2024-11-08T15:49:16.2305406+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2358114+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2373057+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2481949+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"elapsed":"5","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2742809+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"elapsed":"16","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2778037+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2796284+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":39.6002,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2809961+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.2822033+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":46.4571,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.4571"}]}}
{"Timestamp":"2024-11-08T15:49:16.2853956+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6b7e0fa1c2855fc2342732291ad87f6","SpanId":"9c99927daf3635a7","Properties":{"ElapsedMilliseconds":54.9278,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS14:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS14"}}
{"Timestamp":"2024-11-08T15:49:16.3686921+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3724509+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3738081+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3785499+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3808607+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3827325+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3837635+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":7.7343,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3853915+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.3864611+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.1231,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.1231"}]}}
{"Timestamp":"2024-11-08T15:49:16.3883285+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d130c66e7879b09271261a9646bf9fcd","SpanId":"a57613a2cf10f1c7","Properties":{"ElapsedMilliseconds":19.6257,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS15:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS15"}}
{"Timestamp":"2024-11-08T15:49:16.4027482+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4037712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4204211+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4235628+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4240463+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4252064+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4350666+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4373041+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2d79d87-2f91-46ca-8867-afd60b61b9a4","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4377849+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4390856+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":11.6947,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4415737+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4428814+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4443678+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":15.1071,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4467299+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":26.4319,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.4319"}]}}
{"Timestamp":"2024-11-08T15:49:16.4492575+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:16.4515951+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da8d3b2bd766e570ea315eb40e6dbedb","SpanId":"619c57fb3a7affad","Properties":{"ElapsedMilliseconds":48.9358,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS16:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VPU5GNS16"}}
{"Timestamp":"2024-11-08T15:49:16.4531503+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":30.0431,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.0431"}]}}
{"Timestamp":"2024-11-08T15:49:16.4583400+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"283c7bf6803e1475780f04c4bca10407","SpanId":"898799311c35efee","Properties":{"ElapsedMilliseconds":54.7068,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS17:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS17"}}
{"Timestamp":"2024-11-08T15:49:19.9878770+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:19.9905657+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:19.9915400+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0009727+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0059726+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0076103+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0084850+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.2548,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0101938+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0116229+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.2226,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.2226"}]}}
{"Timestamp":"2024-11-08T15:49:20.0318572+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3ceba774153195303bd123a7f6c1c67a","SpanId":"a7d42ef64c24a86c","Properties":{"ElapsedMilliseconds":43.9977,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS18:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS18"}}
{"Timestamp":"2024-11-08T15:49:20.0463455+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0500160+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0515956+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0580846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0614967+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0627918+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.844,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0642770+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:20.0654865+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.6644,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.6644"}]}}
{"Timestamp":"2024-11-08T15:49:20.0673287+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"650a9eb914f75a58b1d2829d3a697201","SpanId":"8f0c1c0cea0b4e6c","Properties":{"ElapsedMilliseconds":21.0215,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS19:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS19"}}
{"Timestamp":"2024-11-08T15:49:46.9347352+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9436238+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9443520+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9845442+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9949415+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9966020+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9975902+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":51.8995,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9986036+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:46.9993679+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":55.8118,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.8118"}]}}
{"Timestamp":"2024-11-08T15:49:47.0014688+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"be8d7cbae6aa4107bcea1d3f2407d120","SpanId":"0de41d26211a9977","Properties":{"ElapsedMilliseconds":66.8443,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1A"}}
{"Timestamp":"2024-11-08T15:49:47.0082937+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0119698+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0128347+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0195323+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0251566+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0265944+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8a5468bf-3041-413f-a9cf-237e251ae2f1","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0274104+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":12.9344,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0283711+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:49:47.0291890+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":17.4059,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.4059"}]}}
{"Timestamp":"2024-11-08T15:49:47.0303670+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"057318dc3caedb2f9a4c0ae1ad679340","SpanId":"64fafd75192d20af","Properties":{"ElapsedMilliseconds":22.2242,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1B:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VPU5GNS1B"}}
{"Timestamp":"2024-11-08T15:50:46.0300699+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0332917+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0339020+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0445546+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0510113+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0525497+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0534423+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.4203,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0543494+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0554477+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":22.1982,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.1982"}]}}
{"Timestamp":"2024-11-08T15:50:46.0578145+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"181260427cbd7687bc0b5f8483bb8e14","SpanId":"2b816d16ddfc35a7","Properties":{"ElapsedMilliseconds":27.7948,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1C:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1C"}}
{"Timestamp":"2024-11-08T15:50:46.0604569+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0691076+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0697991+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0768419+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0789512+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"03e20a15-6a61-4c81-98b4-e9faaaba323d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0811320+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.0569,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0828202+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:50:46.0836227+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.6667,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6667"}]}}
{"Timestamp":"2024-11-08T15:50:46.0849364+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f10eb1b29e35a34ac0d9cf1024a8366f","SpanId":"de2f3c18f7a35f69","Properties":{"ElapsedMilliseconds":24.5043,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1D:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VPU5GNS1D"}}
{"Timestamp":"2024-11-08T15:51:09.5933746+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.5992268+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6000852+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6118809+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6177111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6209954+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4864c91a-fbec-4db6-9dfa-a8431c82629c","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6225585+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.1025,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6237361+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T15:51:09.6243673+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":25.2455,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.2455"}]}}
{"Timestamp":"2024-11-08T15:51:09.6255906+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33bf2e1e15420cbb42e8622bd4888fbb","SpanId":"76114f0a4a7d64c3","Properties":{"ElapsedMilliseconds":32.2846,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VPU5GNS1E:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VPU5GNS1E"}}
{"Timestamp":"2024-11-08T16:24:51.7796184+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T16:24:52.3099037+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:24:52.3708836+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:24:52.3742385+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:24:52.3755930+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:24:53.2745124+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"39ca21dbe0e90373883cf54fc02c5db7","SpanId":"9bda5d04fc37a030","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVO:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VQSPMKFVO"}}
{"Timestamp":"2024-11-08T16:24:53.6057938+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"39ca21dbe0e90373883cf54fc02c5db7","SpanId":"9bda5d04fc37a030","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":106.473,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"106.4730"}]}}
{"Timestamp":"2024-11-08T16:24:53.6213799+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"39ca21dbe0e90373883cf54fc02c5db7","SpanId":"9bda5d04fc37a030","Properties":{"ElapsedMilliseconds":354.0701,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVO:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VQSPMKFVO"}}
{"Timestamp":"2024-11-08T16:24:53.6235859+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e176b6ce1a8c81a065f7ec7edc2923d","SpanId":"1e03d3bbecdbf127","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVP:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VQSPMKFVP"}}
{"Timestamp":"2024-11-08T16:24:53.6255077+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bfd90d4f36a1a98382db6c8abf0db2a3","SpanId":"2977786dbc11662d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVO:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VQSPMKFVO"}}
{"Timestamp":"2024-11-08T16:24:53.6384061+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bfd90d4f36a1a98382db6c8abf0db2a3","SpanId":"2977786dbc11662d","Properties":{"ElapsedMilliseconds":12.9043,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVO:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VQSPMKFVO"}}
{"Timestamp":"2024-11-08T16:24:53.6913641+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e176b6ce1a8c81a065f7ec7edc2923d","SpanId":"1e03d3bbecdbf127","Properties":{"ElapsedMilliseconds":67.5125,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVP:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VQSPMKFVP"}}
{"Timestamp":"2024-11-08T16:24:53.7804720+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"94c29f8af9abb1babe245fd383e451d4","SpanId":"87058b9c838549c2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVP:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VQSPMKFVP"}}
{"Timestamp":"2024-11-08T16:24:53.9167162+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"94c29f8af9abb1babe245fd383e451d4","SpanId":"87058b9c838549c2","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":132.6565,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"132.6565"}]}}
{"Timestamp":"2024-11-08T16:24:53.9197644+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"94c29f8af9abb1babe245fd383e451d4","SpanId":"87058b9c838549c2","Properties":{"ElapsedMilliseconds":139.2847,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVP:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VQSPMKFVP"}}
{"Timestamp":"2024-11-08T16:25:11.2236691+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:11.2344156+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:11.3760878+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:11.4387949+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:14.2247117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"elapsed":"133","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:14.6463357+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"elapsed":"45","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:14.6750422+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:14.6854100+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":3239.0601,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:14.6868862+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:14.6889655+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3459.3857,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3459.3857"}]}}
{"Timestamp":"2024-11-08T16:25:14.7005867+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"34128a83d3b396fc0e8d75c5563942dd","SpanId":"0c3327758a150807","Properties":{"ElapsedMilliseconds":3477.0565,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVQ:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKFVQ"}}
{"Timestamp":"2024-11-08T16:25:18.8881395+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:18.8950942+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:18.9087331+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.0393381+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"elapsed":"10","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.0407050+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.0460625+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.0468690+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2108431+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.2258104+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2317615+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2363566+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2363566+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.2418302+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":193.5962,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2432307+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":332.4207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.2442316+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2455864+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.2464352+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":202.0933,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"202.0933"}]}}
{"Timestamp":"2024-11-08T16:25:19.2470835+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":353.9228,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"353.9228"}]}}
{"Timestamp":"2024-11-08T16:25:19.2488597+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9450fe963959b462884bd510b027146","SpanId":"ec49620e787394e8","Properties":{"ElapsedMilliseconds":208.3117,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVS"}}
{"Timestamp":"2024-11-08T16:25:19.2507408+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1a7c73556dc730d974acada983d5e714","SpanId":"f9b5c6c1bf545f04","Properties":{"ElapsedMilliseconds":362.6067,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVR"}}
{"Timestamp":"2024-11-08T16:25:19.2530523+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.2547455+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.3112085+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.3112085+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.3171893+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.3171893+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.4107174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"elapsed":"18","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.4114774+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"elapsed":"14","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.4140130+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.4208096+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.4264676+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":105.9111,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.4285736+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.4299234+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":166.1639,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"166.1639"}]}}
{"Timestamp":"2024-11-08T16:25:19.4317412+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8d2532a3cbac74718d8ae763657b0742","SpanId":"f2ae75f727a0a681","Properties":{"ElapsedMilliseconds":176.9987,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKFVU"}}
{"Timestamp":"2024-11-08T16:25:19.4328467+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":113.6451,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.4381439+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:19.4393331+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":179.1698,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"179.1698"}]}}
{"Timestamp":"2024-11-08T16:25:19.4415477+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05f9ba9807d74d2ca8277089236b5b6c","SpanId":"0ba4610556c6b738","Properties":{"ElapsedMilliseconds":188.7153,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVT:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKFVT"}}
{"Timestamp":"2024-11-08T16:25:38.2260712+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2311370+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2335049+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2446970+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2543301+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2577370+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2595862+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.1033,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2614396+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2632912+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.3158,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.3158"}]}}
{"Timestamp":"2024-11-08T16:25:38.2659289+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2605a53bdcbeea5aa880b8dd66003b4d","SpanId":"519d408895a06acd","Properties":{"ElapsedMilliseconds":40.2841,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKFVV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKFVV"}}
{"Timestamp":"2024-11-08T16:25:38.2736406+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":99,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1212","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.2780074+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.2814306+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.3032092+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"elapsed":"4","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.3664792+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"elapsed":"16","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.3753088+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.3761132+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":92.9924,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.3777729+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:38.3787098+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1212","StatusCode":200,"Elapsed":100.8211,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"100.8211"}]}}
{"Timestamp":"2024-11-08T16:25:38.3800561+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"84ea8dbb6d29c57d0f9df4428dcf3010","SpanId":"2adfad743497353b","Properties":{"ElapsedMilliseconds":106.4809,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1212","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG00:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VQSPMKG00"}}
{"Timestamp":"2024-11-08T16:25:39.3051499+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3095669+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3107149+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3150237+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3262001+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"elapsed":"8","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3296341+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3313600+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.3097,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3327103+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3339787+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.5815,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.5815"}]}}
{"Timestamp":"2024-11-08T16:25:39.3359979+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cdf29757f8e3211aaad779ab50a83744","SpanId":"d5297213404fd125","Properties":{"ElapsedMilliseconds":30.955,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG01:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG01"}}
{"Timestamp":"2024-11-08T16:25:39.3392990+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6Ik5ndXnhu4VuIFbEg24gQSIsImVtYWlsIjoibnZhQGdtYWlsLmNvbSIsImp0aSI6ImQ2NjFjMTIwLWVkMDEtNDM3NS04NzAyLWZhOGRmODZjZTU4MCIsIlVzZXJOYW1lIjoiYWRtaW4iLCJJZCI6IjEiLCJUb2tlbklkIjoiYmRiM2E5YWMtM2I3Yi00NDZjLWE5MTYtZWM0YjM2YTk2YWYyIiwibmJmIjoxNzMxMDU3OTE0LCJleHAiOjE3MzEwNTc5NzQsImlhdCI6MTczMTA1NzkxNH0.HLU5YjLb2qKch5uqD9jnRqOxOneI0Jeh3bIw7r5ax64","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:25:39.3455113+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:25:39.3471592+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:25:39.3645749+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:25:39.3826771+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":33.7896,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:25:39.3837894+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:25:39.3847672+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":400,"Elapsed":41.8784,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.8784"}]}}
{"Timestamp":"2024-11-08T16:25:39.3861353+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0eb2ce5b34137ab0bf0bed5222ae54ab","SpanId":"9177f3d9f9707008","Properties":{"ElapsedMilliseconds":46.8918,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6Ik5ndXnhu4VuIFbEg24gQSIsImVtYWlsIjoibnZhQGdtYWlsLmNvbSIsImp0aSI6ImQ2NjFjMTIwLWVkMDEtNDM3NS04NzAyLWZhOGRmODZjZTU4MCIsIlVzZXJOYW1lIjoiYWRtaW4iLCJJZCI6IjEiLCJUb2tlbklkIjoiYmRiM2E5YWMtM2I3Yi00NDZjLWE5MTYtZWM0YjM2YTk2YWYyIiwibmJmIjoxNzMxMDU3OTE0LCJleHAiOjE3MzEwNTc5NzQsImlhdCI6MTczMTA1NzkxNH0.HLU5YjLb2qKch5uqD9jnRqOxOneI0Jeh3bIw7r5ax64","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG02:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG02"}}
{"Timestamp":"2024-11-08T16:28:28.2760927+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.2790093+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.2807688+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.3128830+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"elapsed":"10","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.3561158+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.3603313+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.3616886+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":79.441,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.3629989+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:28.3637546+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":85.1615,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"85.1615"}]}}
{"Timestamp":"2024-11-08T16:28:28.3656233+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8815863a043b38c736568be96a5207f8","SpanId":"c79cff30c167fb22","Properties":{"ElapsedMilliseconds":89.6263,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG03:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG03"}}
{"Timestamp":"2024-11-08T16:28:32.5562787+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5594807+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5610838+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5690714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5749546+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5773400+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5795776+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.411,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5814591+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:32.5821796+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.8613,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8613"}]}}
{"Timestamp":"2024-11-08T16:28:32.5842326+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87b0bf956b820fa0356d6ec1cbb85742","SpanId":"66db14584fc66a0a","Properties":{"ElapsedMilliseconds":27.9316,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG04:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG04"}}
{"Timestamp":"2024-11-08T16:28:41.4804565+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.4838314+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.4844942+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.4980448+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.5054657+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.5089311+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.5103266+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.3715,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.5112978+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.5122970+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.5448,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.5448"}]}}
{"Timestamp":"2024-11-08T16:28:41.5140763+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7ec895aeb42b584449d85e5d8bd871cf","SpanId":"6b5b161bcee0e635","Properties":{"ElapsedMilliseconds":33.6635,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG05:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG05"}}
{"Timestamp":"2024-11-08T16:28:41.5764243+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5801403+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5812233+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5928635+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5946400+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5958177+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.7038,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5969836+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:41.5979362+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.2131,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2131"}]}}
{"Timestamp":"2024-11-08T16:28:41.5994664+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"602de4bfdcf21ff96babee373588f3cb","SpanId":"d4b94cd3d1a3f37f","Properties":{"ElapsedMilliseconds":23.1301,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG06:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG06"}}
{"Timestamp":"2024-11-08T16:28:50.9765632+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:50.9810900+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:50.9824339+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:50.9920561+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:50.9947870+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:50.9963695+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.1531,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:50.9984074+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:28:51.0000216+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.4627,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.4627"}]}}
{"Timestamp":"2024-11-08T16:28:51.0018889+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"614a0d3e554920955cb7f749ae1bf435","SpanId":"f4757174ae372023","Properties":{"ElapsedMilliseconds":25.3715,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG07:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG07"}}
{"Timestamp":"2024-11-08T16:29:45.4740564+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.4779961+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.4788904+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.5315597+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"elapsed":"10","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.5527334+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.5608677+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.5662588+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":86.3154,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.5716254+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:45.5755761+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":97.1954,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"97.1954"}]}}
{"Timestamp":"2024-11-08T16:29:45.5818622+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11a1c80cb1bc537f187b7605789faaff","SpanId":"7624a3819cd60853","Properties":{"ElapsedMilliseconds":107.9324,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG08:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG08"}}
{"Timestamp":"2024-11-08T16:29:49.4951598+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.4981789+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.4988738+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.5080066+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.5140867+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.5170386+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.5190676+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.7062,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.5206644+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:29:49.5221701+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.0375,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0375"}]}}
{"Timestamp":"2024-11-08T16:29:49.5247368+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9546e51344a096948a09c457b6ed60cf","SpanId":"0e8336fb3ef0fb94","Properties":{"ElapsedMilliseconds":29.6931,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG09:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG09"}}
{"Timestamp":"2024-11-08T16:30:01.5901433+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.5950434+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.5959921+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6091174+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6169347+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6204400+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6223349+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":23.3737,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6241773+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6249816+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":30.0811,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.0811"}]}}
{"Timestamp":"2024-11-08T16:30:01.6263574+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c3cf1f544d16b8967500880d0862994f","SpanId":"769aa0359d9ab684","Properties":{"ElapsedMilliseconds":36.329,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0A:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0A"}}
{"Timestamp":"2024-11-08T16:30:01.6477935+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.6718028+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.6760925+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.6960998+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.6985360+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.6999371+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":18.1381,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.7018744+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:01.7028088+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":31.6356,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.6356"}]}}
{"Timestamp":"2024-11-08T16:30:01.7063659+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e753597a20e0fb6be1bf4a9f48ff0171","SpanId":"70ab58f6b9f93168","Properties":{"ElapsedMilliseconds":58.5629,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0B:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0B"}}
{"Timestamp":"2024-11-08T16:30:48.4727287+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.4880962+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/8/2024 9:30:45 AM', Current time (UTC): '11/8/2024 9:30:48 AM'.\r\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5572590+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/8/2024 9:30:45 AM', Current time (UTC): '11/8/2024 9:30:48 AM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5581585+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5591388+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5716971+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"elapsed":"8","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5741599+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5754043+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.8291,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5766259+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:30:48.5775904+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":101.8939,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"101.8939"}]}}
{"Timestamp":"2024-11-08T16:30:48.5793378+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"875bf66ec2ae726197da0cca9b2eadc1","SpanId":"aea30c1ac42ea9d5","Properties":{"ElapsedMilliseconds":106.6458,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0C:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0C"}}
{"Timestamp":"2024-11-08T16:32:13.7661554+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.7724357+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.7735816+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.8013679+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"elapsed":"13","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.8168352+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"elapsed":"11","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.8226951+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.8250968+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":49.6786,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.8265647+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:13.8280224+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":55.8487,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.8487"}]}}
{"Timestamp":"2024-11-08T16:32:13.8296713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6fbc5d2a26847e82c86e326096152ef8","SpanId":"eafd39d23c3c820b","Properties":{"ElapsedMilliseconds":67.0039,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0D:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0D"}}
{"Timestamp":"2024-11-08T16:32:23.8361107+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":98,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1218","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8397783+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8404648+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8605245+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"elapsed":"10","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8749578+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"elapsed":"9","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8815061+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8823759+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":39.9251,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8834200+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:32:23.8842480+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1218","StatusCode":200,"Elapsed":44.5565,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.5565"}]}}
{"Timestamp":"2024-11-08T16:32:23.8858639+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1257411ca7dc46ca7f6ad64c06abcd17","SpanId":"615d032ec8ea2697","Properties":{"ElapsedMilliseconds":49.7995,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1218","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0E:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VQSPMKG0E"}}
{"Timestamp":"2024-11-08T16:34:23.9103694+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9137769+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9152884+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9412207+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"elapsed":"11","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9533224+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9552483+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f341526a-7cad-47cb-93b3-b701be7a9c0a","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9563662+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":39.5012,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9573205+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:23.9579741+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":44.3835,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.3835"}]}}
{"Timestamp":"2024-11-08T16:34:23.9592505+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f82efd2d26c2efe38125cccec043d1ae","SpanId":"4f2f7096a20e684b","Properties":{"ElapsedMilliseconds":49.0272,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0F:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VQSPMKG0F"}}
{"Timestamp":"2024-11-08T16:34:30.9006975+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9060393+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9069510+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9229206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"elapsed":"7","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9295439+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9315971+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9327435+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.4985,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9336534+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:30.9346502+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.6751,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.6751"}]}}
{"Timestamp":"2024-11-08T16:34:30.9361889+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5a982060670c39b9466623346514112","SpanId":"9ae7eebb35f27059","Properties":{"ElapsedMilliseconds":35.5084,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0G:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0G"}}
{"Timestamp":"2024-11-08T16:34:34.3267427+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3304449+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3313278+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3412752+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"elapsed":"4","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3520289+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3600596+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3641930+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":30.8303,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3656211+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3659500+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.3670090+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.7878,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.7878"}]}}
{"Timestamp":"2024-11-08T16:34:34.3707076+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.3727356+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a66e53e5fa9ea199e9d9029c32ea973b","SpanId":"58e22eab597403c4","Properties":{"ElapsedMilliseconds":46.0393,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0H:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0H"}}
{"Timestamp":"2024-11-08T16:34:34.3738284+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.3813492+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.3866129+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.3893106+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.3934324+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"elapsed":"9","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.3983885+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bec6088f-74f1-4e11-b922-dd98d008db0e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.4005597+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":22.5352,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.4025243+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.4061665+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":35.9409,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.9409"}]}}
{"Timestamp":"2024-11-08T16:34:34.4084978+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cce95fe005158279bfa6d598f1a82a6b","SpanId":"7f2351d2cec03fb3","Properties":{"ElapsedMilliseconds":42.7194,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0I:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VQSPMKG0I"}}
{"Timestamp":"2024-11-08T16:34:34.4529611+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"elapsed":"11","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.4569033+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.4583433+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":65.3629,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.4594104+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:34:34.4610829+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":74.8174,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"74.8174"}]}}
{"Timestamp":"2024-11-08T16:34:34.4633485+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d1c501c826a6f08fa4333d4771df138","SpanId":"e82938b7e6a627d5","Properties":{"ElapsedMilliseconds":82.1447,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0J:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0J"}}
{"Timestamp":"2024-11-08T16:35:00.3926911+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4001578+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4020253+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4098789+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4135063+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4175263+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4188133+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.0507,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4202628+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4214675+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.4448,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.4448"}]}}
{"Timestamp":"2024-11-08T16:35:00.4225954+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bf4fd39ebff25b66dc52829abc233e49","SpanId":"dc7218d5ed0ebb9c","Properties":{"ElapsedMilliseconds":31.3084,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0K:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0K"}}
{"Timestamp":"2024-11-08T16:35:00.4272579+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json; charset=utf-8","ContentLength":96,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1219","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4291336+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4300823+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"RouteData":"{action = \"Update\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, WebCalenderAPI.Models.ScheduleVM)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4418637+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"elapsed":"1","parameters":"@__schedule_id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__schedule_id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4495090+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"elapsed":"5","parameters":"@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [Schedules] SET [FromX] = @p0, [FromY] = @p1, [Reason] = @p2, [ToX] = @p3, [ToY] = @p4\r\nOUTPUT 1\r\nWHERE [Id] = @p5;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4532289+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f59fd8b8-931a-4a70-a067-f82ee9f784d5","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4541161+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","ElapsedMilliseconds":22.3473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4552106+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Update (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:00.4564308+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"RequestMethod":"PUT","RequestPath":"/api/Schedules/1219","StatusCode":200,"Elapsed":27.381,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"27.3810"}]}}
{"Timestamp":"2024-11-08T16:35:00.4581755+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4bfc28b710a972c037480164b2ef62b9","SpanId":"aaea03ad25c258f6","Properties":{"ElapsedMilliseconds":30.9394,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1219","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0L:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VQSPMKG0L"}}
{"Timestamp":"2024-11-08T16:35:02.6316175+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6350793+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6363631+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6456390+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6528839+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6552824+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6566921+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.2218,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6605392+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6611780+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.2728,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.2728"}]}}
{"Timestamp":"2024-11-08T16:35:02.6625135+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"670f027030458c346fbc35a18b0e594e","SpanId":"a2af0a88459d813b","Properties":{"ElapsedMilliseconds":30.9336,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0M:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0M"}}
{"Timestamp":"2024-11-08T16:35:02.6657120+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6696976+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6728577+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6805200+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6824159+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6846527+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.8289,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6859395+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:02.6888658+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":19.9094,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.9094"}]}}
{"Timestamp":"2024-11-08T16:35:02.6932012+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a9cc045576bc8bdc64b688121475c664","SpanId":"a23ab06d043359be","Properties":{"ElapsedMilliseconds":27.6222,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0N:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0N"}}
{"Timestamp":"2024-11-08T16:35:05.6551293+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6593427+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6601543+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6675741+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6739232+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6757944+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6768430+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.2294,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6781827+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6796101+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.3999,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.3999"}]}}
{"Timestamp":"2024-11-08T16:35:05.6824147+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2104e44e9793ca85b77900f2b22dc28e","SpanId":"f769444184511aa0","Properties":{"ElapsedMilliseconds":27.2608,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0O:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0O"}}
{"Timestamp":"2024-11-08T16:35:05.6845936+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.6892691+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.6907400+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.6999296+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.7033215+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.7050402+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.4476,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.7060818+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:05.7066842+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.7175,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.7175"}]}}
{"Timestamp":"2024-11-08T16:35:05.7080426+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6afd75ebef3d8e6f15d17c2d31fba593","SpanId":"07cc6dff64283df0","Properties":{"ElapsedMilliseconds":23.4699,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0P:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0P"}}
{"Timestamp":"2024-11-08T16:35:06.7251905+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7311451+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7332817+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7437907+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7507977+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7532268+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7555413+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.4057,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7576441+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7590846+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":28.2515,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.2515"}]}}
{"Timestamp":"2024-11-08T16:35:06.7618596+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c097c2930aa0741b1f402892ef4a84b7","SpanId":"dd95f2f7862c920b","Properties":{"ElapsedMilliseconds":36.794,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0Q:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0Q"}}
{"Timestamp":"2024-11-08T16:35:06.7642301+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7739990+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7755608+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7831209+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7855535+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7872632+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.8511,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7891041+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:06.7907631+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.3615,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.3615"}]}}
{"Timestamp":"2024-11-08T16:35:06.7925414+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d4db8fb604d8483615c77957ca621ab","SpanId":"99dd57d5b13fa583","Properties":{"ElapsedMilliseconds":28.3243,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0R:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0R"}}
{"Timestamp":"2024-11-08T16:35:08.0036966+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0083177+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0092092+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0162106+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0213201+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0248898+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0266675+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.7607,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0279004+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0288895+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.6324,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.6324"}]}}
{"Timestamp":"2024-11-08T16:35:08.0310053+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e0146a250c43bab681d7379035e1c49","SpanId":"98ca8f2a93d90517","Properties":{"ElapsedMilliseconds":27.4379,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0S:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0S"}}
{"Timestamp":"2024-11-08T16:35:08.0334775+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0376302+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0392667+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0459697+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0495061+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0509431+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":9.9563,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0518524+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.0528709+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.5639,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.5639"}]}}
{"Timestamp":"2024-11-08T16:35:08.0542141+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e314dcb12ad7d1b4b3a6b80c7d08bc52","SpanId":"dc76ef3a7047b04c","Properties":{"ElapsedMilliseconds":20.7703,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0T:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0T"}}
{"Timestamp":"2024-11-08T16:35:08.4534388+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4567134+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4579635+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4625575+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4683999+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4721757+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4802011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":21.128,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4821681+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4835929+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.9289,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.9289"}]}}
{"Timestamp":"2024-11-08T16:35:08.4866381+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f73b5815ecd8313e2fef5a7c0b644f8f","SpanId":"562c99508ea6c972","Properties":{"ElapsedMilliseconds":33.2083,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0U:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG0U"}}
{"Timestamp":"2024-11-08T16:35:08.4918260+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.4962694+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.4976939+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.5058473+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.5094204+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.5116462+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.4268,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.5136464+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:08.5145551+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.5117,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.5117"}]}}
{"Timestamp":"2024-11-08T16:35:08.5164262+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e213456aa687e1b794183ab3d0ef831f","SpanId":"edb2bd183c5a9b9b","Properties":{"ElapsedMilliseconds":24.9218,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-19&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG0V:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG0V"}}
{"Timestamp":"2024-11-08T16:35:09.2502779+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2553438+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2578599+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2660632+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2729381+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2751844+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2773200+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.8768,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2781693+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2789753+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.7275,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7275"}]}}
{"Timestamp":"2024-11-08T16:35:09.2804670+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a64268edf72dc259f68c1e22e7166b7d","SpanId":"63ac8e0f75f9f9a2","Properties":{"ElapsedMilliseconds":30.3847,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG10:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG10"}}
{"Timestamp":"2024-11-08T16:35:09.2824018+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.2857538+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.2863434+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.2937880+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.2960635+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.2974852+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.0855,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.2988667+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.3001285+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":14.6177,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6177"}]}}
{"Timestamp":"2024-11-08T16:35:09.3013886+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"05e6d4f2e45550d90e24f52aff67cfc3","SpanId":"4dc944d54177cbbb","Properties":{"ElapsedMilliseconds":19.0436,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG11:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG11"}}
{"Timestamp":"2024-11-08T16:35:09.9400221+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9431121+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9440204+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9495093+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9537426+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9559911+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99b92ec1-ca86-45f4-b3cd-0469a896c6c5","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9570251+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.7882,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9581071+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9591791+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":16.1516,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.1516"}]}}
{"Timestamp":"2024-11-08T16:35:09.9611974+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7a1e8d9bb6135d5d70355ae81e0f19f5","SpanId":"20dfe6ddda592781","Properties":{"ElapsedMilliseconds":21.3177,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG12:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VQSPMKG12"}}
{"Timestamp":"2024-11-08T16:35:09.9636082+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9686688+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9694597+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9759253+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9783046+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"66012364-84e1-4833-aa74-b33dfb8389f6","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9792423+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.6338,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9801294+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:35:09.9808382+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.3986,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.3986"}]}}
{"Timestamp":"2024-11-08T16:35:09.9820457+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"32291331d65d899a8192028f9c8145fc","SpanId":"a7314d43ad560804","Properties":{"ElapsedMilliseconds":18.5823,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VQSPMKG13:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VQSPMKG13"}}
{"Timestamp":"2024-11-08T16:55:09.8652383+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T16:55:10.2549769+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:55:10.3157573+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:55:10.3185819+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:55:10.3199105+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T16:55:11.0828455+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7240869c211fab1e322b3c12c98f7f1e","SpanId":"2b54a80c0e0cf393","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQG:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VRDNG8UQG"}}
{"Timestamp":"2024-11-08T16:55:11.3694597+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7240869c211fab1e322b3c12c98f7f1e","SpanId":"2b54a80c0e0cf393","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":95.7974,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"95.7974"}]}}
{"Timestamp":"2024-11-08T16:55:11.3832188+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7240869c211fab1e322b3c12c98f7f1e","SpanId":"2b54a80c0e0cf393","Properties":{"ElapsedMilliseconds":312.6304,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQG:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VRDNG8UQG"}}
{"Timestamp":"2024-11-08T16:55:11.4010947+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b42d1428794d7ad92edea7a2d9321b9c","SpanId":"877bccce01c32a7b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQG:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VRDNG8UQG"}}
{"Timestamp":"2024-11-08T16:55:11.4073610+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55f2af97cba59361445807c1a0b1b74d","SpanId":"8e152c685dc8997c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQH:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VRDNG8UQH"}}
{"Timestamp":"2024-11-08T16:55:11.4238887+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b42d1428794d7ad92edea7a2d9321b9c","SpanId":"877bccce01c32a7b","Properties":{"ElapsedMilliseconds":23.0923,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQG:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VRDNG8UQG"}}
{"Timestamp":"2024-11-08T16:55:11.5194459+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55f2af97cba59361445807c1a0b1b74d","SpanId":"8e152c685dc8997c","Properties":{"ElapsedMilliseconds":118.5535,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQH:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VRDNG8UQH"}}
{"Timestamp":"2024-11-08T16:55:11.5669904+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5f4ffb0d530596f29e5b06e5f331b86","SpanId":"469f2310321e618e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQH:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VRDNG8UQH"}}
{"Timestamp":"2024-11-08T16:55:11.7287297+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5f4ffb0d530596f29e5b06e5f331b86","SpanId":"469f2310321e618e","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":158.2212,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"158.2212"}]}}
{"Timestamp":"2024-11-08T16:55:11.7321128+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5f4ffb0d530596f29e5b06e5f331b86","SpanId":"469f2310321e618e","Properties":{"ElapsedMilliseconds":165.1108,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRDNG8UQH:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VRDNG8UQH"}}
{"Timestamp":"2024-11-08T17:18:15.0229785+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-11-08T17:18:15.9095870+07:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5112","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T17:18:16.0075125+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T17:18:16.0096387+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T17:18:16.0104663+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"C:\\Users\\user\\source\\repos\\WebCalenderAPI\\WebCalenderAPI","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-11-08T17:18:17.0404708+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"30e7b1838a1a0cc24b20b67cb6ac4ca1","SpanId":"10de8c24698a720c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VRQKH1VJ0"}}
{"Timestamp":"2024-11-08T17:18:17.4312428+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"30e7b1838a1a0cc24b20b67cb6ac4ca1","SpanId":"10de8c24698a720c","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":94.2196,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"94.2196"}]}}
{"Timestamp":"2024-11-08T17:18:17.4735808+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"30e7b1838a1a0cc24b20b67cb6ac4ca1","SpanId":"10de8c24698a720c","Properties":{"ElapsedMilliseconds":442.2344,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ0:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN7VRQKH1VJ0"}}
{"Timestamp":"2024-11-08T17:18:17.4742566+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9d896d92a01bf15c8a4e73d50eb8b791","SpanId":"5ce7ab2f3e795e6b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ2:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VRQKH1VJ2"}}
{"Timestamp":"2024-11-08T17:18:17.4825361+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11e493e6236cb59fe6c9cf973dcaa796","SpanId":"b301f462b1b22cd2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ0:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VRQKH1VJ0"}}
{"Timestamp":"2024-11-08T17:18:17.4886749+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9d896d92a01bf15c8a4e73d50eb8b791","SpanId":"5ce7ab2f3e795e6b","Properties":{"ElapsedMilliseconds":14.5776,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13764,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ2:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN7VRQKH1VJ2"}}
{"Timestamp":"2024-11-08T17:18:17.5416713+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11e493e6236cb59fe6c9cf973dcaa796","SpanId":"b301f462b1b22cd2","Properties":{"ElapsedMilliseconds":59.2005,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ0:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN7VRQKH1VJ0"}}
{"Timestamp":"2024-11-08T17:18:17.5936201+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b1c97e4c735d32a3b0f681d8649a376","SpanId":"9aa08a655956d139","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ0:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VRQKH1VJ0"}}
{"Timestamp":"2024-11-08T17:18:17.7872520+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b1c97e4c735d32a3b0f681d8649a376","SpanId":"9aa08a655956d139","Properties":{"RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":189.9334,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"189.9334"}]}}
{"Timestamp":"2024-11-08T17:18:17.7909561+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b1c97e4c735d32a3b0f681d8649a376","SpanId":"9aa08a655956d139","Properties":{"ElapsedMilliseconds":197.3434,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ0:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN7VRQKH1VJ0"}}
{"Timestamp":"2024-11-08T17:18:36.9932581+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:37.0008912+07:00","Level":"Warning","MessageTemplate":"Failed to determine the https port for redirect.","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:37.1654892+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:37.2184681+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:39.9466072+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"elapsed":"184","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:40.4122921+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"elapsed":"59","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:40.4538524+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:40.4669712+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":3239.9986,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:40.4700350+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:40.4734999+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":3476.1452,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3476.1452"}]}}
{"Timestamp":"2024-11-08T17:18:40.4885638+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef76cac4bb69bd449aa29599d35740d2","SpanId":"3a1b3ce4dd15be3d","Properties":{"ElapsedMilliseconds":3495.942,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ4:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VJ4"}}
{"Timestamp":"2024-11-08T17:18:44.2543626+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.2595873+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.2659676+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.3983819+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"elapsed":"20","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.4218941+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.4270477+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.4279208+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5012663+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"elapsed":"9","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.5210474+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.5235749+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":255.8996,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.5247516+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.5256866+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":267.0858,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"267.0858"}]}}
{"Timestamp":"2024-11-08T17:18:44.5275798+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44fe58bad39dfbd0fa30773fb87aa6bc","SpanId":"d8347810c1857c01","Properties":{"ElapsedMilliseconds":273.2504,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ5"}}
{"Timestamp":"2024-11-08T17:18:44.5322821+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.5356165+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5439908+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5470096+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5487340+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":118.9876,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5508456+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5518232+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":127.3497,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"127.3497"}]}}
{"Timestamp":"2024-11-08T17:18:44.5559769+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"adb89e052a1a10cf9a620da397b2cee9","SpanId":"bf70681d7778ed05","Properties":{"ElapsedMilliseconds":133.9404,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ6"}}
{"Timestamp":"2024-11-08T17:18:44.5597472+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.5880425+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.5880422+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.5929085+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.5929085+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.6785336+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"elapsed":"16","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.6806581+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"elapsed":"33","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.6862672+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.6873693+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.6972193+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":100.3006,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.6994713+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.7015537+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":165.2736,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"165.2736"}]}}
{"Timestamp":"2024-11-08T17:18:44.7041413+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"caf64e3b1f8087bfd4494c78e2accefd","SpanId":"21ae21b35d77ec0d","Properties":{"ElapsedMilliseconds":171.9084,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ7:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJ7"}}
{"Timestamp":"2024-11-08T17:18:44.7047518+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":109.7888,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.7111558+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:44.7123633+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":148.5455,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"148.5455"}]}}
{"Timestamp":"2024-11-08T17:18:44.7153761+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"979413d65cf4828a844e3985cd9c1418","SpanId":"f7c28bc7f055d491","Properties":{"ElapsedMilliseconds":155.6263,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-15&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ8:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJ8"}}
{"Timestamp":"2024-11-08T17:18:47.2285617+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2322949+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2336020+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2498139+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"elapsed":"11","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2592038+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2609852+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2625064+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":26.5025,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2639327+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2651370+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.9623,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.9623"}]}}
{"Timestamp":"2024-11-08T17:18:47.2671297+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"070ac05d4577bf763295c984ef239036","SpanId":"6e4a6c05eef741d4","Properties":{"ElapsedMilliseconds":38.8984,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJ9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJ9"}}
{"Timestamp":"2024-11-08T17:18:47.2720689+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2753920+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2766349+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2908219+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2921606+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2930111+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.2089,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2941847+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.2949242+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.2308,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.2308"}]}}
{"Timestamp":"2024-11-08T17:18:47.2963236+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99f58596fb74865484883ce9896e0217","SpanId":"568a66de996cd80e","Properties":{"ElapsedMilliseconds":24.3322,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJA"}}
{"Timestamp":"2024-11-08T17:18:47.3740710+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3763488+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3779254+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3790548+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.3814860+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.3817161+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3826714+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.3872481+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3891534+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3897694+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.3901538+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.8227,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3925816+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.3972066+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":21.1826,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1826"}]}}
{"Timestamp":"2024-11-08T17:18:47.3981057+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.4030123+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0ee4ffc62d0d1e032f829362c44fab3","SpanId":"d0dc1703d54b5ee2","Properties":{"ElapsedMilliseconds":28.8919,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJB:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJB"}}
{"Timestamp":"2024-11-08T17:18:47.4058511+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.4082773+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4128971+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.4854,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.4150584+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4156972+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.4169532+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4181241+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":36.7278,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.7278"}]}}
{"Timestamp":"2024-11-08T17:18:47.4260655+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b0af971871d039aee3cdabbf2a4078b2","SpanId":"0f38d955ff501458","Properties":{"ElapsedMilliseconds":46.9835,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJC"}}
{"Timestamp":"2024-11-08T17:18:47.4277111+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4313493+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4334484+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4353966+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4357091+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":15.3726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4362564+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4368936+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4387610+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":24.156,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.1560"}]}}
{"Timestamp":"2024-11-08T17:18:47.4402051+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19e747b7ef41af462a82db927fa7bd7b","SpanId":"65c9e6146ff0ec6b","Properties":{"ElapsedMilliseconds":32.117,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJD"}}
{"Timestamp":"2024-11-08T17:18:47.4453350+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4482386+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4523607+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":14.2861,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4540451+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:47.4560682+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":21.1632,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.1632"}]}}
{"Timestamp":"2024-11-08T17:18:47.4583903+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eec0e72d98db52e005f00739a7ee73e6","SpanId":"d5119f08ddf8a7ee","Properties":{"ElapsedMilliseconds":27.0712,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJE:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJE"}}
{"Timestamp":"2024-11-08T17:18:50.0261050+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0280348+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0288415+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0349824+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0417099+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0437180+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0449474+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.9531,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0462759+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0471787+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.3198,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3198"}]}}
{"Timestamp":"2024-11-08T17:18:50.0489767+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8ddaa4272384e7b145cc12484a86a74a","SpanId":"2e860f29204bf534","Properties":{"ElapsedMilliseconds":22.8151,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJF"}}
{"Timestamp":"2024-11-08T17:18:50.0521556+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0569849+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0578157+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0639199+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0665471+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0680208+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.8557,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0694636+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.0714324+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":14.7568,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.7568"}]}}
{"Timestamp":"2024-11-08T17:18:50.0740922+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"adbb7e91a47443dbec3ac10556526f8a","SpanId":"275f1276a6a447b8","Properties":{"ElapsedMilliseconds":21.9896,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJG"}}
{"Timestamp":"2024-11-08T17:18:50.1785816+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.1843615+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.1865513+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.1910865+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.1929846+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.1948757+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.1985508+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.1994914+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.2025462+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.2031128+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.2041187+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.7931,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.2070498+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.2083495+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.2092393+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.9952,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.9952"}]}}
{"Timestamp":"2024-11-08T17:18:50.2116691+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.2144956+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7c5d8a489405f88d8ec4baad4ab4d8ec","SpanId":"7d20de94192b3ae2","Properties":{"ElapsedMilliseconds":35.5289,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJH:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJH"}}
{"Timestamp":"2024-11-08T17:18:50.2167187+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.8859,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.2247435+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.2286194+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.8887,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.8887"}]}}
{"Timestamp":"2024-11-08T17:18:50.2288440+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2303976+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"613794ee48ceff64a8af3ba486f17c6b","SpanId":"40acebb6ebd812be","Properties":{"ElapsedMilliseconds":39.3474,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJI"}}
{"Timestamp":"2024-11-08T17:18:50.2329673+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2365102+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2374297+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2443264+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2454780+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2455348+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2492063+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2501470+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.4969,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2510531+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2517858+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":19.308,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3080"}]}}
{"Timestamp":"2024-11-08T17:18:50.2531145+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"203cef3f4c984f9a98a2b232377eb99e","SpanId":"c78c14ad35831c78","Properties":{"ElapsedMilliseconds":24.3201,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJJ:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJJ"}}
{"Timestamp":"2024-11-08T17:18:50.2531405+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2590139+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2607633+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":12.836,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2616181+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:50.2623788+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.56,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.5600"}]}}
{"Timestamp":"2024-11-08T17:18:50.2636086+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4fb4522ee73338157360e1a93c9daf21","SpanId":"fb2fa1c6e424b714","Properties":{"ElapsedMilliseconds":26.2261,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-14&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJK"}}
{"Timestamp":"2024-11-08T17:18:52.1526360+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1557703+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1571192+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1613719+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1670703+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1690200+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1708977+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.0925,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1722352+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1739313+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.7473,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7473"}]}}
{"Timestamp":"2024-11-08T17:18:52.1761645+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f5cfb3c226cdea869fcb9e49c87c28ca","SpanId":"1ade384e92a32bb7","Properties":{"ElapsedMilliseconds":23.6271,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJL"}}
{"Timestamp":"2024-11-08T17:18:52.1782683+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1817407+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1828103+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1907752+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1934715+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1948271+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.4417,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1963859+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.1972462+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":15.8276,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.8276"}]}}
{"Timestamp":"2024-11-08T17:18:52.1988478+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79e1eebf50db5d18b0c9c0b33c583361","SpanId":"1a5a0e89b0b740d2","Properties":{"ElapsedMilliseconds":20.6198,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJM:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJM"}}
{"Timestamp":"2024-11-08T17:18:52.3126354+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3156995+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3171724+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3192653+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3215337+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3227163+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3238201+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3298617+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3311691+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3339663+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3368108+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.3563,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3401266+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3377945+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3500478+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":35.0602,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.0602"}]}}
{"Timestamp":"2024-11-08T17:18:52.3519779+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3541664+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b71e8970229558246d96eb96ee577578","SpanId":"43f20317789d9f54","Properties":{"ElapsedMilliseconds":41.5783,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJN"}}
{"Timestamp":"2024-11-08T17:18:52.3622371+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":37.5997,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3662876+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3688319+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3714542+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3717499+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":50.3635,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.3635"}]}}
{"Timestamp":"2024-11-08T17:18:52.3733739+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3751131+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"836e067163cdc48d253f8ecc319ffce2","SpanId":"efe6f3e56471b607","Properties":{"ElapsedMilliseconds":55.8891,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJO"}}
{"Timestamp":"2024-11-08T17:18:52.3783498+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.3849077+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.3863162+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3868845+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.3885306+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3917582+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":14.8336,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3932185+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3945562+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":23.6912,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.6912"}]}}
{"Timestamp":"2024-11-08T17:18:52.3968828+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6d95280d9087516ae10aa77913958cb0","SpanId":"cf4e459399e63dbc","Properties":{"ElapsedMilliseconds":30.6761,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJP:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VJP"}}
{"Timestamp":"2024-11-08T17:18:52.3983194+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.4026062+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.4037735+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.1329,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.4047330+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:52.4056210+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":20.9731,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.9731"}]}}
{"Timestamp":"2024-11-08T17:18:52.4070544+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"33442dab8ec94f654787dc1735c7128c","SpanId":"ac0c72caef8d2c82","Properties":{"ElapsedMilliseconds":28.7429,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJQ:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJQ"}}
{"Timestamp":"2024-11-08T17:18:56.2352212+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2394821+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2401973+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2502735+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"elapsed":"3","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2604346+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2626000+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2658815+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":22.5864,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2674763+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2684285+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":29.0815,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.0815"}]}}
{"Timestamp":"2024-11-08T17:18:56.2706325+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed29372da62c4b268160920fcd16747d","SpanId":"614e7c18a20897c0","Properties":{"ElapsedMilliseconds":35.4214,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJR"}}
{"Timestamp":"2024-11-08T17:18:56.2731046+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1218","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.2747604+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.2774922+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.2906349+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.3330369+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"elapsed":"7","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.4953235+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"elapsed":"36","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.5221893+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.5238571+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":245.0682,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.5248764+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:56.5261809+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1218","StatusCode":200,"Elapsed":251.4885,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"251.4885"}]}}
{"Timestamp":"2024-11-08T17:18:56.5281801+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7edad94078bd3e7546cf089592a6f5f0","SpanId":"8d35d0a056597a13","Properties":{"ElapsedMilliseconds":255.0626,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1218","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJS:00000001","RequestPath":"/api/Schedules/1218","ConnectionId":"0HN7VRQKH1VJS"}}
{"Timestamp":"2024-11-08T17:18:57.5230822+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5268905+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5302888+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5376482+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5434093+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5488310+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5515122+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.7119,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5526526+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5532888+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":26.5339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.5339"}]}}
{"Timestamp":"2024-11-08T17:18:57.5544610+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"029240635d771905be2c2ed519576100","SpanId":"6ee4440c4490eaaa","Properties":{"ElapsedMilliseconds":31.4322,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJT"}}
{"Timestamp":"2024-11-08T17:18:57.5565174+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5601228+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5610939+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5703917+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5726505+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5737611+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":11.206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5748392+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:18:57.5757584+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":15.9073,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.9073"}]}}
{"Timestamp":"2024-11-08T17:18:57.5772195+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"727e1cc471c78425c49c8b77672b5b44","SpanId":"5298f3a067b69448","Properties":{"ElapsedMilliseconds":20.7211,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VJU"}}
{"Timestamp":"2024-11-08T17:19:38.4784928+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.4808954+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.4829084+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.4907533+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.4965490+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.4990717+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.5006833+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":15.3573,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.5023984+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.5035798+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":22.891,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.8910"}]}}
{"Timestamp":"2024-11-08T17:19:38.5064489+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"777ec680fbac34457ea786b89b388112","SpanId":"108c6aebdd82027e","Properties":{"ElapsedMilliseconds":27.8839,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VJV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VJV"}}
{"Timestamp":"2024-11-08T17:19:38.5083277+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1220","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5132754+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5141185+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5185117+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5266801+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5343851+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5383035+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5395595+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":23.979,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5416375+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:38.5430558+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1220","StatusCode":200,"Elapsed":29.8664,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.8664"}]}}
{"Timestamp":"2024-11-08T17:19:38.5457844+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38cbe32d5fc93f52996480ca2a910429","SpanId":"239bfbaa42413755","Properties":{"ElapsedMilliseconds":37.4877,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1220","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK0:00000001","RequestPath":"/api/Schedules/1220","ConnectionId":"0HN7VRQKH1VK0"}}
{"Timestamp":"2024-11-08T17:19:39.5102476+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5164036+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5187710+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5267580+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5334925+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"elapsed":"3","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5364270+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5383332+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.4434,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5400234+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5411911+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.7312,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.7312"}]}}
{"Timestamp":"2024-11-08T17:19:39.5431270+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9f3ad19f096a97db87577a2e3df4bdc","SpanId":"19d6979e87a6fd0b","Properties":{"ElapsedMilliseconds":32.9695,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK1"}}
{"Timestamp":"2024-11-08T17:19:39.5455695+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5488293+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5502308+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5613714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5633440+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5646427+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.221,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5657848+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:19:39.5666342+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.342,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.3420"}]}}
{"Timestamp":"2024-11-08T17:19:39.5678645+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0addc7ddd31476fa3786c14319e37e71","SpanId":"2f0621edc93fefa3","Properties":{"ElapsedMilliseconds":22.3011,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK2:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VK2"}}
{"Timestamp":"2024-11-08T17:20:00.4964163+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5104125+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5119450+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5182345+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5255647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5329022+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5343705+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2913,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5353848+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5359169+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":25.7357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.7357"}]}}
{"Timestamp":"2024-11-08T17:20:00.5377566+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c04c732dd8e82e0298a07e993d35fce2","SpanId":"53b2c8ee9a4f007b","Properties":{"ElapsedMilliseconds":41.4028,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK3:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK3"}}
{"Timestamp":"2024-11-08T17:20:00.5489270+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1219","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5511951+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5519445+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5552706+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5587488+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5730765+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5773566+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5785378+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":25.4622,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5815425+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:00.5828552+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1219","StatusCode":200,"Elapsed":31.733,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.7330"}]}}
{"Timestamp":"2024-11-08T17:20:00.5845749+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"17fc45b2e32e637d9a972d9d4cfa8771","SpanId":"da429ad679164f49","Properties":{"ElapsedMilliseconds":35.6668,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1219","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK4:00000001","RequestPath":"/api/Schedules/1219","ConnectionId":"0HN7VRQKH1VK4"}}
{"Timestamp":"2024-11-08T17:20:01.2253349+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2283426+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2297612+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2360065+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2417052+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2542324+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2595479+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":27.244,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2617735+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:01.2635668+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":35.3272,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.3272"}]}}
{"Timestamp":"2024-11-08T17:20:01.2651707+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"902d9363914d43335737f49508992bcc","SpanId":"b0ced95c15a74bf3","Properties":{"ElapsedMilliseconds":39.7825,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK5:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK5"}}
{"Timestamp":"2024-11-08T17:20:05.4159678+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:05.4176830+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:05.4187453+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:05.4229575+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:05.4393644+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":19.5646,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:05.4421882+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:05.4435089+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":400,"Elapsed":25.9394,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.9394"}]}}
{"Timestamp":"2024-11-08T17:20:05.4450076+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b8dbbdd649a49f0e7a622b7a1e472561","SpanId":"06893ff873d06c68","Properties":{"ElapsedMilliseconds":29.1294,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK6"}}
{"Timestamp":"2024-11-08T17:20:26.9032240+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9054914+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9064557+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9289894+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"elapsed":"4","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9367464+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9388615+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9400156+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":32.3075,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9411771+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:26.9419986+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":36.6739,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.6739"}]}}
{"Timestamp":"2024-11-08T17:20:26.9436754+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ca17726af9429560e3b906f808e0909c","SpanId":"a3054a88db928d98","Properties":{"ElapsedMilliseconds":40.4631,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK7:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VK7"}}
{"Timestamp":"2024-11-08T17:20:31.4926887+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.4948922+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.4954933+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.5011076+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.5088221+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"elapsed":"5","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.5102455+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.5111920+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.7838,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.5119984+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.5126634+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.8571,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.8571"}]}}
{"Timestamp":"2024-11-08T17:20:31.5138240+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dbe76fcc77fbf24631958d42427ea310","SpanId":"8891ddf245219fd5","Properties":{"ElapsedMilliseconds":21.1831,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK8:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK8"}}
{"Timestamp":"2024-11-08T17:20:31.6366116+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6384478+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6393487+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6462874+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6491274+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6505823+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6513962+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.6996,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6522574+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6528676+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.5039,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.5039"}]}}
{"Timestamp":"2024-11-08T17:20:31.6540064+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c2065334769a3a65e5b6ba04cb3fc46f","SpanId":"2cc7e2494184532b","Properties":{"ElapsedMilliseconds":17.4257,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VK9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VK9"}}
{"Timestamp":"2024-11-08T17:20:31.6721537+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.6806325+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.6818835+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.6849339+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.6849871+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.6896615+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.6943486+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.6961069+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.6991479+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":12.939,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.7010163+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.7017037+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":20.4503,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.4503"}]}}
{"Timestamp":"2024-11-08T17:20:31.7026594+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"430af5be3ef460c492ed24cc6483e0fc","SpanId":"946fd562a30f3ba8","Properties":{"ElapsedMilliseconds":30.5654,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKA:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKA"}}
{"Timestamp":"2024-11-08T17:20:31.7079701+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"elapsed":"15","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.7137212+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.7172790+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":26.2025,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.7192216+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:31.7213239+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":37.1111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.1111"}]}}
{"Timestamp":"2024-11-08T17:20:31.7240211+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e17fdbde44dcb8ce178bc5b38f846833","SpanId":"1c1a84c129203696","Properties":{"ElapsedMilliseconds":43.4066,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKB:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKB"}}
{"Timestamp":"2024-11-08T17:20:34.0482873+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0500272+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0510784+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0565515+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0613206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0628064+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0636671+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.5866,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0643996+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0650426+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.1736,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.1736"}]}}
{"Timestamp":"2024-11-08T17:20:34.0662141+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"898772ff2841c8c9b12eb0c58ed19611","SpanId":"eb28648753060b20","Properties":{"ElapsedMilliseconds":17.9512,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKC:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKC"}}
{"Timestamp":"2024-11-08T17:20:34.0686418+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0706515+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0713598+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0766833+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0783862+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0792176+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":6.7952,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0802085+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.0810360+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":10.7081,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.7081"}]}}
{"Timestamp":"2024-11-08T17:20:34.0830571+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9ff328bb7a073f9e268e3e565326d117","SpanId":"af47e5628f4e2195","Properties":{"ElapsedMilliseconds":14.429,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKD:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKD"}}
{"Timestamp":"2024-11-08T17:20:34.2085022+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2126193+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2136216+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2138566+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2152613+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2183457+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2213194+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2233198+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2293818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2302826+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2327894+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2350907+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2377299+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.9869,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2400281+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":20.2552,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2433186+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2451761+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2464643+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":33.9196,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.9196"}]}}
{"Timestamp":"2024-11-08T17:20:34.2477832+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":32.551,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.5510"}]}}
{"Timestamp":"2024-11-08T17:20:34.2493516+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b6710c2e5881100a8455b915bf8668d6","SpanId":"e49987e75b0e0b3f","Properties":{"ElapsedMilliseconds":40.8735,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKE:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKE"}}
{"Timestamp":"2024-11-08T17:20:34.2506943+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"24695ff60a138b8b5b78e0c6f136b4cd","SpanId":"9d785be706a07334","Properties":{"ElapsedMilliseconds":37.0733,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKF"}}
{"Timestamp":"2024-11-08T17:20:34.2566231+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2589613+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2654470+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2677194+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2679603+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2687743+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2752985+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2769183+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2776221+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"elapsed":"5","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2780725+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.1336,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2800520+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2809695+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2821526+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.4756,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2827568+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":18.7137,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.7137"}]}}
{"Timestamp":"2024-11-08T17:20:34.2836160+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:34.2849298+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c85c7cf6ff408b02b84c7d32c82ee475","SpanId":"ad5a8ec81aab8526","Properties":{"ElapsedMilliseconds":28.4271,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKG:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKG"}}
{"Timestamp":"2024-11-08T17:20:34.2859632+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.8922,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8922"}]}}
{"Timestamp":"2024-11-08T17:20:34.2900696+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7638a64a20150f91a937d59522796d0d","SpanId":"3fe4f2f7643fe9dd","Properties":{"ElapsedMilliseconds":31.1702,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKH:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKH"}}
{"Timestamp":"2024-11-08T17:20:36.9415360+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9452910+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9467692+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9525603+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9554647+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9569176+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9588073+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.6528,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9626996+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9640626+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.8436,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.8436"}]}}
{"Timestamp":"2024-11-08T17:20:36.9652682+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7ff8d78a4a03c14ad089cb73ad4ddbec","SpanId":"530ec79e9927c53d","Properties":{"ElapsedMilliseconds":23.8145,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKI:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKI"}}
{"Timestamp":"2024-11-08T17:20:36.9673227+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1222","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9696831+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9702729+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9733212+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9769818+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9892239+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9919614+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9928452+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":21.3541,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9942924+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:36.9958574+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1222","StatusCode":200,"Elapsed":26.1875,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.1875"}]}}
{"Timestamp":"2024-11-08T17:20:36.9980721+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bff72a84d82a0c5bff029578790c88ec","SpanId":"902e569af4b6a340","Properties":{"ElapsedMilliseconds":30.8071,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1222","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKJ:00000001","RequestPath":"/api/Schedules/1222","ConnectionId":"0HN7VRQKH1VKJ"}}
{"Timestamp":"2024-11-08T17:20:37.7579198+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7604548+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7616993+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7690725+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7729445+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7753571+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7763373+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.9549,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7780153+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7788102+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.6112,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6112"}]}}
{"Timestamp":"2024-11-08T17:20:37.7807061+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f22bac0471a2e02117f41fc8a44ed88a","SpanId":"eca69d975655de6d","Properties":{"ElapsedMilliseconds":22.8111,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKK:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKK"}}
{"Timestamp":"2024-11-08T17:20:37.7859692+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.7885163+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.7893134+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.7949209+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.7979878+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.7988820+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.3076,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.8001681+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:37.8008587+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":12.5689,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.5689"}]}}
{"Timestamp":"2024-11-08T17:20:37.8019917+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8448857dd4a16584bfdab9b63a5b89ab","SpanId":"8deeab9a4d068669","Properties":{"ElapsedMilliseconds":16.0402,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKL:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKL"}}
{"Timestamp":"2024-11-08T17:20:41.6399675+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6417708+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6431319+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6488332+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6533065+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6557823+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6572584+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.2267,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6584928+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6599132+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.1998,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.1998"}]}}
{"Timestamp":"2024-11-08T17:20:41.6612093+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"31b1c31915a5738800341bddc27236e1","SpanId":"1a5f2f21e71b6525","Properties":{"ElapsedMilliseconds":21.2624,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKM:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKM"}}
{"Timestamp":"2024-11-08T17:20:41.6629588+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6654030+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6664350+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6697991+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6713974+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6721994+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":3.6547,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6730162+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:41.6736599+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":8.507,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.5070"}]}}
{"Timestamp":"2024-11-08T17:20:41.6756895+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a3c60d5fcc7c6cd3b7b993871ee3741","SpanId":"0b92c8cacf6211d6","Properties":{"ElapsedMilliseconds":12.7465,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-18&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKN:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKN"}}
{"Timestamp":"2024-11-08T17:20:42.2501953+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2519166+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2532354+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2577398+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2605123+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2624798+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2636271+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.113,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2649652+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2663036+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.4538,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.4538"}]}}
{"Timestamp":"2024-11-08T17:20:42.2689352+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"deedfffc662940e8e26bee7c5a61df7c","SpanId":"976784d6be6f6a7f","Properties":{"ElapsedMilliseconds":18.7542,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKO:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKO"}}
{"Timestamp":"2024-11-08T17:20:42.2723552+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2752283+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2759416+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2782278+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2806146+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2816269+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":4.6461,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2829658+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:42.2838743+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":8.9157,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.9157"}]}}
{"Timestamp":"2024-11-08T17:20:42.2857370+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"55e6e693e34ccf8ec049b582af07e38d","SpanId":"2061b2be7c5018f9","Properties":{"ElapsedMilliseconds":13.3995,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKP:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKP"}}
{"Timestamp":"2024-11-08T17:20:56.6994665+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7023565+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7029860+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7081483+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7120585+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7153822+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7167585+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.5863,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7175282+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7181749+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.8906,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.8906"}]}}
{"Timestamp":"2024-11-08T17:20:56.7197870+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2e0546060c09174e01ce64a040ac3bab","SpanId":"bdf7587cce782b85","Properties":{"ElapsedMilliseconds":20.5961,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKQ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKQ"}}
{"Timestamp":"2024-11-08T17:20:56.7216890+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7239185+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7246353+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7299291+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7334480+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7344618+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":8.6589,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7355709+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.7363188+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":12.5814,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.5814"}]}}
{"Timestamp":"2024-11-08T17:20:56.7374661+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20ba764f0477fdc1f4232110487be305","SpanId":"c5e12f3131b576cb","Properties":{"ElapsedMilliseconds":15.7967,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKR:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKR"}}
{"Timestamp":"2024-11-08T17:20:56.8502216+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8542008+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8555390+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8649152+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8675124+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8702627+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8722488+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8740072+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8743489+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8750472+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":17.6948,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8776610+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8785228+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":24.389,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.3890"}]}}
{"Timestamp":"2024-11-08T17:20:56.8787135+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8797301+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"231c0260dd3b24cabbf9b780680cbd5b","SpanId":"6f1aad938dca8980","Properties":{"ElapsedMilliseconds":29.5526,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKS:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKS"}}
{"Timestamp":"2024-11-08T17:20:56.8853273+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8926446+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8948981+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":18.974,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8957736+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.8976364+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":25.3977,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.3977"}]}}
{"Timestamp":"2024-11-08T17:20:56.9001326+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9012540+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"73d290396443d55d673f1bf182090d44","SpanId":"f1d4ad91ff677aa2","Properties":{"ElapsedMilliseconds":33.8867,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VKT"}}
{"Timestamp":"2024-11-08T17:20:56.9035727+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9073704+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9102321+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9243405+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9259469+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9271249+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9293340+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9310405+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.8133,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9320758+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9327916+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":29.6239,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.6239"}]}}
{"Timestamp":"2024-11-08T17:20:56.9341829+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c6379e66aaeee57e0ccd868c9781094b","SpanId":"3c7760de7b6adb64","Properties":{"ElapsedMilliseconds":34.107,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKU:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VKU"}}
{"Timestamp":"2024-11-08T17:20:56.9358786+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"elapsed":"7","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9400538+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9410226+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":13.3613,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9417888+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:56.9423227+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":18.6512,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.6512"}]}}
{"Timestamp":"2024-11-08T17:20:56.9432286+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ad0ced91836d606518091725158a4ec0","SpanId":"9beaff76b17e00cc","Properties":{"ElapsedMilliseconds":36.0831,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VKV:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VKV"}}
{"Timestamp":"2024-11-08T17:20:59.5382880+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5426784+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5437744+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5488902+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5546384+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5567267+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5585525+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.7832,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5601120+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5608361+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.2346,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.2346"}]}}
{"Timestamp":"2024-11-08T17:20:59.5620908+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7979024ea73bfeee1457705ab18438eb","SpanId":"a388eb2ec3fd2064","Properties":{"ElapsedMilliseconds":23.8648,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL0:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL0"}}
{"Timestamp":"2024-11-08T17:20:59.5637910+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1213","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5704416+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5710866+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5737411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5761321+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5808479+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5833309+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5840045+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":11.8191,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5848817+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:20:59.5856393+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1213","StatusCode":200,"Elapsed":15.266,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.2660"}]}}
{"Timestamp":"2024-11-08T17:20:59.5883991+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7fceae7af2500cbf6ece201fb8bc07e5","SpanId":"05048ef21af74f84","Properties":{"ElapsedMilliseconds":24.6802,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1213","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL1:00000001","RequestPath":"/api/Schedules/1213","ConnectionId":"0HN7VRQKH1VL1"}}
{"Timestamp":"2024-11-08T17:21:00.2974932+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.2992030+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3002098+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3054209+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3105737+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3125684+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3135813+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.2564,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3150571+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3163372+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":17.1915,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.1915"}]}}
{"Timestamp":"2024-11-08T17:21:00.3181710+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"839da5206daf17d189ff3e7c7a7ef140","SpanId":"845f3b12733aa683","Properties":{"ElapsedMilliseconds":20.7104,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL2"}}
{"Timestamp":"2024-11-08T17:21:00.3209576+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3234028+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3245656+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3268748+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3286352+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3300180+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":4.4723,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3309419+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:21:00.3325351+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":9.3193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"9.3193"}]}}
{"Timestamp":"2024-11-08T17:21:00.3351416+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5b06e7f034e8865fd995db44c173495a","SpanId":"19df6b3fce2f731e","Properties":{"ElapsedMilliseconds":14.3647,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-16&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL3:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VL3"}}
{"Timestamp":"2024-11-08T17:22:14.0723448+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0800174+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0806039+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0856293+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0898449+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0942444+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0963592+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":14.7122,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0983920+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.0998147+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":19.8597,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.8597"}]}}
{"Timestamp":"2024-11-08T17:22:14.1017559+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1876f4fe0dd00144c4082a9651a95ac","SpanId":"73704ed207833d74","Properties":{"ElapsedMilliseconds":29.4454,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL4:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL4"}}
{"Timestamp":"2024-11-08T17:22:14.1041129+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1212","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1086817+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1101300+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1175411+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1212950+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1355568+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"elapsed":"10","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1392258+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1406796+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":28.2366,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1421063+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:14.1435982+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1212","StatusCode":200,"Elapsed":35.0578,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.0578"}]}}
{"Timestamp":"2024-11-08T17:22:14.1453195+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c732c93f4cfeea4d65452a0858706ccf","SpanId":"baf98c4c02f22ea8","Properties":{"ElapsedMilliseconds":41.1805,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1212","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL5:00000001","RequestPath":"/api/Schedules/1212","ConnectionId":"0HN7VRQKH1VL5"}}
{"Timestamp":"2024-11-08T17:22:15.0396408+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0413894+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0425535+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0478380+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0553766+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0567411+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0574886+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.6451,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0594940+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:15.0606937+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":19.4812,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.4812"}]}}
{"Timestamp":"2024-11-08T17:22:15.0620254+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d28d89faf41e24b120092dd1579fa67","SpanId":"ef4b1d851c5a028b","Properties":{"ElapsedMilliseconds":22.4116,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL6:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL6"}}
{"Timestamp":"2024-11-08T17:22:18.9855702+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:18.9885654+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:18.9891177+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:18.9919306+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:18.9927748+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":2.7717,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:18.9935393+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:18.9941239+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":400,"Elapsed":5.6193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5.6193"}]}}
{"Timestamp":"2024-11-08T17:22:18.9951845+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65fd78b50346d7ab86319b7b981b3624","SpanId":"67afaae894918c20","Properties":{"ElapsedMilliseconds":9.6831,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL7:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL7"}}
{"Timestamp":"2024-11-08T17:22:41.0465454+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0497219+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0503162+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"RouteData":"{action = \"Validate\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(WebCalenderAPI.Models.LoginModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0658405+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"elapsed":"7","parameters":"@__model_userName_0='?' (Size = 450), @__model_password_1='?' (Size = 500)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[UserName] = @__model_userName_0 AND [u].[Password] = @__model_password_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0752596+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefresherToken] ([Id], [ExpiredAt], [IsRevoked], [IsUsed], [IssuedAt], [JwtId], [Token], [userId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0785702+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6233827-ed75-46a1-b872-a001367b8945","ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0808143+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","ElapsedMilliseconds":28.4886,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0827749+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.Validate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:41.0863779+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/Login","StatusCode":200,"Elapsed":36.75,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.7500"}]}}
{"Timestamp":"2024-11-08T17:22:41.0891431+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4a7d71fb484ae1e42f13cffddfdd0f16","SpanId":"105ed17f70b57dd1","Properties":{"ElapsedMilliseconds":42.6216,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL8:00000001","RequestPath":"/api/User/Login","ConnectionId":"0HN7VRQKH1VL8"}}
{"Timestamp":"2024-11-08T17:22:44.6843216+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.6874732+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.6888129+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.6961960+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"elapsed":"2","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.7007685+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.7032806+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.7042137+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.7055,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.7062724+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.7077246+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":20.3057,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"20.3057"}]}}
{"Timestamp":"2024-11-08T17:22:44.7105289+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7827629c8e64f075e803f32c7bedee8","SpanId":"60155ef662b5e235","Properties":{"ElapsedMilliseconds":26.2534,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VL9:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VL9"}}
{"Timestamp":"2024-11-08T17:22:44.7980184+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8014991+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8037417+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8105004+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8136025+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8150370+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8159586+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.8118,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8173919+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8192826+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":18.1967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.1967"}]}}
{"Timestamp":"2024-11-08T17:22:44.8254410+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"35b683b45c065365078cfa120d8f0920","SpanId":"ef0702c475ba448c","Properties":{"ElapsedMilliseconds":27.4357,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLA:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLA"}}
{"Timestamp":"2024-11-08T17:22:44.8375053+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8375010+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8477617+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8513942+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8519636+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8531736+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8612364+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8615160+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8628757+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8644836+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8656007+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":10.265,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8676349+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":10.6283,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8687163+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8695508+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:44.8703826+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":22.9755,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.9755"}]}}
{"Timestamp":"2024-11-08T17:22:44.8726572+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":21.5538,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.5538"}]}}
{"Timestamp":"2024-11-08T17:22:44.8738559+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a75747ba91d2fffff3b27aca5f1bcbf9","SpanId":"81cecc0aa8ceee19","Properties":{"ElapsedMilliseconds":36.3318,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLC:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLC"}}
{"Timestamp":"2024-11-08T17:22:44.8755330+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3cbe28cb85378a763669d81ad5a72f4b","SpanId":"05ba4ba02dfd13f4","Properties":{"ElapsedMilliseconds":38.0513,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-17&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLB:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLB"}}
{"Timestamp":"2024-11-08T17:22:47.5533235+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5580767+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5595334+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5669361+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5717031+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5762395+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5791055+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":16.8326,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5807319+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5815823+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":23.7496,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.7496"}]}}
{"Timestamp":"2024-11-08T17:22:47.5824491+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"51379fb927bc48df5b4a8f91f5bf8ece","SpanId":"60bc9b0b03deed73","Properties":{"ElapsedMilliseconds":29.2347,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLD:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLD"}}
{"Timestamp":"2024-11-08T17:22:47.5847415+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5870102+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5875804+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5895879+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5912203+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5923359+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":3.8271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5933886+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.5941357+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":7.4108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7.4108"}]}}
{"Timestamp":"2024-11-08T17:22:47.5953431+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"961c1dc1ae19c2f19062f054fd8c2b62","SpanId":"8ab8908a8b7e8b95","Properties":{"ElapsedMilliseconds":10.6912,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLE:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLE"}}
{"Timestamp":"2024-11-08T17:22:47.7281570+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7305405+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7323317+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7327472+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7367597+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7372462+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7375632+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7406128+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7453649+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7460369+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7466745+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":12.8117,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7552281+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"elapsed":"6","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7562160+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7716986+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7737594+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":43.4164,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.4164"}]}}
{"Timestamp":"2024-11-08T17:22:47.7756501+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":34.5559,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7781848+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3886b225c9f016b59e870656abf5c84b","SpanId":"b768b404c582e002","Properties":{"ElapsedMilliseconds":50.0501,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLF:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLF"}}
{"Timestamp":"2024-11-08T17:22:47.7790879+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7857199+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.7879799+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":51.2773,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.2773"}]}}
{"Timestamp":"2024-11-08T17:22:47.7902023+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.7919157+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0072a5c69e369f9b2026f10b217249be","SpanId":"8e7ebef1da502158","Properties":{"ElapsedMilliseconds":59.2113,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLG:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLG"}}
{"Timestamp":"2024-11-08T17:22:47.7930517+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithHavingReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithHavingReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.7944504+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.7997263+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], [s].[FromX], [s].[FromY], [s].[ToX], [s].[ToY], [s].[Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[Reason] IS NOT NULL AND [s].[date] = @__dateTime_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.8005786+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.8016426+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"2bb5bbbb-164d-4c69-bf11-0f243ffccbb0","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.8022358+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.8030611+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","ElapsedMilliseconds":5.284,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.8051479+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithHavingReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.8060302+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.8062517+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserId","StatusCode":200,"Elapsed":16.3224,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.3224"}]}}
{"Timestamp":"2024-11-08T17:22:47.8083849+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.8097155+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b19ec73fa7416e65102984be906502c4","SpanId":"94243043c6030c7f","Properties":{"ElapsedMilliseconds":24.0547,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserId","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLH:00000001","RequestPath":"/api/Schedules/getAllDateByUserId","ConnectionId":"0HN7VRQKH1VLH"}}
{"Timestamp":"2024-11-08T17:22:47.8128275+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.6258,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.8166609+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:47.8175630+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":17.2923,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.2923"}]}}
{"Timestamp":"2024-11-08T17:22:47.8190529+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed7dfde0c70458a3b3d8a93c3c4c1e93","SpanId":"c22401323f4af00c","Properties":{"ElapsedMilliseconds":24.7409,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLI:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLI"}}
{"Timestamp":"2024-11-08T17:22:48.8734714+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8756398+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8767414+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8806024+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8833269+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8846903+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8854455+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":7.5945,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8864513+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8870758+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":11.9246,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9246"}]}}
{"Timestamp":"2024-11-08T17:22:48.8882570+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23507ae9d49941829a0d23dbe5549264","SpanId":"60b07c378b382ee6","Properties":{"ElapsedMilliseconds":14.845,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLJ:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLJ"}}
{"Timestamp":"2024-11-08T17:22:48.8902272+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.8945653+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.8953995+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.8977423+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.8993070+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.9000792+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":3.6514,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.9009019+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.9015622+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":7.3756,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7.3756"}]}}
{"Timestamp":"2024-11-08T17:22:48.9025768+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fa7c9115aab5548a4df443564919820b","SpanId":"2a19ad0c31693eee","Properties":{"ElapsedMilliseconds":12.3642,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLK:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLK"}}
{"Timestamp":"2024-11-08T17:22:48.9155402+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9168861+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9174362+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9209046+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9230269+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9250025+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9263867+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":8.0411,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9281716+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9294529+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":12.5871,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.5871"}]}}
{"Timestamp":"2024-11-08T17:22:48.9314208+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7d401f677456a09080fcb18ec8d27a9","SpanId":"720a510384216fc0","Properties":{"ElapsedMilliseconds":15.8775,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLL:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLL"}}
{"Timestamp":"2024-11-08T17:22:48.9367235+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:48.9410256+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:48.9445377+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:48.9901182+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"elapsed":"23","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:49.0163984+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"elapsed":"5","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:49.0199094+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:49.0218300+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":75.4357,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:49.0231497+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:49.0241964+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":83.5662,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"83.5662"}]}}
{"Timestamp":"2024-11-08T17:22:49.0257453+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44605f530f186049269f9b8787a5f711","SpanId":"3a8a3526c735e175","Properties":{"ElapsedMilliseconds":89.045,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLM:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLM"}}
{"Timestamp":"2024-11-08T17:22:49.8108819+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8125653+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8133836+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8177498+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"elapsed":"0","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8209003+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8229663+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8240727+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.4428,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8252922+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8264254+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":13.9585,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.9585"}]}}
{"Timestamp":"2024-11-08T17:22:49.8299320+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5d3b6168c3c9fe6b50b3b6a96bd8cbb","SpanId":"68c5e1bbd932d342","Properties":{"ElapsedMilliseconds":19.0772,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLN:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLN"}}
{"Timestamp":"2024-11-08T17:22:49.8358026+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8411198+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8424495+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8465135+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8486171+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8498051+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":5.3764,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8509682+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8521335+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":11.4791,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.4791"}]}}
{"Timestamp":"2024-11-08T17:22:49.8537933+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"66dae85bf0ee024a69e4c68b908d9758","SpanId":"e521c3e18e41c471","Properties":{"ElapsedMilliseconds":18.1582,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLO:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLO"}}
{"Timestamp":"2024-11-08T17:22:49.8572920+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8597691+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8610307+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8681990+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8712596+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8726503+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8734342+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":9.7553,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8742119+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8748444+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":15.3752,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.3752"}]}}
{"Timestamp":"2024-11-08T17:22:49.8759552+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ad23e005faf7ecadbf588cd213134c9","SpanId":"d8e006b4a5a2b20a","Properties":{"ElapsedMilliseconds":18.7615,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLP:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLP"}}
{"Timestamp":"2024-11-08T17:22:49.8795330+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":39,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8815295+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8821397+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"RouteData":"{action = \"AddScheduleWithDate\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddScheduleWithDate(WebCalenderAPI.Models.ScheduleMeta)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8871118+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedules] ([FromX], [FromY], [Reason], [ToX], [ToY], [date])\r\nOUTPUT INSERTED.[Id]\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8906206+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [Schedule_User] ([schedule_id], [user_id])\r\nOUTPUT INSERTED.[id]\r\nVALUES (@p0, @p1);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8927365+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ScheduleVM","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"8674ed45-a103-4716-8e6c-ec25af289239","ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8938357+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","ElapsedMilliseconds":10.6736,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8949560+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.AddScheduleWithDate (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:49.8960464+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"RequestMethod":"POST","RequestPath":"/api/Schedules/insertByDate","StatusCode":200,"Elapsed":14.6646,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.6646"}]}}
{"Timestamp":"2024-11-08T17:22:49.8978163+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"99d61aaab85745ed3b451ebfbd743354","SpanId":"4a01025ca89d4e36","Properties":{"ElapsedMilliseconds":18.3534,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/insertByDate","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLQ:00000001","RequestPath":"/api/Schedules/insertByDate","ConnectionId":"0HN7VRQKH1VLQ"}}
{"Timestamp":"2024-11-08T17:22:51.7536760+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7580499+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7587341+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7649714+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7688210+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"elapsed":"1","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7703408+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7712392+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":10.9738,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7722819+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7729638+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":14.9952,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.9952"}]}}
{"Timestamp":"2024-11-08T17:22:51.7745298+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87dc54de8a748f4f2e596ac9d1b89021","SpanId":"2c23f3da5850c80a","Properties":{"ElapsedMilliseconds":21.8388,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLR:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLR"}}
{"Timestamp":"2024-11-08T17:22:51.7759973+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1224","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.7814828+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.7825607+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.7864246+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.7896505+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.7974508+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.8014153+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.8024273+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":17.9692,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.8032845+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:51.8040441+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1224","StatusCode":200,"Elapsed":22.6998,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.6998"}]}}
{"Timestamp":"2024-11-08T17:22:51.8052906+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4b995924463e69df2ded5d226e995c55","SpanId":"b5bf581d0404e674","Properties":{"ElapsedMilliseconds":29.3744,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1224","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLS:00000001","RequestPath":"/api/Schedules/1224","ConnectionId":"0HN7VRQKH1VLS"}}
{"Timestamp":"2024-11-08T17:22:52.4154639+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4185095+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4212772+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4275284+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4337545+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4357359+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"ObjectResultType":"ObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4366708+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":13.5502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4374444+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4380689+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":409,"Elapsed":19.6675,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6675"}]}}
{"Timestamp":"2024-11-08T17:22:52.4393477+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"83a5d97505876e35a87ffa7b52093c0b","SpanId":"320283df307319fe","Properties":{"ElapsedMilliseconds":24.0002,"StatusCode":409,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLT:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLT"}}
{"Timestamp":"2024-11-08T17:22:52.4412392+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4449717+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4465237+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"RouteData":"{action = \"GetByDateTimeByUserIdWithoutReason\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult GetByDateTimeByUserIdWithoutReason(System.DateTime, Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4527650+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"elapsed":"4","parameters":"@__userId_0='?' (DbType = Int32), @__dateTime_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[Id], [s].[date] AS [Date], CASE\r\n    WHEN [s].[FromX] IS NOT NULL THEN [s].[FromX]\r\n    ELSE 0\r\nEND AS [FromX], CASE\r\n    WHEN [s].[FromY] IS NOT NULL THEN [s].[FromY]\r\n    ELSE 0\r\nEND AS [FromY], CASE\r\n    WHEN [s].[ToX] IS NOT NULL THEN [s].[ToX]\r\n    ELSE 0\r\nEND AS [ToX], CASE\r\n    WHEN [s].[ToY] IS NOT NULL THEN [s].[ToY]\r\n    ELSE 0\r\nEND AS [ToY], CASE\r\n    WHEN [s].[Reason] IS NOT NULL THEN [s].[Reason]\r\n    ELSE N''\r\nEND AS [Reason]\r\nFROM [Schedules] AS [s]\r\nINNER JOIN [Schedule_User] AS [s0] ON [s].[Id] = [s0].[schedule_id]\r\nWHERE [s0].[user_id] = @__userId_0 AND [s].[date] = @__dateTime_1 AND [s0].[schedule_id] = [s].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4553572+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[WebCalenderAPI.Models.ScheduleVM, WebCalenderAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"fc99863d-249d-463c-850a-f06f4d12f49e","ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4562179+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","ElapsedMilliseconds":8.2385,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4571953+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.GetByDateTimeByUserIdWithoutReason (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:22:52.4581002+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"RequestMethod":"GET","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","StatusCode":200,"Elapsed":13.5674,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"13.5674"}]}}
{"Timestamp":"2024-11-08T17:22:52.4592750+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"603bda6ab4b08bb504db9f1431dc4ef7","SpanId":"e9df3f7276df560f","Properties":{"ElapsedMilliseconds":18.08,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/getAllDateByUserIdWithoutReason","QueryString":"?dateTime=2024-11-21&userId=1","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLU:00000001","RequestPath":"/api/Schedules/getAllDateByUserIdWithoutReason","ConnectionId":"0HN7VRQKH1VLU"}}
{"Timestamp":"2024-11-08T17:24:43.7931163+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.7961931+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.7974438+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8143360+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"elapsed":"8","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8200393+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"elapsed":"4","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8238941+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"ObjectResultType":"OkObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8265011+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":24.8927,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8277027+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8284429+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":200,"Elapsed":32.4255,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.4255"}]}}
{"Timestamp":"2024-11-08T17:24:43.8296652+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb330a81d4f2fe63a34d6e291edf92b1","SpanId":"ce70520d331162b1","Properties":{"ElapsedMilliseconds":36.6225,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VLV:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VLV"}}
{"Timestamp":"2024-11-08T17:24:43.8315812+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1223","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8349873+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8357981+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"RouteData":"{action = \"Delete\", controller = \"Schedules\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32)","Controller":"WebCalenderAPI.Controllers.SchedulesController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8410255+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [s].[Id], [s].[FromX], [s].[FromY], [s].[Reason], [s].[ToX], [s].[ToY], [s].[date]\r\nFROM [Schedules] AS [s]\r\nWHERE [s].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8491848+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"elapsed":"5","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[user_id], [s].[schedule_id], [s].[id]\r\nFROM [Schedule_User] AS [s]\r\nWHERE [s].[schedule_id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8565955+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"elapsed":"4","parameters":"@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [Schedule_User]\r\nOUTPUT 1\r\nWHERE [schedule_id] = @p0 AND [user_id] = @p1;\r\nDELETE FROM [Schedules]\r\nOUTPUT 1\r\nWHERE [Id] = @p2;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8616966+07:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"beb9400a-d262-43e6-b099-979aeceeb40d","ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8631262+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"ActionName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","ElapsedMilliseconds":26.0356,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8641648+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"EndpointName":"WebCalenderAPI.Controllers.SchedulesController.Delete (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:43.8648977+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"RequestMethod":"DELETE","RequestPath":"/api/Schedules/1223","StatusCode":200,"Elapsed":29.9525,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.9525"}]}}
{"Timestamp":"2024-11-08T17:24:43.8662156+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6b38c093ef037467c90613d0a93741c3","SpanId":"ea2d3231ffa78f25","Properties":{"ElapsedMilliseconds":34.6537,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/Schedules/1223","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VM0:00000001","RequestPath":"/api/Schedules/1223","ConnectionId":"0HN7VRQKH1VM0"}}
{"Timestamp":"2024-11-08T17:24:44.5586282+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":468,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5603857+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5612346+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5680833+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"elapsed":"1","parameters":"@__model_RefreshToken_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[ExpiredAt], [r].[IsRevoked], [r].[IsUsed], [r].[IssuedAt], [r].[JwtId], [r].[Token], [r].[userId], [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [RefresherToken] AS [r]\r\nINNER JOIN [User] AS [u] ON [r].[userId] = [u].[Id]\r\nWHERE [r].[Token] = @__model_RefreshToken_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5717864+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"elapsed":"2","parameters":"@__storedToken_user_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [u].[Id], [u].[Email], [u].[FullName], [u].[Password], [u].[UserName]\r\nFROM [User] AS [u]\r\nWHERE [u].[Id] = @__storedToken_user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5733592+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"ObjectResultType":"UnauthorizedObjectResult","Type":"WebCalenderAPI.Models.ApiResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5741651+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":11.6554,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5752746+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:44.5764225+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":401,"Elapsed":16.1299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.1299"}]}}
{"Timestamp":"2024-11-08T17:24:44.5779064+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8addd1bba8baa639a1f42699603f440a","SpanId":"ea02cae7a3c60e4c","Properties":{"ElapsedMilliseconds":19.3698,"StatusCode":401,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VM1:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM1"}}
{"Timestamp":"2024-11-08T17:24:48.9383474+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":40,"Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
{"Timestamp":"2024-11-08T17:24:48.9403917+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
{"Timestamp":"2024-11-08T17:24:48.9412475+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"RouteData":"{action = \"RenewToken\", controller = \"User\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewToken(WebCalenderAPI.Models.TokenModel)","Controller":"WebCalenderAPI.Controllers.UserController","AssemblyName":"WebCalenderAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
{"Timestamp":"2024-11-08T17:24:48.9439328+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7239b15b-2ab4-4681-8df9-d8ff16a21047","ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
{"Timestamp":"2024-11-08T17:24:48.9450782+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"ActionName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","ElapsedMilliseconds":2.6282,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
{"Timestamp":"2024-11-08T17:24:48.9459430+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"EndpointName":"WebCalenderAPI.Controllers.UserController.RenewToken (WebCalenderAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
{"Timestamp":"2024-11-08T17:24:48.9466639+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"RequestMethod":"POST","RequestPath":"/api/User/RenewToken","StatusCode":400,"Elapsed":6.4016,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6.4016"}]}}
{"Timestamp":"2024-11-08T17:24:48.9477234+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a2bcf76298d02702b9fdb5978610a8c","SpanId":"2589bb985beb34fe","Properties":{"ElapsedMilliseconds":9.4306,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5112","PathBase":"","Path":"/api/User/RenewToken","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN7VRQKH1VM2:00000001","RequestPath":"/api/User/RenewToken","ConnectionId":"0HN7VRQKH1VM2"}}
